function Plugin(t,e){this.element=t,this.options=$.extend({},defaults,e),this._defaults=defaults,this.ns="."+pluginName+id++,this.isGoodBrowser=Boolean(t.setSelectionRange),this.hadInitialPlaceholder=Boolean($(t).attr("placeholder")),this._name=pluginName,this.init()}define("flight/lib/registry",[],function(){function t(t,e){var i,n,r,a=e.length;return"function"==typeof e[a-1]&&(a-=1,r=e[a]),"object"==typeof e[a-1]&&(a-=1),2==a?(i=e[0],n=e[1]):(i=t.node,n=e[0]),{element:i,type:n,callback:r}}function e(t,e){return t.element==e.element&&t.type==e.type&&(null==e.callback||t.callback==e.callback)}function i(){function i(t){this.component=t,this.attachedTo=[],this.instances={},this.addInstance=function(t){var e=new n(t);return this.instances[t.identity]=e,this.attachedTo.push(t.node),e},this.removeInstance=function(t){delete this.instances[t.identity];var e=this.attachedTo.indexOf(t.node);e>-1&&this.attachedTo.splice(e,1),Object.keys(this.instances).length||r.removeComponentInfo(this)},this.isAttachedTo=function(t){return this.attachedTo.indexOf(t)>-1}}function n(t){this.instance=t,this.events=[],this.addBind=function(t){this.events.push(t),r.events.push(t)},this.removeBind=function(t){for(var i,n=0;i=this.events[n];n++)e(i,t)&&this.events.splice(n,1)}}var r=this;(this.reset=function(){this.components=[],this.allInstances={},this.events=[]}).call(this),this.addInstance=function(t){var e=this.findComponentInfo(t);e||(e=new i(t.constructor),this.components.push(e));var n=e.addInstance(t);return this.allInstances[t.identity]=n,e},this.removeInstance=function(t){var e=this.findComponentInfo(t);e&&e.removeInstance(t),delete this.allInstances[t.identity]},this.removeComponentInfo=function(t){var e=this.components.indexOf(t);e>-1&&this.components.splice(e,1)},this.findComponentInfo=function(t){for(var e,i=t.attachTo?t:t.constructor,n=0;e=this.components[n];n++)if(e.component===i)return e;return null},this.findInstanceInfo=function(t){return this.allInstances[t.identity]||null},this.getBoundEventNames=function(t){return this.findInstanceInfo(t).events.map(function(t){return t.type})},this.findInstanceInfoByNode=function(t){var e=[];return Object.keys(this.allInstances).forEach(function(i){var n=this.allInstances[i];n.instance.node===t&&e.push(n)},this),e},this.on=function(e){for(var i,n=r.findInstanceInfo(this),a=arguments.length,s=1,o=new Array(a-1);a>s;s++)o[s-1]=arguments[s];if(n){i=e.apply(null,o),i&&(o[o.length-1]=i);var l=t(this,o);n.addBind(l)}},this.off=function(){var i=t(this,arguments),n=r.findInstanceInfo(this);n&&n.removeBind(i);for(var a,s=0;a=r.events[s];s++)e(a,i)&&r.events.splice(s,1)},r.trigger=function(){},this.teardown=function(){r.removeInstance(this)},this.withRegistration=function(){this.after("initialize",function(){r.addInstance(this)}),this.around("on",r.on),this.after("off",r.off),window.DEBUG&&DEBUG.enabled&&this.after("trigger",r.trigger),this.after("teardown",{obj:r,fnName:"teardown"})}}return new i}),define("flight/lib/debug",["./registry"],function(t){function e(t,i,n){n=n||{};var r=n.obj||window,a=n.path||(r==window?"window":""),s=Object.keys(r);s.forEach(function(n){(m[t]||t)(i,r,n)&&console.log([a,".",n].join(""),"->",["(",typeof r[n],")"].join(""),r[n]),"[object Object]"==Object.prototype.toString.call(r[n])&&r[n]!=r&&-1==a.split(".").indexOf(n)&&e(t,i,{obj:r[n],path:[a,n].join(".")})})}function i(t,i,n,r){i&&typeof n!=i?console.error([n,"must be",i].join(" ")):e(t,n,r)}function n(t,e){i("name","string",t,e)}function r(t,e){i("nameContains","string",t,e)}function a(t,e){i("type","function",t,e)}function s(t,e){i("value",null,t,e)}function o(t,e){i("valueCoerced",null,t,e)}function l(t,i){e(t,null,i)}function d(){var t=[].slice.call(arguments);v.eventNames.length||(v.eventNames=g),v.actions=t.length?t:g,p()}function c(){var t=[].slice.call(arguments);v.actions.length||(v.actions=g),v.eventNames=t.length?t:g,p()}function u(){v.actions=[],v.eventNames=[],p()}function h(){v.actions=g,v.eventNames=g,p()}function p(){try{window.localStorage&&(localStorage.setItem("logFilter_eventNames",v.eventNames),localStorage.setItem("logFilter_actions",v.actions))}catch(t){}}function f(){var t,e;try{t=window.localStorage&&localStorage.getItem("logFilter_eventNames"),e=window.localStorage&&localStorage.getItem("logFilter_actions")}catch(i){return}t&&(v.eventNames=t),e&&(v.actions=e),Object.keys(v).forEach(function(t){var e=v[t];"string"==typeof e&&e!==g&&(v[t]=e?e.split(","):[])})}var m={name:function(t,e,i){return t==i},nameContains:function(t,e,i){return i.indexOf(t)>-1},type:function(t,e,i){return e[i]instanceof t},value:function(t,e,i){return e[i]===t},valueCoerced:function(t,e,i){return e[i]==t}},g="all",v={eventNames:[],actions:[]};return{enable:function(t){this.enabled=!!t,t&&window.console&&(console.info("Booting in DEBUG mode"),console.info("You can configure event logging with DEBUG.events.logAll()/logNone()/logByName()/logByAction()")),f(),window.DEBUG=this},warn:function(){if(window.console){var t=console.warn||console.log,e=[].slice.call(arguments);e.unshift(this.toString()+":"),t.apply(console,e)}},registry:t,find:{byName:n,byNameContains:r,byType:a,byValue:s,byValueCoerced:o,custom:l},events:{logFilter:v,logByAction:d,logByName:c,logAll:h,logNone:u}}}),define("flight/lib/utils",["./debug"],function(t){function e(){var e=t.enabled&&!Object.propertyIsEnumerable("getOwnPropertyDescriptor");if(e)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(i){return!1}return e}var i=100,n={isDomObj:function(t){return!(!t.nodeType&&t!==window)},toArray:function(t,e){e=e||0;for(var i=t.length,n=new Array(i-e),r=e;i>r;r++)n[r-e]=t[r];return n},merge:function(){var t=arguments.length,e=new Array(t+1);if(0===t)return{};for(var i=0;t>i;i++)e[i+1]=arguments[i];return e[0]={},e[e.length-1]===!0&&(e.pop(),e.unshift(!0)),$.extend.apply(void 0,e)},push:function(t,e,i){return t&&Object.keys(e||{}).forEach(function(n){if(t[n]&&i)throw new Error('utils.push attempted to overwrite "'+n+'" while running in protected mode');"object"==typeof t[n]&&"object"==typeof e[n]?this.push(t[n],e[n]):t[n]=e[n]},this),t},getEnumerableProperty:function(t,e){return t.propertyIsEnumerable(e)?t[e]:void 0},compose:function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},uniqueArray:function(t){for(var e={},i=[],n=0,r=t.length;r>n;++n)e.hasOwnProperty(t[n])||(i.push(t[n]),e[t[n]]=1);return i},debounce:function(t,e,n){"number"!=typeof e&&(e=i);var r,a;return function(){var i=this,s=arguments,o=function(){r=null,n||(a=t.apply(i,s))},l=n&&!r;return r&&clearTimeout(r),r=setTimeout(o,e),l&&(a=t.apply(i,s)),a}},throttle:function(t,e){"number"!=typeof e&&(e=i);var n,r,a,s,o,l,d=this.debounce(function(){o=s=!1},e);return function(){n=this,r=arguments;var i=function(){a=null,o&&(l=t.apply(n,r)),d()};return a||(a=setTimeout(i,e)),s?o=!0:(s=!0,l=t.apply(n,r)),d(),l}},countThen:function(t,e){return function(){return--t?void 0:e.apply(this,arguments)}},delegate:function(t){return function(e,i){var n,r=$(e.target);Object.keys(t).forEach(function(a){return!e.isPropagationStopped()&&(n=r.closest(a)).length?(i=i||{},e.currentTarget=i.el=n[0],t[a].apply(this,[e,i])):void 0},this)}},once:function(t){var e,i;return function(){return e?i:(e=!0,i=t.apply(this,arguments))}},propertyWritability:function(t,i,n){e()&&t.hasOwnProperty(i)&&Object.defineProperty(t,i,{writable:n})},mutateProperty:function(t,i,n){var r;return e()&&t.hasOwnProperty(i)?(r=Object.getOwnPropertyDescriptor(t,i).writable,Object.defineProperty(t,i,{writable:!0}),n.call(t),void Object.defineProperty(t,i,{writable:r})):void n.call(t)}};return n}),define("flight/lib/advice",["./utils"],function(t){var e={around:function(t,e){return function(){var i=0,n=arguments.length,r=new Array(n+1);for(r[0]=t.bind(this);n>i;i++)r[i+1]=arguments[i];return e.apply(this,r)}},before:function(t,e){var i="function"==typeof e?e:e.obj[e.fnName];return function(){return i.apply(this,arguments),t.apply(this,arguments)}},after:function(t,e){var i="function"==typeof e?e:e.obj[e.fnName];return function(){var e=(t.unbound||t).apply(this,arguments);return i.apply(this,arguments),e}},withAdvice:function(){["before","after","around"].forEach(function(i){this[i]=function(n,r){var a=n.trim().split(" ");a.forEach(function(n){t.mutateProperty(this,n,function(){return"function"==typeof this[n]?this[n]=e[i](this[n],r):this[n]=r,this[n]})},this)}},this)}};return e}),define("flight/lib/compose",["./utils"],function(t){function e(e,i){Object.keys(e).forEach(function(r){n.indexOf(r)<0&&t.propertyWritability(e,r,i)})}function i(t,i){t.mixedIn=Object.prototype.hasOwnProperty.call(t,"mixedIn")?t.mixedIn:[];for(var n=0;n<i.length;n++)-1==t.mixedIn.indexOf(i[n])&&(e(t,!1),i[n].call(t),t.mixedIn.push(i[n]));e(t,!0)}var n=["mixedIn","attrDef"];return{mixin:i}}),define("flight/lib/base",["./utils","./registry","./debug"],function(t,e,i){function n(t){t.events.slice().forEach(function(t){var e=[t.type];t.element&&e.unshift(t.element),"function"==typeof t.callback&&e.push(t.callback),this.off.apply(this,e)},t.instance)}function r(t,e){try{window.postMessage(e,"*")}catch(n){i.warn.call(this,['Event "',t,'" was triggered with non-serializable data. ',"Flight recommends you avoid passing non-serializable data in events."].join(""))}}function a(t){i.warn.call(this,['Attribute "',t,'" defaults to an array or object. ',"Enclose this in a function to avoid sharing between component instances."].join(""))}function s(t){var e,n=[];if(this.attr=new this.attrDef,i.enabled&&window.console){for(var r in this.attrDef.prototype)n.push(r);e=Object.keys(t);for(var s=e.length-1;s>=0;s--)if(-1==n.indexOf(e[s])){i.warn.call(this,'Passed unused attribute "'+e[s]+'".');break}}for(var r in this.attrDef.prototype){if("undefined"==typeof t[r]){if(null===this.attr[r])throw new Error('Required attribute "'+r+'" not specified in attachTo for component "'+this.toString()+'".');i.enabled&&"object"==typeof this.attr[r]&&a.call(this,r)}else this.attr[r]=t[r];"function"==typeof this.attr[r]&&(this.attr[r]=this.attr[r].call(this))}}function o(t){i.enabled&&i.warn.call(this,"defaultAttrs will be removed in a future version. Please use attributes.");var e=Object.create(t);for(var n in this.defaults)t.hasOwnProperty(n)||(e[n]=this.defaults[n],i.enabled&&"object"==typeof this.defaults[n]&&a.call(this,n));this.attr=e,Object.keys(this.defaults||{}).forEach(function(t){if(null===this.defaults[t]&&null===this.attr[t])throw new Error('Required attribute "'+t+'" not specified in attachTo for component "'+this.toString()+'".')},this)}function l(t){return function(e,i){$(e.target).trigger(t,i)}}function d(){this.trigger=function(){var t,e,n,a,s,o=arguments.length-1,l=arguments[o];return"string"==typeof l||l&&l.defaultBehavior||(o--,n=l),1==o?(t=$(arguments[0]),a=arguments[1]):(t=this.$node,a=arguments[0]),a.defaultBehavior&&(s=a.defaultBehavior,a=$.Event(a.type)),e=a.type||a,i.enabled&&window.postMessage&&r.call(this,e,n),"object"==typeof this.attr.eventData&&(n=$.extend(!0,{},this.attr.eventData,n)),t.trigger(a||e,n),s&&!a.isDefaultPrevented()&&(this[s]||s).call(this,a,n),t},this.on=function(){var e,i,n,r,a=arguments.length-1,s=arguments[a];if(r="object"==typeof s?t.delegate(this.resolveDelegateRules(s)):"string"==typeof s?l(s):s,2==a?(e=$(arguments[0]),i=arguments[1]):(e=this.$node,i=arguments[0]),"function"!=typeof r&&"object"!=typeof r)throw new Error('Unable to bind to "'+i+'" because the given callback is not a function or an object');return n=r.bind(this),n.target=r,n.context=this,e.on(i,n),r.bound||(r.bound=[]),r.bound.push(n),n},this.off=function(){var t,i,n,r=arguments.length-1;if("function"==typeof arguments[r]&&(n=arguments[r],r-=1),1==r?(t=$(arguments[0]),i=arguments[1]):(t=this.$node,i=arguments[0]),n){var a=n.target?n.target.bound:n.bound||[];a&&a.some(function(t,e,i){return t.context&&this.identity==t.context.identity?(i.splice(e,1),n=t,!0):void 0},this),t.off(i,n)}else e.findInstanceInfo(this).events.forEach(function(e){i==e.type&&t.off(i,e.callback)});return t},this.resolveDelegateRules=function(t){var e={};return Object.keys(t).forEach(function(i){if(!(i in this.attr))throw new Error('Component "'+this.toString()+'" wants to listen on "'+i+'" but no such attribute was defined.');e[this.attr[i]]="string"==typeof t[i]?l(t[i]):t[i]},this),e},this.select=function(t){return this.$node.find(this.attr[t])},this.attributes=function(t){var e=function(){};this.attrDef&&(e.prototype=new this.attrDef);for(var i in t)e.prototype[i]=t[i];this.attrDef=e},this.defaultAttrs=function(e){t.push(this.defaults,e,!0)||(this.defaults=e)},this.initialize=function(t,e){if(e=e||{},this.identity||(this.identity=c++),!t)throw new Error("Component needs a node");return t.jquery?(this.node=t[0],this.$node=t):(this.node=t,this.$node=$(t)),this.attrDef?s.call(this,e):o.call(this,e),this},this.teardown=function(){n(e.findInstanceInfo(this))}}var c=0;return d}),define("flight/lib/logger",["./utils"],function(t){function e(t){var e=t.tagName?t.tagName.toLowerCase():t.toString(),i=t.className?"."+t.className:"",n=e+i;return t.tagName?["'","'"].join(n):n}function i(t,i,n){if(window.DEBUG&&window.DEBUG.enabled){var a,s,o,l,d,c,u,h,p,f;"function"==typeof n[n.length-1]&&(l=n.pop(),l=l.unbound||l),1==n.length?(o=i.$node[0],s=n[0]):2!=n.length||"object"!=typeof n[1]||n[1].type?(o=n[0],s=n[1],"trigger"==t&&(d=n[2])):(o=i.$node[0],s=n[0],"trigger"==t&&(d=n[1])),a="object"==typeof s?s.type:s,c=window.DEBUG.events.logFilter,h="all"==c.actions||c.actions.indexOf(t)>-1,u=function(t){return t.test?t:new RegExp("^"+t.replace(/\*/g,".*")+"$")},p="all"==c.eventNames||c.eventNames.some(function(t){return u(t).test(a)}),h&&p&&(f=[r[t],t,"["+a+"]"],d&&f.push(d),f.push(e(o)),f.push(i.constructor.describe.split(" ").slice(0,3).join(" ")),console.groupCollapsed&&"trigger"==t&&console.groupCollapsed(t,a),Function.prototype.apply.call(console.info,console,f))}}function n(){this.before("trigger",function(){i("trigger",this,t.toArray(arguments))}),console.groupCollapsed&&this.after("trigger",function(){console.groupEnd()}),this.before("on",function(){i("on",this,t.toArray(arguments))}),this.before("off",function(){i("off",this,t.toArray(arguments))})}var r={on:"<-",trigger:"->",off:"x "};return n}),define("flight/lib/component",["./advice","./utils","./compose","./base","./registry","./logger","./debug"],function(t,e,i,n,r,a,s){function o(){var t=r.findComponentInfo(this);t&&Object.keys(t.instances).forEach(function(e){var i=t.instances[e];i&&i.instance&&i.instance.teardown()})}function l(t){for(var i=arguments.length,n=new Array(i-1),a=1;i>a;a++)n[a-1]=arguments[a];if(!t)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var s=e.merge.apply(e,n),o=r.findComponentInfo(this);$(t).each(function(t,e){o&&o.isAttachedTo(e)||(new this).initialize(e,s)}.bind(this))}function d(){var t=this.mixedIn||this.prototype.mixedIn||[];return t.map(function(t){if(null==t.name){var e=t.toString().match(u);return e&&e[1]?e[1]:""}return h[t.name]?"":t.name}).filter(Boolean).join(", ")}function c(){for(var u=arguments.length,h=new Array(u),p=0;u>p;p++)h[p]=arguments[p];var f=function(){};return f.toString=f.prototype.toString=d,s.enabled&&(f.describe=f.prototype.describe=f.toString()),f.attachTo=l,f.mixin=function(){var t=c(),n=Object.create(f.prototype);return n.mixedIn=[].concat(f.prototype.mixedIn),n.defaults=e.merge(f.prototype.defaults),n.attrDef=f.prototype.attrDef,i.mixin(n,arguments),t.prototype=n,t.prototype.constructor=t,t},f.teardownAll=o,s.enabled&&h.unshift(a),h.unshift(n,t.withAdvice,r.withRegistration),i.mixin(f.prototype,h),f}var u=/function (.*?)\s?\(/,h={withBase:!0,withLogging:!0};return c.teardownAll=function(){r.components.slice().forEach(function(t){t.component.teardownAll()}),r.reset()},c}),define("$app/ui/shared/flash_message",["flight/lib/component"],function(t){function e(){this.defaultAttrs({messageSelector:".js-message"}),this.showFlashMessage=function(t,e){this.select("messageSelector").text(e.message),this.$node.addClass("showing"),setTimeout(function(){this.hideFlashMessage()}.bind(this),e.delay?e.delay:5e3)},this.initializeFlashMessage=function(){var t=this.select("messageSelector");t.text().length>0&&this.trigger("uiShowFlashMessage",{message:t.text()})},this.hideFlashMessage=function(){this.$node.removeClass("showing")},this.after("initialize",function(){this.on(document,"uiShowFlashMessage",this.showFlashMessage),this.initializeFlashMessage(),this.on("click",{messageSelector:this.hideFlashMessage})})}return t(e)}),define("$app/ui/shared/link_with_event_tracking",["flight/lib/component"],function(t){function e(){this.trackUserClick=function(t){this.trigger("uiNeedsToTrackUserActionEvent",{name:$(t.target).data("event-name")})},this.after("initialize",function(){this.on("click",this.trackUserClick)})}return t(e)}),define("$app/ui/shared/click_to_select",["flight/lib/component"],function(t){function e(){this.selectAll=function(t){return this.$node.select(),!1},this.after("initialize",function(){this.on("click",this.selectAll)})}return t(e)}),define("$app/ui/shared/tippable_elements",["flight/lib/component"],function(t){function e(){this.defaultAttrs({tipsyElementsSelector:".tippable",tipsysSelector:".tipsy"}),this.tipsyElements=function(){this.select("tipsyElementsSelector").each(function(){var t=$(this);t.tipsy({trigger:t.data("tipsy-trigger")||"hover",gravity:t.data("tipsy-gravity")||"w",html:"true"})})},this.hideTipsyElements=function(){this.select("tipsysSelector").hide()},this.after("initialize",function(){this.tipsyElements(),this.on(document,"uiShouldTipsyElements",this.tipsyElements),this.on(document,"uiShouldHideTipsys",this.hideTipsyElements)})}return t(e)}),define("$app/ui/shared/upgrade_gate_triggers",["flight/lib/component"],function(t){function e(){function t(t){return t.data("gated")}this.defaultAttrs({upgradeGateTriggerSelector:".js-upgrade-gate-trigger",upgradeGatePopoverSelector:".js-upgrade-gate-popover",upgradeMessageSelector:".js-upgrade-message"}),this.disableGateTriggers=function(){this.select("upgradeGateTriggerSelector").each(function(){var e=$(this);t(e)&&e.attr("disabled",!0)})},this.shakeTrigger=function(e){var i=$(e.target||e.srcElement);t(i)?(e.preventDefault(),e.stopPropagation(),$target.hasClass("button")&&(i.removeClass("shake"),setTimeout(function(){i.addClass("shake")},0))):this.hidePopover()},this.showPopover=function(t){var e=$(t.target||t.srcElement),i=this.select("upgradeGatePopoverSelector");e.data("gate-message")&&e.data("gate-message").length>0&&(this.select("upgradeMessageSelector").text(e.data("gate-message")),i.css({top:e.offset().top+e.outerHeight()+15,left:e.offset().left-i.outerWidth()/2+e.outerWidth()/2}),i.addClass("showing"),clearTimeout(this.attr.hidePopoverTimeout))},this.hidePopover=function(){this.attr.hidePopoverTimeout=setTimeout(function(){var t=this.select("upgradeGatePopoverSelector");t.is(":hover")||this.select("upgradeGatePopoverSelector").removeClass("showing")}.bind(this),400)},this.after("initialize",function(){this.disableGateTriggers(),this.on(document,"uiShouldDisableGateTriggers",this.disableGateTriggers),this.on("click",{upgradeGateTriggerSelector:this.shakeTrigger}),this.on("mouseover",{upgradeGateTriggerSelector:this.showPopover}),this.on("mouseout",{upgradeGateTriggerSelector:this.hidePopover,upgradeGatePopoverSelector:this.hidePopover})})}return t(e)}),define("$app/ui/shared/input_placeholders",["flight/lib/component"],function(t){function e(){this.after("initialize",function(){this.$node.placeholder()})}return t(e)}),define("$app/ui/shared/input_prefixes",["flight/lib/component"],function(t){function e(){this.after("initialize",function(){var t=this.$node,e=t.next();!e.is("input")&&t.prev().is("input")&&(e=$(this).prev()),e.on("focus",function(){t.addClass("focused")}),e.on("focusout",function(){t.removeClass("focused")})})}return t(e)}),define("$app/ui/shared/javascript_loader",["flight/lib/component"],function(t){function e(){this.after("initialize",function(){this.$node.fadeOut()})}return t(e)}),define("$app/ui/shared/with_navigation",["flight/lib/component"],function(t){function e(){this.defaultAttrs({showMobileNavigationTriggerSelector:".js-show-navigation-links",hideMobileNavigationTriggerSelector:".js-hide-navigation-links",navigationLinksHolderSelector:".js-navigation-links",navigationHolderSelector:".js-navigation",accountLinksTriggerSelector:".js-account-dropdown-trigger",accountLinksDropdownSelector:".js-account-dropdown",learnLinksTriggerSelector:".js-learn-dropdown-trigger",learnLinksDropdownSelector:".js-learn-dropdown",unreadMessageCounterSelector:".js-unread-counter"}),this.showMobileNavigation=function(t){return t.preventDefault(),this.select("navigationLinksHolderSelector").show(),this.select("hideMobileNavigationTriggerSelector").show(),this.select("showMobileNavigationTriggerSelector").hide(),this.select("navigationHolderSelector").addClass("showing-links"),!1},this.hideMobileNavigation=function(t){return t.preventDefault(),this.select("navigationLinksHolderSelector").hide(),this.select("hideMobileNavigationTriggerSelector").hide(),this.select("showMobileNavigationTriggerSelector").show(),this.select("navigationHolderSelector").removeClass("showing-links"),!1},this.toggleAccountDropdown=function(t){return t.preventDefault(),this.select("accountLinksDropdownSelector").toggleClass("open"),!1},this.toggleLearnDropdown=function(t){return t.preventDefault(),this.select("learnLinksDropdownSelector").toggleClass("open"),!1},this.hideDropdownsWhenUnfocused=function(t){var e=this.select("accountLinksDropdownSelector"),i=this.select("learnLinksDropdownSelector");0==$(t.target).closest(e).length&&e.removeClass("open"),0==$(t.target).closest(i).length&&i.removeClass("open")},this.updateMessageCount=function(t,e){this.select("unreadMessageCounterSelector").text(e.count).toggle(e.count>0)},this.after("initialize",function(){this.on("html","click",this.hideDropdownsWhenUnfocused),this.on("uiNeedsToHideOtherDropdowns",this.hideDropdownsWhenUnfocused),this.on(document,"uiNeedsToUpdateMessageCount",this.updateMessageCount),this.on("click",{showMobileNavigationTriggerSelector:this.showMobileNavigation,hideMobileNavigationTriggerSelector:this.hideMobileNavigation,accountLinksTriggerSelector:this.toggleAccountDropdown,learnLinksTriggerSelector:this.toggleLearnDropdown})})}return t(e)}),function(){define("$app/ui/shared/facebook_share",["flight/lib/component"],function(t){function e(){this.facebookShare=function(t){t.preventDefault();var e=this.$node;FB&&FB.ui({href:e.data("url"),method:"share",name:e.data("name"),picture:e.data("preview")},function(t){void 0!==t&&e.find(".gi-facebook").removeClass("gi-facebook").addClass("gi-check")})},this.after("initialize",function(){this.on("click",this.facebookShare)})}return t(e)})}(),define("$app/utils/with_url",[],function(){function t(){this.getUrlParams=function(){if("undefined"==typeof this.urlParams){var t=" ",e=this.getQueryString(),i=/([^&=]+)=?([^&]*)/g;for(this.urlParams={};t=i.exec(e);)this.urlParams[decodeURIComponent(t[1])]=decodeURIComponent(t[2])}return this.urlParams},this.getQueryString=function(){return window.location.search.substring(1)}}return t}),function(){define("$app/ui/discover/search",["flight/lib/component","$app/utils/with_url"],function(t,e){function i(){this.defaultAttrs({searchFilterDropdownTriggerSelector:".js-discover-search-filter-dropdown-trigger",searchFilterDropdownSelector:".js-discover-search-filter-dropdown",searchFieldSelector:".js-discover-search-field",searchFilterOptionSelector:".js-discover-search-filter-option",selectedCategory:"everything",enterKeyCode:13,minSearchLength:3}),this.searchKeyListener=function(t,e){if(t&&(t.preventDefault(),t.keyCode===this.attr.enterKeyCode)){var i=this.select("searchFieldSelector").val();if(i.length<this.attr.minSearchLength)return;this.attr.isOnDiscoverPage?(this.trigger("uiNeedsToSearch",{query:i,from:1,category:this.attr.selectedCategory}),this.select("searchFieldSelector").select()):window.location.href=Routes.discover_path({query:i})}},this.toggleSearchFilterDropbown=function(t){t.preventDefault(),this.select("searchFilterDropdownSelector").toggleClass("showing")},this.updateSearchFilter=function(t){this.attr.selectedCategory!==$(t.target||t.srcElement).attr("data-value")&&(this.attr.selectedCategory=$(t.target||t.srcElement).attr("data-value"),this.select("searchFilterDropdownTriggerSelector").html($(t.target||t.srcElement).text()+" &nbsp; \u25be"),this.select("searchFieldSelector").css("padding-left",this.select("searchFilterDropdownTriggerSelector").outerWidth()+10),this.trigger("uiToClearTags"),this.trigger("uiNeedsToFilterResultsOrProducts",{category:this.attr.selectedCategory})),this.select("searchFilterDropdownSelector").removeClass("showing")},this.setCategory=function(t,e){this.select("searchFilterDropdownTriggerSelector").html($("[data-value='"+e.category+"']").text()+" &nbsp; \u25be"),this.select("searchFieldSelector").css("padding-left",this.select("searchFilterDropdownTriggerSelector").outerWidth()+10)},this.after("initialize",function(){this.attr.isOnDiscoverPage="discover-page"===this.$node.parents("body").attr("id"),this.getUrlParams().query&&this.select("searchFieldSelector").select(),this.on(document,"uiToUpdateCategory",this.setCategory),this.on("keyup",{searchFieldSelector:this.searchKeyListener}),this.on("click",{searchFilterDropdownTriggerSelector:this.toggleSearchFilterDropbown,searchFilterOptionSelector:this.updateSearchFilter})})}return t(i,e)})}(),function(){define("$app/ui/discover/prompt",["flight/lib/component"],function(t){function e(){this.after("initialize",function(){this.$node.is(":visible")&&!this.attr.hasBeenTracked&&(this.trigger("uiNeedsToTrackUserActionEvent",{name:"discover_prompt_view"}),this.attr.hasBeenTracked=!0)})}return t(e)})}(),define("$app/ui/shared/with_form_base",[],function(){function t(){this.defaultAttrs({inputSelector:"input",textareaSelector:"textarea",selectSelector:"select",requiredInputSelector:"input.required",requiredSelectSelector:"select.required",numericalInputSelector:"input.numerical",emailInputSelector:"input.email",minLengthInputSelector:"input[minlength]",emailValidationRegex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}),this.validateRequiredInput=function(t){return 0!=t.length&&t.is(":visible")&&0==t.val().length?(t.hasClass("proxy")&&t.data("proxy")&&(t=$("."+t.data("proxy"))),this.showError(t),t.focus(),!1):!0},this.validateSelectInput=function(t){return t.is(":visible")&&null==t.val()?(this.showError(t),t.focus(),!1):!0},this.validateNumericalInput=function(t){return 0!=t.length&&t.is(":visible")&&0!=t.val().length&&isNaN(parseFloat(t.val()))?(this.showError(t),t.focus(),!1):!0},this.validateMinLengthInput=function(t){if(0==t.length||!t.is(":visible")||0==t.val().length)return!0;var e=parseInt(t.attr("minlength")),i=t.val();return i.length>0&&i.length<e?(this.showError(t),t.focus(),!1):!0},this.validateEmails=function(t){var e=!0,i=this;return t.each(function(){var t=$(this);return!t.is(":visible")||!t.hasClass("required")&&""==t.val()||i.attr.emailValidationRegex.test(t.val())?void 0:(i.showError(t),t.focus(),e=!1)}),e},this.validateForm=function(t){var e=!0,i=this;return t.find(this.attr.numericalInputSelector).each(function(){return i.validateNumericalInput($(this))}),e?(t.find(this.attr.requiredInputSelector).each(function(){e=e&&i.validateRequiredInput($(this))}),e?(t.find(this.attr.requiredSelectSelector).each(function(){e=e&&i.validateSelectInput($(this))}),e?(t.find(this.attr.minLengthInputSelector).each(function(){e=e&&i.validateMinLengthInput($(this))}),e=e&&this.validateEmails(t.find(this.attr.emailInputSelector))):e):e):e},this.showError=function(t){t.addClass("error")},this.hideError=function(t){t.removeClass("error")},this.hideErrorIfNotEnterKey=function(t){13!=t.which&&this.hideError($(t.target))},this.after("initialize",function(){this.on("keyup",{inputSelector:this.hideErrorIfNotEnterKey,textareaSelector:this.hideErrorIfNotEnterKey}),this.on("change",{selectSelector:this.hideErrorIfNotEnterKey})})}return t}),define("$app/ui/shared/auth_modal",["flight/lib/component","$app/ui/shared/with_form_base"],function(t,e){function i(){this.defaultAttrs({authModalSelector:"#hp-auth-modal",loginModalSelector:"#hp-login",signupModalSelector:"#hp-signup",forgotPasswordFormSelector:"#forgot-password-form",switchToSignupSelector:"#hp-login .switch-to a",switchToLoginSelector:"#hp-signup .switch-to a",signupEmailSelector:"#hp-signup #user_email",loginEmailSelector:"#hp-login #user_login",forgotPasswordEmailSelector:"#forgot-password-form .email",forgotPasswordSelector:"#hp-auth-modal .js-show-forgot-password-form-trigger",closeModalButtonSelector:"#hp-auth-modal .js-close-modal-trigger",cancelForgotPasswordButtonSelector:"#forgot-password-form .js-hide-forgot-password-form-trigger",loginButtonSelector:".js-login-button",signupButtonSelector:".js-signup-button",forgotPasswordButtonSelector:".js-forgot-password-button",errorIndicatorSelector:".error-indicator",socialAuthButtonSelector:".social-auth .button",nextSelector:"#next",modalShowing:!1}),this.showLoginModal=function(t,e){var i=this.extractNextUrlFromHashLocation();e.setNext&&i&&(this.select("nextSelector").val(i),this.select("socialAuthButtonSelector").each(function(){this.href.match(/\?referer/)||(this.href+="?referer="+i),this.href+="&origin="+i})),this.showModal(!1)},this.extractNextUrlFromHashLocation=function(){return window.location.hash.match(/next/)?window.location.hash.split("?")[1].split("=")[1]:null},this.showSignupModal=function(t,e){this.showModal(!0)},this.showModal=function(t){if(!this.attr.modalShowing){var t="undefined"==typeof t?!0:t,e=this.select("authModalSelector"),i=this.select("loginModalSelector"),n=this.select("signupModalSelector");i.hide(),n.hide(),t?n.show():(i.show(),this.select("loginEmailSelector").focus()),e.removeClass("cancelled-element"),this.$node.addClass("showing"),e.addClass("showing"),this.attr.modalShowing=!0}},this.hideModal=function(t){if(this.attr.modalShowing){var e=this.select("authModalSelector");e.addClass("cancelled-element"),this.$node.removeClass("showing"),this.attr.modalShowing=!1}return t&&t.preventDefault(),!1},this.switchToSignup=function(t){return this.trigger("uiNeedsToTrackUserActionEvent",{name:"modal_switch_to_signup"}),this.select("loginModalSelector").hide(),this.select("signupEmailSelector").val(this.select("loginEmailSelector").val()),this.select("signupModalSelector").show(),t.preventDefault(),!1},this.switchToLogin=function(t){var e=this.select("loginEmailSelector");return this.trigger("uiNeedsToTrackUserActionEvent",{name:"modal_switch_to_login"}),e.val(this.select("signupEmailSelector").val()),this.select("loginModalSelector").show(),e.focus(),this.select("signupModalSelector").hide(),t.preventDefault(),!1},this.showForgotPasswordForm=function(t){return this.select("loginModalSelector").addClass("faded"),this.select("forgotPasswordEmailSelector").val(this.select("loginEmailSelector").val()).focus(),this.select("forgotPasswordFormSelector").show(),t.preventDefault(),!1},this.hideForgotPasswordForm=function(t){return this.select("loginModalSelector").removeClass("faded"),this.select("forgotPasswordFormSelector").hide(),t.preventDefault(),!1},this.hideModalIfEscapeIsPressed=function(t){27==t.keyCode&&this.hideModal()},this.hideModalIfClickedOutsideModal=function(t){0==this.select("authModalSelector").has(t.target).length&&this.hideModal()},this.login=function(t){return this.submitForm("loginButtonSelector",I18n.t("js.logging_in"),"uiNeedsToLogin"),t.preventDefault(),!1},this.signup=function(t){return this.submitForm("signupButtonSelector",I18n.t("js.creating"),"uiNeedsToSignup"),t.preventDefault(),!1},this.renewPassword=function(t){return this.submitForm("forgotPasswordButtonSelector",I18n.t("js.sending"),"uiNeedsToRenewPassword"),t.preventDefault(),!1},this.submitForm=function(t,e,i){var n=this.select(t),r=n.closest("form");this.validateForm(r)&&(r.find(this.attr.errorIndicatorSelector).hide(),n.data("default",n.text()),n.text(e),this.trigger(i,{serializedForm:r.serialize()}))},this.getSubmitFormSuccessHandler=function(t){var e=t+"ButtonSelector";return function(t,i){var n=this.select(e);i.redirect_location&&(window.location=i.redirect_location),i.success_message&&(this.trigger("uiShowFlashMessage",{message:i.success_message}),n.text(n.data("default")))}},this.getSubmitFormErrorHandler=function(t){var e=t+"ButtonSelector";return function(t,i){
var n=this.select(e),r=n.closest("form").find(this.attr.errorIndicatorSelector);r.text(i.error_message).show(),n.text(n.data("default"))}.bind(this)},this.autoShowAuthModal=function(t){"/#login"==t||"#login"==t?this.trigger("uiShowLoginModal",{setNext:!0}):("/#signup"==t||"#signup"==t)&&this.trigger("uiShowSignupModal")},this.after("initialize",function(){this.on(document,"uiShowLoginModal",this.showLoginModal),this.on(document,"uiShowSignupModal",this.showSignupModal),this.on(document,"dataLoginSucceeded",this.getSubmitFormSuccessHandler("login")),this.on(document,"dataSignupSucceeded",this.getSubmitFormSuccessHandler("signup")),this.on(document,"dataRenewPasswordSucceeded",this.getSubmitFormSuccessHandler("forgotPassword")),this.on(document,"dataFailedToLogin",this.getSubmitFormErrorHandler("login")),this.on(document,"dataFailedToSignup",this.getSubmitFormErrorHandler("signup")),this.on(document,"dataFailedToRenewPassword",this.getSubmitFormErrorHandler("forgotPassword")),this.on("click",{switchToSignupSelector:this.switchToSignup,switchToLoginSelector:this.switchToLogin,forgotPasswordSelector:this.showForgotPasswordForm,cancelForgotPasswordButtonSelector:this.hideForgotPasswordForm,closeModalButtonSelector:this.hideModal,loginButtonSelector:this.login,signupButtonSelector:this.signup,forgotPasswordButtonSelector:this.renewPassword}),this.on(document,"keydown",this.hideModalIfEscapeIsPressed),this.on(document,"mouseup",this.hideModalIfClickedOutsideModal),this.on(document,"touchend",this.hideModalIfClickedOutsideModal),window.location.hash.replace("#","")&&this.autoShowAuthModal(window.location.hash.split("?")[0])})}return t(e,i)}),define("$app/ui/shared/signup_trigger",["flight/lib/component"],function(t){function e(){this.showSignupModal=function(){return this.trigger("uiShowSignupModal"),!1},this.after("initialize",function(){this.on("click",this.showSignupModal)})}return t(e)}),define("$app/ui/shared/login_trigger",["flight/lib/component"],function(t){function e(){this.showLoginModal=function(t){return t&&t.preventDefault(),this.trigger("uiShowLoginModal",{setNext:!1}),!1},this.after("initialize",function(){this.on("click",this.showLoginModal)})}return t(e)}),define("$app/data/authentication",["flight/lib/component"],function(t){function e(){this.login=function(t,e){this.sendRequest(Routes.login_path({format:"json"}),e.serializedForm,"dataLoginSucceeded","dataFailedToLogin")},this.signup=function(t,e){this.sendRequest(Routes.signup_path({format:"json"}),e.serializedForm,"dataSignupSucceeded","dataFailedToSignup")},this.renewPassword=function(t,e){this.sendRequest(Routes.forgot_password_path({format:"json"}),e.serializedForm,"dataRenewPasswordSucceeded","dataFailedToRenewPassword")},this.sendRequest=function(t,e,i,n){$.ajax({type:"POST",url:t,dataType:"json",data:e}).done(function(t){t.success?this.trigger(i,t):this.trigger(n,t)}.bind(this))},this.after("initialize",function(){this.on(document,"uiNeedsToLogin",this.login),this.on(document,"uiNeedsToSignup",this.signup),this.on(document,"uiNeedsToRenewPassword",this.renewPassword)})}return t(e)}),define("$app/utils/auth_modal_setup",["$app/ui/shared/auth_modal","$app/ui/shared/signup_trigger","$app/ui/shared/login_trigger","$app/data/authentication"],function(t,e,i,n){function r(){n.attachTo(document),t.attachTo(".modals-container"),e.attachTo(".js-signup-trigger"),i.attachTo(".js-login-trigger")}return r}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("hbs/handlebars",e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function n(){var t=v();return t.compile=function(e,i){return c.compile(e,i,t)},t.precompile=function(e,i){return c.precompile(e,i,t)},t.AST=l["default"],t.Compiler=c.Compiler,t.JavaScriptCompiler=h["default"],t.Parser=d.parser,t.parse=d.parse,t}var r=i(8)["default"];e.__esModule=!0;var a=i(1),s=r(a),o=i(2),l=r(o),d=i(3),c=i(4),u=i(5),h=r(u),p=i(6),f=r(p),m=i(7),g=r(m),v=s["default"].create,y=n();y.create=n,g["default"](y),y.Visitor=f["default"],y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e,i){function n(){var t=new o.HandlebarsEnvironment;return p.extend(t,o),t.SafeString=d["default"],t.Exception=u["default"],t.Utils=p,t.escapeExpression=p.escapeExpression,t.VM=m,t.template=function(e){return m.template(e,t)},t}var r=i(9)["default"],a=i(8)["default"];e.__esModule=!0;var s=i(10),o=r(s),l=i(11),d=a(l),c=i(12),u=a(c),h=i(13),p=r(h),f=i(14),m=r(f),g=i(7),v=a(g),y=n();y.create=n,v["default"](y),y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e,i){e.__esModule=!0;var n={Program:function(t,e,i,n){this.loc=n,this.type="Program",this.body=t,this.blockParams=e,this.strip=i},MustacheStatement:function(t,e,i,n,r,a){this.loc=a,this.type="MustacheStatement",this.path=t,this.params=e||[],this.hash=i,this.escaped=n,this.strip=r},BlockStatement:function(t,e,i,n,r,a,s,o,l){this.loc=l,this.type="BlockStatement",this.path=t,this.params=e||[],this.hash=i,this.program=n,this.inverse=r,this.openStrip=a,this.inverseStrip=s,this.closeStrip=o},PartialStatement:function(t,e,i,n,r){this.loc=r,this.type="PartialStatement",this.name=t,this.params=e||[],this.hash=i,this.indent="",this.strip=n},ContentStatement:function(t,e){this.loc=e,this.type="ContentStatement",this.original=this.value=t},CommentStatement:function(t,e,i){this.loc=i,this.type="CommentStatement",this.value=t,this.strip=e},SubExpression:function(t,e,i,n){this.loc=n,this.type="SubExpression",this.path=t,this.params=e||[],this.hash=i},PathExpression:function(t,e,i,n,r){this.loc=r,this.type="PathExpression",this.data=t,this.original=n,this.parts=i,this.depth=e},StringLiteral:function(t,e){this.loc=e,this.type="StringLiteral",this.original=this.value=t},NumberLiteral:function(t,e){this.loc=e,this.type="NumberLiteral",this.original=this.value=Number(t)},BooleanLiteral:function(t,e){this.loc=e,this.type="BooleanLiteral",this.original=this.value="true"===t},UndefinedLiteral:function(t){this.loc=t,this.type="UndefinedLiteral",this.original=this.value=void 0},NullLiteral:function(t){this.loc=t,this.type="NullLiteral",this.original=this.value=null},Hash:function(t,e){this.loc=e,this.type="Hash",this.pairs=t},HashPair:function(t,e,i){this.loc=i,this.type="HashPair",this.key=t,this.value=e},helpers:{helperExpression:function(t){return!("SubExpression"!==t.type&&!t.params.length&&!t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e["default"]=n,t.exports=e["default"]},function(t,e,i){function n(t,e){if("Program"===t.type)return t;o["default"].yy=m,m.locInfo=function(t){return new m.SourceLocation(e&&e.srcName,t)};var i=new u["default"];return i.accept(o["default"].parse(t))}var r=i(8)["default"],a=i(9)["default"];e.__esModule=!0,e.parse=n;var s=i(15),o=r(s),l=i(2),d=r(l),c=i(16),u=r(c),h=i(17),p=a(h),f=i(13);e.parser=o["default"];var m={};f.extend(m,p,d["default"])},function(t,e,i){function n(){}function r(t,e,i){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=i.parse(t,e),r=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(r,e)}function a(t,e,i){function n(){var e=i.parse(t,a),n=(new i.Compiler).compile(e,a),r=(new i.JavaScriptCompiler).compile(n,a,void 0,!0);return i.template(r)}function r(t,e){return s||(s=n()),s.call(this,t,e)}var a=void 0===arguments[1]?{}:arguments[1];if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in a||(a.data=!0),a.compat&&(a.useDepths=!0);var s=void 0;return r._setup=function(t){return s||(s=n()),s._setup(t)},r._child=function(t,e,i,r){return s||(s=n()),s._child(t,e,i,r)},r}function s(t,e){if(t===e)return!0;if(u.isArray(t)&&u.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;i++)if(!s(t[i],e[i]))return!1;return!0}}function o(t){if(!t.path.parts){var e=t.path;t.path=new p["default"].PathExpression(!1,0,[e.original+""],e.original+"",e.loc)}}var l=i(8)["default"];e.__esModule=!0,e.Compiler=n,e.precompile=r,e.compile=a;var d=i(12),c=l(d),u=i(13),h=i(2),p=l(h),f=[].slice;n.prototype={compiler:n,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;e>i;i++){var n=this.opcodes[i],r=t.opcodes[i];if(n.opcode!==r.opcode||!s(n.args,r.args))return!1}e=this.children.length;for(var i=0;e>i;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var i=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},i)for(var n in i)n in i&&(e.knownHelpers[n]=i[n]);return this.accept(t)},compileProgram:function(t){var e=new this.compiler,i=e.compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||i.usePartial,this.children[n]=i,this.useDepths=this.useDepths||i.useDepths,n},accept:function(t){this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,i=e.length,n=0;i>n;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){o(t);var e=t.program,i=t.inverse;e=e&&this.compileProgram(e),i=i&&this.compileProgram(i);var n=this.classifySexpr(t);"helper"===n?this.helperSexpr(t,e,i):"simple"===n?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,i),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},PartialStatement:function(t){this.usePartial=!0;var e=t.params;if(e.length>1)throw new c["default"]("Unsupported number of partial arguments: "+e.length,t);e.length||e.push({type:"PathExpression",parts:[],depth:0});var i=t.name.original,n="SubExpression"===t.name.type;n&&this.accept(t.name),this.setupFullMustacheParams(t,void 0,void 0,!0);var r=t.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",n,i,r),this.opcode("append")},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){o(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,i){var n=t.path,r=n.parts[0],a=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.accept(n),this.opcode("invokeAmbiguous",r,a)},simpleSexpr:function(t){this.accept(t.path),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),r=t.path,a=r.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",n.length,a);else{if(this.options.knownHelpersOnly)throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper "+a,t);r.falsy=!0,this.accept(r),this.opcode("invokeHelper",n.length,r.original,p["default"].helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],i=p["default"].helpers.scopedId(t),n=!t.depth&&!i&&this.blockParamIndex(e);n?this.opcode("lookupBlockParam",n,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts)):this.opcode("lookupOnContext",t.parts,t.falsy,i):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,i=0,n=e.length;for(this.opcode("pushHash");n>i;i++)this.pushParam(e[i].value);for(;i--;)this.opcode("assignToHash",e[i].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:f.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=p["default"].helpers.simpleId(t.path),i=e&&!!this.blockParamIndex(t.path.parts[0]),n=!i&&p["default"].helpers.helperExpression(t),r=!i&&(n||e);if(r&&!n){var a=t.path.parts[0],s=this.options;s.knownHelpers[a]?n=!0:s.knownHelpersOnly&&(r=!1)}return n?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,i=t.length;i>e;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var i=void 0;if(!t.parts||p["default"].helpers.scopedId(t)||t.depth||(i=this.blockParamIndex(t.parts[0])),i){var n=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else e=t.original||e,e.replace&&(e=e.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,i,n){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",n),r},blockParamIndex:function(t){for(var e=0,i=this.options.blockParams.length;i>e;e++){var n=this.options.blockParams[e],r=n&&u.indexOf(n,t);if(n&&r>=0)return[e,r]}}}},function(t,e,i){function n(t){this.value=t}function r(){}function a(t,e,i,n){var r=e.popStack(),a=0,s=i.length;for(t&&s--;s>a;a++)r=e.nameLookup(r,i[a],n);return t?[e.aliasable("this.strict"),"(",r,", ",e.quotedString(i[a]),")"]:r}var s=i(8)["default"];e.__esModule=!0;var o=i(10),l=i(12),d=s(l),c=i(13),u=i(18),h=s(u);r.prototype={nameLookup:function(t,e){return r.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"['",e,"']"]},depthedLookup:function(t){return[this.aliasable("this.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=o.COMPILER_REVISION,e=o.REVISION_CHANGES[t];return[t,e]},appendToBuffer:function(t,e,i){return c.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,i,n){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,a=void 0,s=void 0,o=void 0,l=void 0;for(o=0,l=r.length;l>o;o++)a=r[o],this.source.currentLocation=a.loc,s=s||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new d["default"]("Compile completed with content left on stack");var c=this.createFunctionContext(n);if(this.isChild)return c;var u={compiler:this.compilerInfo(),main:c},h=this.context.programs;for(o=0,l=h.length;l>o;o++)h[o]&&(u[o]=h[o]);return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),n?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),e.srcName?(u=u.toStringWithSourceMap({file:e.destName}),u.map=u.map&&u.map.toString()):u=u.toString()),u},preamble:function(){this.lastContext=0,this.source=new h["default"](this.options.srcName)},createFunctionContext:function(t){var e="",i=this.stackVars.concat(this.registers.list);i.length>0&&(e+=", "+i.join(", "));var n=0;for(var r in this.aliases){var a=this.aliases[r];this.aliases.hasOwnProperty(r)&&a.children&&a.referenceCount>1&&(e+=", alias"+ ++n+"="+r,a.children[0]="alias"+n)}var s=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var o=this.mergeSource(e);return t?(s.push(o),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",o,"}"])},mergeSource:function(t){var e=this.environment.isSimple,i=!this.forceBuffer,n=void 0,r=void 0,a=void 0,s=void 0;return this.source.each(function(t){t.appendToBuffer?(a?t.prepend("  + "):a=t,s=t):(a&&(r?a.prepend("buffer += "):n=!0,s.add(";"),a=s=void 0),r=!0,e||(i=!1))}),i?a?(a.prepend("return "),s.add(";")):r||this.source.push('return "";'):(t+=", buffer = "+(n?"":this.initializeBuffer()),a?(a.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(n?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var n=this.popStack();i.splice(1,0,n),this.push(this.source.functionCall(e,"call",i))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var i=this.topStack();e.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,i){var n=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[n++])),this.resolvePath("context",t,n,e)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e){t?this.pushStackLiteral("this.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0)},resolvePath:function(t,e,i,n){var r=this;if(this.options.strict||this.options.assumeObjects)return void this.push(a(this.options.strict,this,e,t));for(var s=e.length;s>i;i++)this.replaceStack(function(a){var s=r.nameLookup(a,e[i],t);return n?[" && ",s]:[" != null ? ",s," : ",a]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e,i){var n=this.popStack(),r=this.setupHelper(t,e),a=i?[r.name," || "]:"",s=["("].concat(a,n);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",r.callParams))},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,t,e),r=this.lastHelper=this.nameLookup("helpers",t,"helper"),a=["(","(helper = ",r," || ",i,")"];this.options.strict||(a[0]="(helper = ",a.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",a,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(t,e,i){var n=[],r=this.setupParams(e,1,n,!1);t&&(e=this.popStack(),delete r.name),i&&(r.indent=JSON.stringify(i)),r.helpers="helpers",r.partials="partials",t?n.unshift(e):n.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),n.push(r),this.push(this.source.functionCall("this.invokePartial","",n))},assignToHash:function(t){var e=this.popStack(),i=void 0,n=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack());var a=this.hash;i&&(a.contexts[t]=i),n&&(a.types[t]=n),r&&(a.ids[t]=r),a.values[t]=e},pushId:function(t,e,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(t,e){for(var i=t.children,n=void 0,r=void 0,a=0,s=i.length;s>a;a++){n=i[a],r=new this.compiler;var o=this.matchExistingProgram(n);null==o?(this.context.programs.push(""),o=this.context.programs.length,n.index=o,n.name="program"+o,this.context.programs[o]=r.compile(n,e,this.context,!this.precompile),this.context.environments[o]=n,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams):(n.index=o,n.name="program"+o,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;i>e;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],i=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"this.program("+i.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof n||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],i=void 0,r=void 0,a=void 0;if(!this.isInline())throw new d["default"]("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof n)i=[s.value],e=["(",i],a=!0;else{r=!0;var o=this.incrStack();e=["((",this.push(o)," = ",s,")"],i=this.topStack()}var l=t.call(this,i);a||this.popStack(),r&&this.stackSlot--,this.push(e.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,i=t.length;i>e;e++){var r=t[e];if(r instanceof n)this.compileStack.push(r);else{var a=this.incrStack();this.pushSource([a," = ",r,";"]),this.compileStack.push(a)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof n)return i.value;if(!e){if(!this.stackSlot)throw new d["default"]("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof n?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,i){var n=[],r=this.setupHelperArgs(e,t,n,i),a=this.nameLookup("helpers",e,"helper");return{params:n,paramsInit:r,name:a,callParams:[this.contextName(0)].concat(n)}},setupParams:function(t,e,i){var n={},r=[],a=[],s=[],o=void 0;n.name=this.quotedString(t),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var l=this.popStack(),d=this.popStack();(d||l)&&(n.fn=d||"this.noop",n.inverse=l||"this.noop");for(var c=e;c--;)o=this.popStack(),i[c]=o,this.trackIds&&(s[c]=this.popStack()),this.stringParams&&(a[c]=this.popStack(),r[c]=this.popStack());return this.trackIds&&(n.ids=this.source.generateArray(s)),this.stringParams&&(n.types=this.source.generateArray(a),n.contexts=this.source.generateArray(r)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(t,e,i,n){var r=this.setupParams(t,e,i,!0);return r=this.objectLiteral(r),n?(this.useRegister("options"),i.push("options"),["options=",r]):(i.push(r),"")}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=r.RESERVED_WORDS={},i=0,n=t.length;n>i;i++)e[t[i]]=!0}(),r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e["default"]=r,t.exports=e["default"]},function(t,e,i){function n(){this.parents=[]}var r=i(8)["default"];e.__esModule=!0;var a=i(12),s=r(a),o=i(2),l=r(o);n.prototype={constructor:n,mutating:!1,acceptKey:function(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&(!i.type||!l["default"][i.type]))throw new s["default"]('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new s["default"](t.type+" requires "+e)},acceptArray:function(t){for(var e=0,i=t.length;i>e;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--)},accept:function(t){if(t){this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},BlockStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash"),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")},PartialStatement:function(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e["default"]=n,t.exports=e["default"]},function(t,e,i){(function(i){e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof i?i:window,n=e.Handlebars;t.noConflict=function(){e.Handlebars===t&&(e.Handlebars=n)}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,i){e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,i){e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if("object"==typeof t&&null!==t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e},e.__esModule=!0},function(t,e,i){function n(t,e){this.helpers=t||{},this.partials=e||{},r(this)}function r(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new u["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),t.registerHelper("blockHelperMissing",function(e,i){var n=i.inverse,r=i.fn;if(e===!0)return r(this);if(e===!1||null==e)return n(this);if(m(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):n(this);if(i.data&&i.ids){var s=a(i.data);s.contextPath=d.appendContextPath(i.data.contextPath,i.name),i={data:s}}return r(e,i)}),t.registerHelper("each",function(t,e){function i(e,i,r){l&&(l.key=e,l.index=i,l.first=0===i,l.last=!!r,c&&(l.contextPath=c+e)),o+=n(t[e],{data:l,blockParams:d.blockParams([t[e],e],[c+e,null])})}if(!e)throw new u["default"]("Must pass iterator to #each");var n=e.fn,r=e.inverse,s=0,o="",l=void 0,c=void 0;if(e.data&&e.ids&&(c=d.appendContextPath(e.data.contextPath,e.ids[0])+"."),g(t)&&(t=t.call(this)),e.data&&(l=a(e.data)),t&&"object"==typeof t)if(m(t))for(var h=t.length;h>s;s++)i(s,s,s===t.length-1);else{var p=void 0;for(var f in t)t.hasOwnProperty(f)&&(p&&i(p,s-1),p=f,s++);p&&i(p,s-1,!0)}return 0===s&&(o=r(this)),o}),t.registerHelper("if",function(t,e){return g(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||d.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})}),t.registerHelper("with",function(t,e){g(t)&&(t=t.call(this));var i=e.fn;if(d.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var n=a(e.data);n.contextPath=d.appendContextPath(e.data.contextPath,e.ids[0]),e={data:n}}return i(t,e)}),t.registerHelper("log",function(e,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;t.log(n,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}function a(t){var e=d.extend({},t);return e._parent=t,e}var s=i(9)["default"],o=i(8)["default"];e.__esModule=!0,e.HandlebarsEnvironment=n,e.createFrame=a;var l=i(13),d=s(l),c=i(12),u=o(c),h="3.0.1";e.VERSION=h;var p=6;e.COMPILER_REVISION=p;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};e.REVISION_CHANGES=f;var m=d.isArray,g=d.isFunction,v=d.toString,y="[object Object]";n.prototype={constructor:n,logger:A,log:N,registerHelper:function(t,e){if(v.call(t)===y){if(e)throw new u["default"]("Arg not supported with multiple helpers");d.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(v.call(t)===y)d.extend(this.partials,t);else{if("undefined"==typeof e)throw new u["default"]("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var A={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&A.level<=t){var i=A.methodMap[t];
(console[i]||console.log).call(console,e)}}};e.logger=A;var N=A.log;e.log=N},function(t,e,i){function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n,t.exports=e["default"]},function(t,e,i){function n(t,e){var i=e&&e.loc,a=void 0,s=void 0;i&&(a=i.start.line,s=i.start.column,t+=" - "+a+":"+s);for(var o=Error.prototype.constructor.call(this,t),l=0;l<r.length;l++)this[r[l]]=o[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),i&&(this.lineNumber=a,this.column=s)}e.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e["default"]=n,t.exports=e["default"]},function(t,e,i){function n(t){return c[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}function a(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}function s(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return h.test(t)?t.replace(u,n):t}function o(t){return t||0===t?m(t)&&0===t.length?!0:!1:!0}function l(t,e){return t.path=e,t}function d(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=r,e.indexOf=a,e.escapeExpression=s,e.isEmpty=o,e.blockParams=l,e.appendContextPath=d;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,h=/[&<>"'`]/,p=Object.prototype.toString;e.toString=p;var f=function(t){return"function"==typeof t};f(/x/)&&(e.isFunction=f=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)});var f;e.isFunction=f;var m=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===p.call(t):!1};e.isArray=m},function(t,e,i){function n(t){var e=t&&t[0]||1,i=g.COMPILER_REVISION;if(e!==i){if(i>e){var n=g.REVISION_CHANGES[i],r=g.REVISION_CHANGES[e];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+r+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){function i(i,n,r){r.hash&&(n=p.extend({},n,r.hash)),i=e.VM.resolvePartial.call(this,i,n,r);var a=e.VM.invokePartial.call(this,i,n,r);if(null==a&&e.compile&&(r.partials[r.name]=e.compile(i,t.compilerOptions,e),a=r.partials[r.name](n,r)),null!=a){if(r.indent){for(var s=a.split("\n"),o=0,l=s.length;l>o&&(s[o]||o+1!==l);o++)s[o]=r.indent+s[o];a=s.join("\n")}return a}throw new m["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function n(e){var i=void 0===arguments[1]?{}:arguments[1],a=i.data;n._setup(i),!i.partial&&t.useData&&(a=d(e,a));var s=void 0,o=t.useBlockParams?[]:void 0;return t.useDepths&&(s=i.depths?[e].concat(i.depths):[e]),t.main.call(r,e,r.helpers,r.partials,a,o,s)}if(!e)throw new m["default"]("No environment passed to template");if(!t||!t.main)throw new m["default"]("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new m["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;i>n;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:p.escapeExpression,invokePartial:i,fn:function(e){return t[e]},programs:[],program:function(t,e,i,n,r){var s=this.programs[t],o=this.fn(t);return e||r||n||i?s=a(this,t,o,e,i,n,r):s||(s=this.programs[t]=a(this,t,o)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=p.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(r.helpers=i.helpers,r.partials=i.partials):(r.helpers=r.merge(i.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(i.partials,e.partials)))},n._child=function(e,i,n,s){if(t.useBlockParams&&!n)throw new m["default"]("must pass block params");if(t.useDepths&&!s)throw new m["default"]("must pass parent depths");return a(r,e,t[e],i,0,n,s)},n}function a(t,e,i,n,r,a,s){function o(e){var r=void 0===arguments[1]?{}:arguments[1];return i.call(t,e,t.helpers,t.partials,r.data||n,a&&[r.blockParams].concat(a),s&&[e].concat(s))}return o.program=e,o.depth=s?s.length:0,o.blockParams=r||0,o}function s(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t=i.partials[i.name],t}function o(t,e,i){if(i.partial=!0,void 0===t)throw new m["default"]("The partial "+i.name+" could not be found");return t instanceof Function?t(e,i):void 0}function l(){return""}function d(t,e){return e&&"root"in e||(e=e?g.createFrame(e):{},e.root=t),e}var c=i(9)["default"],u=i(8)["default"];e.__esModule=!0,e.checkRevision=n,e.template=r,e.wrapProgram=a,e.resolvePartial=s,e.invokePartial=o,e.noop=l;var h=i(13),p=c(h),f=i(12),m=u(f),g=i(10)},function(t,e,i){e.__esModule=!0;var n=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,UNDEFINED:77,NULL:78,DATA:79,pathSegments:80,SEP:81,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"UNDEFINED",78:"NULL",79:"DATA",81:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(t,e,i,n,r,a,s){var o=a.length-1;switch(r){case 1:return a[o-1];case 2:this.$=new n.Program(a[o],null,{},n.locInfo(this._$));break;case 3:this.$=a[o];break;case 4:this.$=a[o];break;case 5:this.$=a[o];break;case 6:this.$=a[o];break;case 7:this.$=a[o];break;case 8:this.$=new n.CommentStatement(n.stripComment(a[o]),n.stripFlags(a[o],a[o]),n.locInfo(this._$));break;case 9:this.$=new n.ContentStatement(a[o],n.locInfo(this._$));break;case 10:this.$=n.prepareRawBlock(a[o-2],a[o-1],a[o],this._$);break;case 11:this.$={path:a[o-3],params:a[o-2],hash:a[o-1]};break;case 12:this.$=n.prepareBlock(a[o-3],a[o-2],a[o-1],a[o],!1,this._$);break;case 13:this.$=n.prepareBlock(a[o-3],a[o-2],a[o-1],a[o],!0,this._$);break;case 14:this.$={path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:n.stripFlags(a[o-5],a[o])};break;case 15:this.$={path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:n.stripFlags(a[o-5],a[o])};break;case 16:this.$={path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:n.stripFlags(a[o-5],a[o])};break;case 17:this.$={strip:n.stripFlags(a[o-1],a[o-1]),program:a[o]};break;case 18:var l=n.prepareBlock(a[o-2],a[o-1],a[o],a[o],!1,this._$),d=new n.Program([l],null,{},n.locInfo(this._$));d.chained=!0,this.$={strip:a[o-2].strip,program:d,chain:!0};break;case 19:this.$=a[o];break;case 20:this.$={path:a[o-1],strip:n.stripFlags(a[o-2],a[o])};break;case 21:this.$=n.prepareMustache(a[o-3],a[o-2],a[o-1],a[o-4],n.stripFlags(a[o-4],a[o]),this._$);break;case 22:this.$=n.prepareMustache(a[o-3],a[o-2],a[o-1],a[o-4],n.stripFlags(a[o-4],a[o]),this._$);break;case 23:this.$=new n.PartialStatement(a[o-3],a[o-2],a[o-1],n.stripFlags(a[o-4],a[o]),n.locInfo(this._$));break;case 24:this.$=a[o];break;case 25:this.$=a[o];break;case 26:this.$=new n.SubExpression(a[o-3],a[o-2],a[o-1],n.locInfo(this._$));break;case 27:this.$=new n.Hash(a[o],n.locInfo(this._$));break;case 28:this.$=new n.HashPair(n.id(a[o-2]),a[o],n.locInfo(this._$));break;case 29:this.$=n.id(a[o-1]);break;case 30:this.$=a[o];break;case 31:this.$=a[o];break;case 32:this.$=new n.StringLiteral(a[o],n.locInfo(this._$));break;case 33:this.$=new n.NumberLiteral(a[o],n.locInfo(this._$));break;case 34:this.$=new n.BooleanLiteral(a[o],n.locInfo(this._$));break;case 35:this.$=new n.UndefinedLiteral(n.locInfo(this._$));break;case 36:this.$=new n.NullLiteral(n.locInfo(this._$));break;case 37:this.$=a[o];break;case 38:this.$=a[o];break;case 39:this.$=n.preparePath(!0,a[o],this._$);break;case 40:this.$=n.preparePath(!1,a[o],this._$);break;case 41:a[o-2].push({part:n.id(a[o]),original:a[o],separator:a[o-1]}),this.$=a[o-2];break;case 42:this.$=[{part:n.id(a[o]),original:a[o]}];break;case 43:this.$=[];break;case 44:a[o-1].push(a[o]);break;case 45:this.$=[];break;case 46:a[o-1].push(a[o]);break;case 53:this.$=[];break;case 54:a[o-1].push(a[o]);break;case 59:this.$=[];break;case 60:a[o-1].push(a[o]);break;case 65:this.$=[];break;case 66:a[o-1].push(a[o]);break;case 73:this.$=[];break;case 74:a[o-1].push(a[o]);break;case 77:this.$=[];break;case 78:a[o-1].push(a[o]);break;case 81:this.$=[];break;case 82:a[o-1].push(a[o]);break;case 85:this.$=[];break;case 86:a[o-1].push(a[o]);break;case 89:this.$=[a[o]];break;case 90:a[o-1].push(a[o]);break;case 91:this.$=[a[o]];break;case 92:a[o-1].push(a[o])}},table:[{3:1,4:2,5:[2,43],6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],46:[2,43],49:[2,43],53:[2,43]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,44],13:[2,44],14:[2,44],17:[2,44],27:[2,44],32:[2,44],37:[2,44],42:[2,44],45:[2,44],46:[2,44],49:[2,44],53:[2,44]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:33,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:34,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{4:35,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{12:36,14:[1,18]},{18:38,54:37,58:39,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:41,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:42,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:43,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[2,73],47:44,59:[2,73],66:[2,73],74:[2,73],75:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33],78:[2,33],79:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34],78:[2,34],79:[2,34]},{21:[2,35],31:[2,35],52:[2,35],59:[2,35],62:[2,35],66:[2,35],69:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35],78:[2,35],79:[2,35]},{21:[2,36],31:[2,36],52:[2,36],59:[2,36],62:[2,36],66:[2,36],69:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36],78:[2,36],79:[2,36]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],78:[2,40],79:[2,40],81:[1,45]},{66:[1,32],80:46},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{50:47,52:[2,77],59:[2,77],66:[2,77],74:[2,77],75:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77]},{23:48,36:50,37:[1,52],41:51,42:[1,53],43:49,45:[2,49]},{26:54,41:55,42:[1,53],45:[2,51]},{16:[1,56]},{31:[2,81],55:57,59:[2,81],66:[2,81],74:[2,81],75:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81]},{31:[2,37],59:[2,37],66:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],78:[2,37],79:[2,37]},{31:[2,38],59:[2,38],66:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],78:[2,38],79:[2,38]},{18:58,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{28:59,31:[2,53],59:[2,53],66:[2,53],69:[2,53],74:[2,53],75:[2,53],76:[2,53],77:[2,53],78:[2,53],79:[2,53]},{31:[2,59],33:60,59:[2,59],66:[2,59],69:[2,59],74:[2,59],75:[2,59],76:[2,59],77:[2,59],78:[2,59],79:[2,59]},{19:61,21:[2,45],59:[2,45],66:[2,45],74:[2,45],75:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45]},{18:65,31:[2,75],48:62,57:63,58:66,59:[1,40],63:64,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{66:[1,70]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],78:[2,39],79:[2,39],81:[1,45]},{18:65,51:71,52:[2,79],57:72,58:66,59:[1,40],63:73,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{24:74,45:[1,75]},{45:[2,50]},{4:76,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{45:[2,19]},{18:77,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:78,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{24:79,45:[1,75]},{45:[2,52]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:65,31:[2,83],56:80,57:81,58:66,59:[1,40],63:82,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{59:[2,85],60:83,62:[2,85],66:[2,85],74:[2,85],75:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85]},{18:65,29:84,31:[2,55],57:85,58:66,59:[1,40],63:86,64:67,65:68,66:[1,69],69:[2,55],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,31:[2,61],34:87,57:88,58:66,59:[1,40],63:89,64:67,65:68,66:[1,69],69:[2,61],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,20:90,21:[2,47],57:91,58:66,59:[1,40],63:92,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[1,93]},{31:[2,74],59:[2,74],66:[2,74],74:[2,74],75:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74]},{31:[2,76]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24],78:[2,24],79:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25],78:[2,25],79:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:94,66:[1,95],69:[2,27]},{21:[2,89],31:[2,89],52:[2,89],62:[2,89],66:[2,89],69:[2,89]},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],67:[1,96],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{21:[2,41],31:[2,41],52:[2,41],59:[2,41],62:[2,41],66:[2,41],69:[2,41],74:[2,41],75:[2,41],76:[2,41],77:[2,41],78:[2,41],79:[2,41],81:[2,41]},{52:[1,97]},{52:[2,78],59:[2,78],66:[2,78],74:[2,78],75:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78]},{52:[2,80]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:98,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{36:50,37:[1,52],41:51,42:[1,53],43:100,44:99,45:[2,71]},{31:[2,65],38:101,59:[2,65],66:[2,65],69:[2,65],74:[2,65],75:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,102]},{31:[2,82],59:[2,82],66:[2,82],74:[2,82],75:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82]},{31:[2,84]},{18:65,57:104,58:66,59:[1,40],61:103,62:[2,87],63:105,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{30:106,31:[2,57],68:107,69:[1,108]},{31:[2,54],59:[2,54],66:[2,54],69:[2,54],74:[2,54],75:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54]},{31:[2,56],69:[2,56]},{31:[2,63],35:109,68:110,69:[1,108]},{31:[2,60],59:[2,60],66:[2,60],69:[2,60],74:[2,60],75:[2,60],76:[2,60],77:[2,60],78:[2,60],79:[2,60]},{31:[2,62],69:[2,62]},{21:[1,111]},{21:[2,46],59:[2,46],66:[2,46],74:[2,46],75:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46]},{21:[2,48]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,90],31:[2,90],52:[2,90],62:[2,90],66:[2,90],69:[2,90]},{67:[1,96]},{18:65,57:112,58:66,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,113]},{45:[2,18]},{45:[2,72]},{18:65,31:[2,67],39:114,57:115,58:66,59:[1,40],63:116,64:67,65:68,66:[1,69],69:[2,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,117]},{59:[2,86],62:[2,86],66:[2,86],74:[2,86],75:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86]},{62:[2,88]},{31:[1,118]},{31:[2,58]},{66:[1,120],70:119},{31:[1,121]},{31:[2,64]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,69],40:122,68:123,69:[1,108]},{31:[2,66],59:[2,66],66:[2,66],69:[2,66],74:[2,66],75:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66]},{31:[2,68],69:[2,68]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26],78:[2,26],79:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,125],71:[1,124]},{66:[2,91],71:[2,91]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,126]},{31:[2,70]},{31:[2,29]},{66:[2,92],71:[2,92]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],49:[2,50],51:[2,19],55:[2,52],64:[2,76],73:[2,80],78:[2,17],82:[2,84],92:[2,48],99:[2,18],100:[2,72],105:[2,88],107:[2,58],110:[2,64],111:[2,11],123:[2,70],124:[2,29]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,n=[0],r=[null],a=[],s=this.table,o="",l=0,d=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;a.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,g,v,y,A,N,S,$={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===p||"undefined"==typeof p)&&(p=e()),g=s[m]&&s[m][p]),"undefined"==typeof g||!g.length||!g[0]){var b="";if(!c){S=[];for(y in s[m])this.terminals_[y]&&y>2&&S.push("'"+this.terminals_[y]+"'");b=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(b,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:S})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:n.push(p),r.push(this.lexer.yytext),a.push(this.lexer.yylloc),n.push(g[1]),p=null,f?(p=f,f=null):(d=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(A=this.productions_[g[1]][1],$.$=r[r.length-A],$._$={first_line:a[a.length-(A||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(A||1)].first_column,last_column:a[a.length-1].last_column},h&&($._$.range=[a[a.length-(A||1)].range[0],a[a.length-1].range[1]]),v=this.performAction.call($,o,d,l,this.yy,g[1],r,a),"undefined"!=typeof v)return v;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),a=a.slice(0,-1*A)),n.push(this.productions_[g[1]][0]),r.push($.$),a.push($._$),N=s[n[n.length-2]][n[n.length-1]],n.push(N);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,r;this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),s=0;s<a.length&&(i=this._input.match(this.rules[a[s]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=s,this.options.flex));s++);return e?(r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,a[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){function r(t,i){return e.yytext=e.yytext.substr(t,e.yyleng-i)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e.yytext=e.yytext.substr(5,e.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(e.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 81;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return e.yytext=r(1,2).replace(/\\"/g,'"'),74;case 30:return e.yytext=r(1,2).replace(/\\'/g,"'"),74;case 31:return 79;case 32:return 76;case 33:return 76;case 34:return 77;case 35:return 78;case 36:return 75;case 37:return 69;case 38:return 71;case 39:return 66;case 40:return 66;case 41:return"INVALID";case 42:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,42],inclusive:!0}},t}();return e.lexer=i,t.prototype=e,e.Parser=t,new t}();e["default"]=n,t.exports=e["default"]},function(t,e,i){function n(){}function r(t,e,i){void 0===e&&(e=t.length);var n=t[e-1],r=t[e-2];return n?"ContentStatement"===n.type?(r||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i}function a(t,e,i){void 0===e&&(e=-1);var n=t[e+1],r=t[e+2];return n?"ContentStatement"===n.type?(r||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i}function s(t,e,i){var n=t[null==e?0:e+1];if(n&&"ContentStatement"===n.type&&(i||!n.rightStripped)){var r=n.value;n.value=n.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==r}}function o(t,e,i){var n=t[null==e?t.length-1:e-1];if(n&&"ContentStatement"===n.type&&(i||!n.leftStripped)){var r=n.value;return n.value=n.value.replace(i?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==r,n.leftStripped}}var l=i(8)["default"];e.__esModule=!0;var d=i(6),c=l(d);n.prototype=new c["default"],n.prototype.Program=function(t){var e=!this.isRootSeen;this.isRootSeen=!0;for(var i=t.body,n=0,l=i.length;l>n;n++){var d=i[n],c=this.accept(d);if(c){var u=r(i,n,e),h=a(i,n,e),p=c.openStandalone&&u,f=c.closeStandalone&&h,m=c.inlineStandalone&&u&&h;c.close&&s(i,n,!0),c.open&&o(i,n,!0),m&&(s(i,n),o(i,n)&&"PartialStatement"===d.type&&(d.indent=/([ \t]+$)/.exec(i[n-1].original)[1])),p&&(s((d.program||d.inverse).body),o(i,n)),f&&(s(i,n),o((d.inverse||d.program).body))}}return t},n.prototype.BlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,i=t.program&&t.inverse,n=i,l=i;if(i&&i.chained)for(n=i.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var d={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:a(e.body),closeStandalone:r((n||e).body)};if(t.openStrip.close&&s(e.body,null,!0),i){var c=t.inverseStrip;c.open&&o(e.body,null,!0),c.close&&s(n.body,null,!0),t.closeStrip.open&&o(l.body,null,!0),r(e.body)&&a(n.body)&&(o(e.body),s(n.body))}else t.closeStrip.open&&o(e.body,null,!0);return d},n.prototype.MustacheStatement=function(t){return t.strip},n.prototype.PartialStatement=n.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e["default"]=n,t.exports=e["default"]},function(t,e,i){function n(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function r(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function a(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function s(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function o(t,e,i){i=this.locInfo(i);for(var n=t?"@":"",r=[],a=0,s="",o=0,l=e.length;l>o;o++){var d=e[o].part,c=e[o].original!==d;if(n+=(e[o].separator||"")+d,c||".."!==d&&"."!==d&&"this"!==d)r.push(d);else{if(r.length>0)throw new p["default"]("Invalid path: "+n,{loc:i});".."===d&&(a++,s+="../")}}return new this.PathExpression(t,a,r,n,i)}function l(t,e,i,n,r,a){var s=n.charAt(3)||n.charAt(2),o="{"!==s&&"&"!==s;return new this.MustacheStatement(t,e,i,o,r,this.locInfo(a))}function d(t,e,i,n){if(t.path.original!==i){var r={loc:t.path.loc};throw new p["default"](t.path.original+" doesn't match "+i,r)}n=this.locInfo(n);var a=new this.Program([e],null,{},n);return new this.BlockStatement(t.path,t.params,t.hash,a,void 0,{},{},{},n)}function c(t,e,i,n,r,a){if(n&&n.path&&t.path.original!==n.path.original){var s={loc:t.path.loc};throw new p["default"](t.path.original+" doesn't match "+n.path.original,s);
}e.blockParams=t.blockParams;var o=void 0,l=void 0;return i&&(i.chain&&(i.program.body[0].closeStrip=n.strip),l=i.strip,o=i.program),r&&(r=o,o=e,e=r),new this.BlockStatement(t.path,t.params,t.hash,e,o,t.strip,l,n&&n.strip,this.locInfo(a))}var u=i(8)["default"];e.__esModule=!0,e.SourceLocation=n,e.id=r,e.stripFlags=a,e.stripComment=s,e.preparePath=o,e.prepareMustache=l,e.prepareRawBlock=d,e.prepareBlock=c;var h=i(12),p=u(h)},function(t,e,i){function n(t,e,i){if(a.isArray(t)){for(var n=[],r=0,s=t.length;s>r;r++)n.push(e.wrap(t[r],i));return n}return"boolean"==typeof t||"number"==typeof t?t+"":t}function r(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var a=i(13),s=void 0;try{}catch(o){}s||(s=function(t,e,i,n){this.src="",n&&this.add(n)},s.prototype={add:function(t){a.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){a.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,i=this.source.length;i>e;e++)t(this.source[e])},empty:function(){var t=void 0===arguments[0]?this.currentLocation||{start:{}}:arguments[0];return new s(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof s?t:(t=n(t,this,e),new s(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,i){return i=this.generateList(i),this.wrap([t,e?"."+e+"(":"(",i,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var i in t)if(t.hasOwnProperty(i)){var r=n(t[i],this);"undefined"!==r&&e.push([this.quotedString(i),":",r])}var a=this.generateList(e);return a.prepend("{"),a.add("}"),a},generateList:function(t,e){for(var i=this.empty(e),r=0,a=t.length;a>r;r++)r&&i.add(","),i.add(n(t[r],this,e));return i},generateArray:function(t,e){var i=this.generateList(t,e);return i.prepend("["),i.add("]"),i}},e["default"]=r,t.exports=e["default"]}])}),define("hbs/underscore",[],function(){function t(e,i,n){if(e===i)return 0!==e||1/e==1/i;if(null==e||null==i)return e===i;if(e._chain&&(e=e._wrapped),i._chain&&(i=i._wrapped),e.isEqual&&S.isFunction(e.isEqual))return e.isEqual(i);if(i.isEqual&&S.isFunction(i.isEqual))return i.isEqual(e);var r=o.call(e);if(r!=o.call(i))return!1;switch(r){case"[object String]":return e==String(i);case"[object Number]":return e!=+e?i!=+i:0==e?1/e==1/i:e==+i;case"[object Date]":case"[object Boolean]":return+e==+i;case"[object RegExp]":return e.source==i.source&&e.global==i.global&&e.multiline==i.multiline&&e.ignoreCase==i.ignoreCase}if("object"!=typeof e||"object"!=typeof i)return!1;for(var a=n.length;a--;)if(n[a]==e)return!0;n.push(e);var s=0,l=!0;if("[object Array]"==r){if(s=e.length,l=s==i.length)for(;s--&&(l=s in e==s in i&&t(e[s],i[s],n)););}else{if("constructor"in e!="constructor"in i||e.constructor!=i.constructor)return!1;for(var d in e)if(S.has(e,d)&&(s++,!(l=S.has(i,d)&&t(e[d],i[d],n))))break;if(l){for(d in i)if(S.has(i,d)&&!s--)break;l=!s}}return n.pop(),l}var e={},i=Array.prototype,n=Object.prototype,r=Function.prototype,a=i.slice,s=i.unshift,o=n.toString,l=n.hasOwnProperty,d=i.forEach,c=i.map,u=i.reduce,h=i.reduceRight,p=i.filter,f=i.every,m=i.some,g=i.indexOf,v=i.lastIndexOf,y=Array.isArray,A=Object.keys,N=r.bind,S=function(t){return new E(t)};S.VERSION="1.3.3";var $=S.each=S.forEach=function(t,i,n){if(null!=t)if(d&&t.forEach===d)t.forEach(i,n);else if(t.length===+t.length){for(var r=0,a=t.length;a>r;r++)if(r in t&&i.call(n,t[r],r,t)===e)return}else for(var s in t)if(S.has(t,s)&&i.call(n,t[s],s,t)===e)return};S.map=S.collect=function(t,e,i){var n=[];return null==t?n:c&&t.map===c?t.map(e,i):($(t,function(t,r,a){n[n.length]=e.call(i,t,r,a)}),t.length===+t.length&&(n.length=t.length),n)},S.reduce=S.foldl=S.inject=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),u&&t.reduce===u)return n&&(e=S.bind(e,n)),r?t.reduce(e,i):t.reduce(e);if($(t,function(t,a,s){r?i=e.call(n,i,t,a,s):(i=t,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return i},S.reduceRight=S.foldr=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),h&&t.reduceRight===h)return n&&(e=S.bind(e,n)),r?t.reduceRight(e,i):t.reduceRight(e);var a=S.toArray(t).reverse();return n&&!r&&(e=S.bind(e,n)),r?S.reduce(a,e,i,n):S.reduce(a,e)},S.find=S.detect=function(t,e,i){var n;return b(t,function(t,r,a){return e.call(i,t,r,a)?(n=t,!0):void 0}),n},S.filter=S.select=function(t,e,i){var n=[];return null==t?n:p&&t.filter===p?t.filter(e,i):($(t,function(t,r,a){e.call(i,t,r,a)&&(n[n.length]=t)}),n)},S.reject=function(t,e,i){var n=[];return null==t?n:($(t,function(t,r,a){e.call(i,t,r,a)||(n[n.length]=t)}),n)},S.every=S.all=function(t,i,n){var r=!0;return null==t?r:f&&t.every===f?t.every(i,n):($(t,function(t,a,s){return(r=r&&i.call(n,t,a,s))?void 0:e}),!!r)};var b=S.some=S.any=function(t,i,n){i||(i=S.identity);var r=!1;return null==t?r:m&&t.some===m?t.some(i,n):($(t,function(t,a,s){return r||(r=i.call(n,t,a,s))?e:void 0}),!!r)};S.include=S.contains=function(t,e){var i=!1;return null==t?i:g&&t.indexOf===g?-1!=t.indexOf(e):i=b(t,function(t){return t===e})},S.invoke=function(t,e){var i=a.call(arguments,2);return S.map(t,function(t){return(S.isFunction(e)?e||t:t[e]).apply(t,i)})},S.pluck=function(t,e){return S.map(t,function(t){return t[e]})},S.max=function(t,e,i){if(!e&&S.isArray(t)&&t[0]===+t[0])return Math.max.apply(Math,t);if(!e&&S.isEmpty(t))return-(1/0);var n={computed:-(1/0)};return $(t,function(t,r,a){var s=e?e.call(i,t,r,a):t;s>=n.computed&&(n={value:t,computed:s})}),n.value},S.min=function(t,e,i){if(!e&&S.isArray(t)&&t[0]===+t[0])return Math.min.apply(Math,t);if(!e&&S.isEmpty(t))return 1/0;var n={computed:1/0};return $(t,function(t,r,a){var s=e?e.call(i,t,r,a):t;s<n.computed&&(n={value:t,computed:s})}),n.value},S.shuffle=function(t){var e,i=[];return $(t,function(t,n,r){e=Math.floor(Math.random()*(n+1)),i[n]=i[e],i[e]=t}),i},S.sortBy=function(t,e,i){var n=S.isFunction(e)?e:function(t){return t[e]};return S.pluck(S.map(t,function(t,e,r){return{value:t,criteria:n.call(i,t,e,r)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;return void 0===i?1:void 0===n?-1:n>i?-1:i>n?1:0}),"value")},S.groupBy=function(t,e){var i={},n=S.isFunction(e)?e:function(t){return t[e]};return $(t,function(t,e){var r=n(t,e);(i[r]||(i[r]=[])).push(t)}),i},S.sortedIndex=function(t,e,i){i||(i=S.identity);for(var n=0,r=t.length;r>n;){var a=n+r>>1;i(t[a])<i(e)?n=a+1:r=a}return n},S.toArray=function(t){return t?S.isArray(t)?a.call(t):S.isArguments(t)?a.call(t):t.toArray&&S.isFunction(t.toArray)?t.toArray():S.values(t):[]},S.size=function(t){return S.isArray(t)?t.length:S.keys(t).length},S.first=S.head=S.take=function(t,e,i){return null==e||i?t[0]:a.call(t,0,e)},S.initial=function(t,e,i){return a.call(t,0,t.length-(null==e||i?1:e))},S.last=function(t,e,i){return null==e||i?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},S.rest=S.tail=function(t,e,i){return a.call(t,null==e||i?1:e)},S.compact=function(t){return S.filter(t,function(t){return!!t})},S.flatten=function(t,e){return S.reduce(t,function(t,i){return S.isArray(i)?t.concat(e?i:S.flatten(i)):(t[t.length]=i,t)},[])},S.without=function(t){return S.difference(t,a.call(arguments,1))},S.uniq=S.unique=function(t,e,i){var n=i?S.map(t,i):t,r=[];return t.length<3&&(e=!0),S.reduce(n,function(i,n,a){return(e?S.last(i)===n&&i.length:S.include(i,n))||(i.push(n),r.push(t[a])),i},[]),r},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=S.intersect=function(t){var e=a.call(arguments,1);return S.filter(S.uniq(t),function(t){return S.every(e,function(e){return S.indexOf(e,t)>=0})})},S.difference=function(t){var e=S.flatten(a.call(arguments,1),!0);return S.filter(t,function(t){return!S.include(e,t)})},S.zip=function(){for(var t=a.call(arguments),e=S.max(S.pluck(t,"length")),i=new Array(e),n=0;e>n;n++)i[n]=S.pluck(t,""+n);return i},S.indexOf=function(t,e,i){if(null==t)return-1;var n,r;if(i)return n=S.sortedIndex(t,e),t[n]===e?n:-1;if(g&&t.indexOf===g)return t.indexOf(e);for(n=0,r=t.length;r>n;n++)if(n in t&&t[n]===e)return n;return-1},S.lastIndexOf=function(t,e){if(null==t)return-1;if(v&&t.lastIndexOf===v)return t.lastIndexOf(e);for(var i=t.length;i--;)if(i in t&&t[i]===e)return i;return-1},S.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=0,a=new Array(n);n>r;)a[r++]=t,t+=i;return a};var _=function(){};S.bind=function(t,e){var i,n;if(t.bind===N&&N)return N.apply(t,a.call(arguments,1));if(!S.isFunction(t))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(a.call(arguments)));_.prototype=t.prototype;var r=new _,s=t.apply(r,n.concat(a.call(arguments)));return Object(s)===s?s:r}},S.bindAll=function(t){var e=a.call(arguments,1);return 0==e.length&&(e=S.functions(t)),$(e,function(e){t[e]=S.bind(t[e],t)}),t},S.memoize=function(t,e){var i={};return e||(e=S.identity),function(){var n=e.apply(this,arguments);return S.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},S.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},S.defer=function(t){return S.delay.apply(S,[t,1].concat(a.call(arguments,1)))},S.throttle=function(t,e){var i,n,r,a,s,o,l=S.debounce(function(){s=a=!1},e);return function(){i=this,n=arguments;var d=function(){r=null,s&&t.apply(i,n),l()};return r||(r=setTimeout(d,e)),a?s=!0:o=t.apply(i,n),l(),a=!0,o}},S.debounce=function(t,e,i){var n;return function(){var r=this,a=arguments,s=function(){n=null,i||t.apply(r,a)};i&&!n&&t.apply(r,a),clearTimeout(n),n=setTimeout(s,e)}},S.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments))}},S.wrap=function(t,e){return function(){var i=[t].concat(a.call(arguments,0));return e.apply(this,i)}},S.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},S.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},S.keys=A||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)S.has(t,i)&&(e[e.length]=i);return e},S.values=function(t){return S.map(t,S.identity)},S.functions=S.methods=function(t){var e=[];for(var i in t)S.isFunction(t[i])&&e.push(i);return e.sort()},S.extend=function(t){return $(a.call(arguments,1),function(e){for(var i in e)t[i]=e[i]}),t},S.pick=function(t){var e={};return $(S.flatten(a.call(arguments,1)),function(i){i in t&&(e[i]=t[i])}),e},S.defaults=function(t){return $(a.call(arguments,1),function(e){for(var i in e)null==t[i]&&(t[i]=e[i])}),t},S.clone=function(t){return S.isObject(t)?S.isArray(t)?t.slice():S.extend({},t):t},S.tap=function(t,e){return e(t),t},S.isEqual=function(e,i){return t(e,i,[])},S.isEmpty=function(t){if(null==t)return!0;if(S.isArray(t)||S.isString(t))return 0===t.length;for(var e in t)if(S.has(t,e))return!1;return!0},S.isElement=function(t){return!(!t||1!=t.nodeType)},S.isArray=y||function(t){return"[object Array]"==o.call(t)},S.isObject=function(t){return t===Object(t)},S.isArguments=function(t){return"[object Arguments]"==o.call(t)},S.isArguments(arguments)||(S.isArguments=function(t){return!(!t||!S.has(t,"callee"))}),S.isFunction=function(t){return"[object Function]"==o.call(t)},S.isString=function(t){return"[object String]"==o.call(t)},S.isNumber=function(t){return"[object Number]"==o.call(t)},S.isFinite=function(t){return S.isNumber(t)&&isFinite(t)},S.isNaN=function(t){return t!==t},S.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==o.call(t)},S.isDate=function(t){return"[object Date]"==o.call(t)},S.isRegExp=function(t){return"[object RegExp]"==o.call(t)},S.isNull=function(t){return null===t},S.isUndefined=function(t){return void 0===t},S.has=function(t,e){return l.call(t,e)},S.noConflict=function(){return root._=previousUnderscore,this},S.identity=function(t){return t},S.times=function(t,e,i){for(var n=0;t>n;n++)e.call(i,n)},S.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},S.result=function(t,e){if(null==t)return null;var i=t[e];return S.isFunction(i)?i.call(t):i},S.mixin=function(t){$(S.functions(t),function(e){F(e,S[e]=t[e])})};var w=0;S.uniqueId=function(t){var e=w++;return t?t+e:e},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var x=/.^/,C={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var P in C)C[C[P]]=P;var k=/\\|'|\r|\n|\t|\u2028|\u2029/g,T=/\\(\\|'|r|n|t|u2028|u2029)/g,M=function(t){return t.replace(T,function(t,e){return C[e]})};S.template=function(t,e,i){i=S.defaults(i||{},S.templateSettings);var n="__p+='"+t.replace(k,function(t){return"\\"+C[t]}).replace(i.escape||x,function(t,e){return"'+\n_.escape("+M(e)+")+\n'"}).replace(i.interpolate||x,function(t,e){return"'+\n("+M(e)+")+\n'"}).replace(i.evaluate||x,function(t,e){return"';\n"+M(e)+"\n;__p+='"})+"';\n";i.variable||(n="with(obj||{}){\n"+n+"}\n"),n="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+n+"return __p;\n";var r=new Function(i.variable||"obj","_",n);if(e)return r(e,S);var a=function(t){return r.call(this,t,S)};return a.source="function("+(i.variable||"obj")+"){\n"+n+"}",a},S.chain=function(t){return S(t).chain()};var E=function(t){this._wrapped=t};S.prototype=E.prototype;var j=function(t,e){return e?S(t).chain():t},F=function(t,e){E.prototype[t]=function(){var t=a.call(arguments);return s.call(t,this._wrapped),j(e.apply(S,t),this._chain)}};return S.mixin(S),$(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];E.prototype[t]=function(){var i=this._wrapped;e.apply(i,arguments);var n=i.length;return"shift"!=t&&"splice"!=t||0!==n||delete i[0],j(i,this._chain)}}),$(["concat","join","slice"],function(t){var e=i[t];E.prototype[t]=function(){return j(e.apply(this._wrapped,arguments),this._chain)}}),E.prototype.chain=function(){return this._chain=!0,this},E.prototype.value=function(){return this._wrapped},S}),function(window){var JSON=window.JSON||{};!function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,r,a,s,o=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,i=0;a>i;i+=1)s[i]=str(i,l)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]",gap=o,r}if(rep&&"object"==typeof rep)for(a=rep.length,i=0;a>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],r=str(n,l),r&&s.push(quote(n)+(gap?": ":":")+r));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r=str(n,l),r&&s.push(quote(n)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}",gap=o,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,r=t[e];if(r&&"object"==typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=walk(r,i),void 0!==n?r[i]=n:delete r[i]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("hbs/json2",[],function(){return JSON})}.call(this,this),define("hbs",["hbs/handlebars","hbs/underscore","hbs/json2"],function(t,e,i){function n(e,i,n){var r,a;return n=n||{},"data"in n||(n.data=!0),n.compat&&(n.useDepths=!0),r=t.parse(e),a=(new t.Compiler).compile(r,n),(new t.JavaScriptCompiler).compile(a,n)}var r,a,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=function(){throw new Error("Environment unsupported.")},l=[],d="w+",c="hbs",u="@hbs",h="/styles/",p="/demo-build/styles/",f="templates/helpers/",m="screen.build.css",g="onHbsRead";t.registerHelper("$",function(){}),"undefined"!=typeof window&&window.navigator&&window.document&&!window.navigator.userAgent.match(/Node.js/)?(a=function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return arguments[0]===!0?new XDomainRequest:new XMLHttpRequest;for(e=0;3>e;e++){i=s[e];try{t=new ActiveXObject(i)}catch(n){}if(t){s=[i];break}}if(!t)throw new Error("getXhr(): XMLHttpRequest not available");return t},getIEVersion=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}return t},o=function(t,e){var i=!1;if(0!=t.indexOf("http"))i=!1;else{var n="https"===t.substr(0,5)?8:7,r="https"===window.location.href.substr(0,5)?8:7,s=t.substr(n).split("/").shift(),o=getIEVersion();i=s!=window.location.href.substr(r).split("/").shift()&&o>=7}if(i){var l=a(!0);l.open("GET",t),l.onload=function(){e(l.responseText,t)},l.onprogress=function(){},l.ontimeout=function(){},l.onerror=function(){},setTimeout(function(){l.send()},0)}else{var d=a();d.open("GET",t,!0),d.onreadystatechange=function(i){4===d.readyState&&e(d.responseText,t)},d.send(null)}}):"undefined"!=typeof process&&process.versions&&process.versions.node?(r=require.nodeRequire("fs"),o=function(t,e){var i=r.readFileSync(t,"utf8")||"";i=i.replace(/^\uFEFF/,""),e(i,t)}):"undefined"!=typeof java&&"undefined"!=typeof java.io&&(o=function(t,e){for(var i,n=new java.io.FileInputStream(t),r=new java.io.InputStreamReader(n,"UTF-8"),a=new java.io.BufferedReader(r),s="";null!==(i=a.readLine());)s+=new String(i)+"\n";a.close(),e(s,t)});var v,y=[],A={},N=[];return{get:function(){return t},write:function(t,e,i){if(e+u in l){var n=l[e+u];i.asModule(t+"!"+e,n)}},version:"3.0.3",load:function(r,a,s,S){function $(t,i){return e(t).forEach(function(t){t&&t.type&&"PartialStatement"===t.type&&"SubExpression"!==t.name.type&&i.push(t.name.original),t&&t.program&&t.program.body&&$(t.program.body,i),t&&t.inverse&&t.inverse.body&&$(t.inverse.body,i)}),i}function b(t,i){var n=[];return t&&t.body&&(n=$(t.body,[])),i&&i.partials&&i.partials.length&&e(i.partials).forEach(function(t){n.push(t)}),e.unique(n)}function _(t){var e,n,r;if(t&&t.body&&(e=t.body[0],e&&"CommentStatement"===e.type))try{return n=e.value.replace(new RegExp("^[\\s]+|[\\s]+$","g"),""),r=i.parse(n),n}catch(a){return i.stringify({description:n})}return"{}"}function w(t){return!!("SubExpression"===t.type||t.params&&t.params.length||t.hash)}function x(t,i){w(t)&&"undefined"!=typeof t.path&&C(t.path.original,i),t&&t.params&&t.params.forEach(function(t){x(t,i)}),t&&t.hash&&t.hash.pairs&&e(t.hash.pairs).forEach(function(t){x(t.value,i)})}function C(e,i){"undefined"==typeof t.helpers[e]&&i.push(e)}function P(t,i,n,r){n=n?n+".":"";var a="";return e(t).forEach(function(t){var e;(w(t)||"MustacheStatement"===t.type)&&x(t,r),t&&t.mustache&&P([t.mustache],i,n+a,r),t&&t.program&&t.program.body&&(e=P([t.path],[],"",r)[0]||"",t.inverse&&t.inverse.body&&P(t.inverse.body,i,n+a+(e?n+a?"."+e:e:""),r),P(t.program.body,i,n+a+(e?n+a?"."+e:e:""),r))}),i}function k(t){var i=[],n=[];t&&t.body&&(i=P(t.body,[],void 0,n));var r=["helperMissing","blockHelperMissing","each","if","unless","with","log","lookup"];return{vars:e(i).chain().unique().map(function(t){return""===t?".":t.length&&"."===t[t.length-1]?t.substr(0,t.length-1)+"[]":t}).value(),helpers:e(n).chain().unique().map(function(t){return e(r).contains(t)?void 0:t}).compact().value()}}function T(t){for(var e=t.split("/"),i=0;i<e.length;i++)".."===e[i]?(delete e[i-1],delete e[i]):"."===e[i]&&delete e[i];return e.join("/").replace(/\/\/+/g,"/")}function M(u){o(I,function(o,u){var S,$,w,x,C,P=v.isBuild&&v[g]?v[g]:function(t,e,i){return i},M=t.parse(P(r,u,o)),I=_(M),R=k(M),D=R.vars,O=R.helpers||[],U="",L="",q="",z=[],H=r.substr(0,r.lastIndexOf("/")+1);if("{}"!==I)try{w=i.parse(I)}catch(V){console.log("couldn't parse meta for %s",u)}var W=b(M,w);v.hbs=v.hbs||{},v.hbs._partials=v.hbs._partials||{};for(var G in W)if(W.hasOwnProperty(G)&&"string"==typeof W[G]){var K,Y=W[G];if(K=T(Y.match(/^(\.|\/)+/)?H+Y:F+Y),B){if(u===a.toUrl(K))continue}else if(u===a.toUrl(K+"."+(v.hbs&&v.hbs.templateExtension?v.hbs.templateExtension:c)))continue;v.hbs._partials[K]=v.hbs._partials[K]||[],v.hbs._partials[K].references=v.hbs._partials[K].references||[],v.hbs._partials[K].references.push(Y),v.hbs._loadedDeps=v.hbs._loadedDeps||{},z[G]="hbs!"+K}if(S=z.join("', '"),O=O.concat(w&&w.helpers?w.helpers:[]),$=j?"":function(){var t,e=[],i=v.hbs&&v.hbs.helperPathCallback?v.hbs.helperPathCallback:function(t){return(v.hbs&&v.hbs.helperDirectory?v.hbs.helperDirectory:f)+t};for(t=0;t<O.length;t++)e[t]="'"+i(O[t],u)+"'";return e}().join(","),$&&($=","+$),w)try{w.styles&&(y=e.union(y,w.styles),require.isBrowser&&!v.isBuild?(x=document.head||document.getElementsByTagName("head")[0],e(w.styles).forEach(function(t){A[t]||(C=document.createElement("link"),C.href=v.baseUrl+h+t+".css",C.media="all",C.rel="stylesheet",C.type="text/css",x.appendChild(C),A[t]=C)})):v.isBuild&&!function(){var t=require.nodeRequire("fs"),i=e(w.styles).map(function(t){return A[t]?"":(A[t]=!0,"@import url("+t+".css);\n")}).join("\n");t.open(__dirname+p+m,d,"0666",function(e,n){t.writeSync(n,i,null,encoding="utf8"),t.close(n)}),d="a"}())}catch(V){console.log("error injecting styles")}v.isBuild||v.serverRender||(U="<!-- START - "+r+" -->",L="<!-- END - "+r+" -->",q="t.meta = "+I+";\nt.helpers = "+i.stringify(O)+";\nt.deps = "+i.stringify(z)+";\nt.vars = "+i.stringify(D)+";\n");var Z=!1,J=v.hbs||{},X=e.extend(J.compileOptions||{},{originalKeyFallback:J.originalKeyFallback}),Q=n(o,Z,X),tt="'hbs!"+r+"',";S&&(S=", '"+S+"'");var et=[];v.hbs._partials[r]&&(et=v.hbs._partials[r].references);var it=v.hbs&&v.hbs.handlebarsPath?v.hbs.handlebarsPath:"hbs/handlebars";o="/* START_TEMPLATE */\ndefine("+tt+"['hbs','"+it+"'"+S+$+"], function( hbs, Handlebars ){ \nvar t = Handlebars.template("+Q+");\nHandlebars.registerPartial('"+r+"', t);\n";for(var G=0;G<et.length;G++)o+="Handlebars.registerPartial('"+et[G]+"', t);\n";o+=q+"return t;\n});\n/* END_TEMPLATE */\n",v.isBuild&&(l[E]=o),v.isBuild||(o+="\r\n//# sourceURL="+u),v.isBuild?(s.fromText(r,o),a([r],function(t){s(t)})):a(z,function(){s.fromText(o),a([r],function(t){s(t)})}),v.removeCombined&&u&&N.push(u)})}v=v||S;var E=r+u;v.hbs=v.hbs||{};var j=0==v.hbs.helpers,F="";v.hbs.partialsUrl&&(F=v.hbs.partialsUrl,F.match(/\/$/)||(F+="/")),v.hbs.fetchText&&(o=v.hbs.fetchText);var I,B=v.hbs&&v.hbs.templateExtension===!1;I=B?a.toUrl(r):a.toUrl(r+"."+(v.hbs&&v.hbs.templateExtension?v.hbs.templateExtension:c)),M(!1)},onLayerEnd:function(){v.removeCombined&&r&&N.forEach(function(t){r.existsSync(t)&&r.unlinkSync(t)})}}}),define("hbs!$app/templates/megaphone_tasks_holder",["hbs","hbs/handlebars"],function(t,e){var i=e.template({1:function(t,e,i,n){var r,a;return'  <li class="js-megaphone-task megaphone-task" data-megaphone-task="'+this.escapeExpression((a=null!=(a=e.task||(null!=t?t.task:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"task",hash:{},data:n}):a))+'">\n    <a href="#" class="megaphone-task-dismiss js-megaphone-task-dismiss"><i class="gi gi-close"></i></a>\n    '+(null!=(a=null!=(a=e.html||(null!=t?t.html:t))?a:e.helperMissing,r="function"==typeof a?a.call(t,{name:"html",hash:{},data:n}):a)?r:"")+"\n  </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return null!=(r=e.each.call(t,null!=t?t.tasks:t,{name:"each",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:""},useData:!0});return e.registerPartial("$app/templates/megaphone_tasks_holder",i),i}),function(t){function e(e,i){this.$element=t(e),this.options=i,this.enabled=!0,this.fixTitle()}e.prototype={show:function(){var e=this.getTitle();if(e&&this.enabled){var i=this.tip();i.find(".tipsy-inner")[this.options.html?"html":"text"](e),i[0].className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var n,r=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),a=i[0].offsetWidth,s=i[0].offsetHeight,o="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0]):this.options.gravity;switch(o.charAt(0)){case"n":n={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-a/2};break;case"s":n={top:r.top-s-this.options.offset,left:r.left+r.width/2-a/2};break;case"e":n={top:r.top+r.height/2-s/2,left:r.left-a-this.options.offset};break;case"w":n={top:r.top+r.height/2-s/2,left:r.left+r.width+this.options.offset}}2==o.length&&("w"==o.charAt(1)?n.left=r.left+r.width/2-15:n.left=r.left+r.width/2-a+15),i.css(n).addClass("tipsy-"+o),this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):i.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,i=this.options;this.fixTitle();var t,i=this.options;return"string"==typeof i.title?t=e.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(t=i.title.call(e[0])),t=(""+t).replace(/(^\s*|\s*$)/,""),t||i.fallback},tip:function(){return this.$tip||(this.$tip=t('<div class="tipsy"></div>').html('<div class="tipsy-inner"></div><div class="tipsy-arrow"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(i){function n(n){var r=t.data(n,"tipsy");return r||(r=new e(n,t.fn.tipsy.elementOptions(n,i)),t.data(n,"tipsy",r)),r}function r(){var t=n(this);t.hoverState="in",0==i.delayIn?t.show():(t.fixTitle(),setTimeout(function(){"in"==t.hoverState&&t.show()},i.delayIn))}function a(){var t=n(this);t.hoverState="out",0==i.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},i.delayOut)}if(i===!0)return this.data("tipsy");if("string"==typeof i){var s=this.data("tipsy");return s&&s[i](),this}if(i=t.extend({},t.fn.tipsy.defaults,i),i.live||this.each(function(){n(this)}),"manual"!=i.trigger){var o=i.live?"live":"bind",l="hover"==i.trigger?"mouseenter":"focus",d="hover"==i.trigger?"mouseleave":"blur";this[o](l,r)[o](d,a)}return this},t.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:1,title:"title",trigger:"hover"},t.fn.tipsy.elementOptions=function(e,i){return t.metadata?t.extend({},i,t(e).metadata()):i},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"}}(jQuery),define("$vendor/jquery.tipsy",function(){}),define("$app/ui/megaphone/dropdown",["flight/lib/component","hbs!$app/templates/megaphone_tasks_holder","$vendor/jquery.tipsy"],function(t,e){function i(){this.defaultAttrs({taskSelector:".js-megaphone-task",actionSelector:".js-megaphone-action",trackingSelector:".js-megaphone-task a:not(.js-megaphone-task-dismiss)",taskListSelector:".js-megaphone-tasks",defaultMessageSelector:".js-megaphone-default-message",viewMoreGuidesSelector:'.js-megaphone-default-message a[data-megaphone-action="uiNeedsToGoToGuides"]',taskDismissSelector:".js-megaphone-task-dismiss",megaphoneDropdownSelector:".js-megaphone-dropdown",taskCounterSelector:".js-megaphone-task-counter",taskCountSelector:".js-megaphone-task-count",actionDataField:"megaphone-action",taskDataField:"megaphone-task",megaphoneDropdownTriggerSelector:".js-megaphone-dropdown-trigger",greeterDismissedTooltipSelector:".js-greeter-dismissed-tooltip"}),this.getCurrentTaskCount=function(){return parseInt(this.select("taskCountSelector").html())},this.setCurrentTaskCount=function(t){this.select("taskCountSelector").html(t)},this.enableDropdown=function(){this.select("megaphoneDropdownTriggerSelector").removeClass("disabled")},this.parentHasChild=function(t,e){return-1!=e.parents().index(t)},this.toggleDropdown=function(t){var e=this.select("megaphoneDropdownSelector"),i=$(this.attr.greeterDismissedTooltipSelector);return this.select("megaphoneDropdownTriggerSelector").hasClass("disabled")?!1:(i.is(":visible")&&i.hide(),this.parentHasChild(e,$(t.target))?void 0:(this.select("megaphoneDropdownTriggerSelector").tipsy("hide"),this.$node.toggleClass("open"),this.$node.hasClass("open")&&this.trigger("uiNeedsToTrackUserActionEvent",{name:"megaphone_dropdown_open"}),this.trigger("uiNeedsToHideOtherDropdowns"),!1))},this.hideDropdown=function(){this.$node.removeClass("open")},this.hideDropdownWhenUnfocused=function(t){var e=this.select("megaphoneDropdownSelector");this.parentHasChild(e,$(t.target))||this.$node.removeClass("open")},this.toggleNoTasksDisplay=function(){this.select("taskCounterSelector").toggleClass("no-tasks"),this.select("defaultMessageSelector").fadeToggle(600),this.select("taskListSelector").fadeToggle(600)},this.selectMegaphoneTask=function(t){return this.select("taskSelector").filter("[data-"+this.attr.taskDataField+"="+t+"]")},this.dismissMegaphoneTask=function(t){t.preventDefault();var e=$(t.target).closest(this.attr.taskSelector).data(this.attr.taskDataField);return this.trigger("uiNeedsToDismissMegaphoneTask",{megaphone_task:e}),this.trigger("uiNeedsToTrackUserActionEvent",{name:"megaphone_dropdown_dismiss_task_"+e}),!1},this.hideDismissedMegaphoneTask=function(t,e){var i=this.selectMegaphoneTask(e.megaphone_task);i.css({opacity:0}),setTimeout(function(){i.hide(),this.trigger("uiNeedsToGetMegaphoneTasks")}.bind(this),300)},this.completeMegaphoneTask=function(t,e){var i=this.selectMegaphoneTask(e.megaphone_task);i.addClass("completed"),this.setCurrentTaskCount(this.getCurrentTaskCount()-1),this.trigger("uiNeedsToTrackUserActionEvent",{name:"megaphone_complete_task_"+e.megaphone_task})},this.dispatchMegaphoneAction=function(t){t.preventDefault();var e=$(t.target).data(this.attr.actionDataField),i=e+"WithMegaphone";return"undefined"!=typeof e&&this.trigger(i),!1},this.trackMegaphoneAction=function(t){var e=$(t.target).data(this.attr.actionDataField);"undefined"!=typeof e&&this.trigger("uiNeedsToTrackUserActionEvent",{name:"megaphone_dropdown_action_"+e})},this.resetMegaphoneTasks=function(t,i){this.setCurrentTaskCount(i.tasks.length),
0==i.tasks.length?this.toggleNoTasksDisplay():this.select("taskListSelector").html(e(i))},this.after("initialize",function(){this.on("click",this.toggleDropdown),this.on("html","click",this.hideDropdownWhenUnfocused),this.on("click",{actionSelector:this.dispatchMegaphoneAction,trackingSelector:this.trackMegaphoneAction,viewMoreGuidesSelector:this.trackMegaphoneAction,taskDismissSelector:this.dismissMegaphoneTask}),this.on(document,"dataDismissedMegaphoneTask",this.hideDismissedMegaphoneTask),this.on(document,"dataCompletedMegaphoneTask",this.completeMegaphoneTask),this.on(document,"uiNeedsToEnableDropdown",this.enableDropdown),this.on(document,"uiHideMegaphone",this.hideDropdown),this.on(document,"dataMegaphoneTasks",this.resetMegaphoneTasks)})}return t(i)}),define("$app/ui/megaphone/tasks/add_a_product",["flight/lib/component"],function(t){function e(){this.maybeGoToDashboard=function(){this.$node.attr("href")!=window.location.pathname?window.location.pathname=this.$node.attr("href"):(this.trigger("uiFocusNewProductNameField"),this.trigger("uiHideMegaphone"))},this.after("initialize",function(){this.on(document,"uiAddAProductWithMegaphone",this.maybeGoToDashboard)})}return t(e)}),define("$app/ui/megaphone/tasks/confirm_email_address",["flight/lib/component"],function(t){function e(){this.defaultAttrs({loadingTextField:"loading",defaultTextField:"default"}),this.setLoadingText=function(){var t=this.$node;t.data(this.attr.defaultTextField,t.text()),t.text(t.data(this.attr.loadingTextField))},this.setDefaultText=function(){this.$node.text(this.$node.data(this.attr.defaultTextField))},this.resendConfirmationEmail=function(){this.setLoadingText(),this.trigger("uiNeedsToResendConfirmationEmailWithMegaphone")},this.finishSendingConfirmationEmail=function(t,e){this.setDefaultText(),e.success?this.trigger("uiShowFlashMessage",{message:I18n.t("js.resend_confirmation_done")}):this.trigger("uiShowFlashMessage",{message:I18n.t("js.resend_confirmation_failure")})},this.after("initialize",function(){this.on(document,"uiResendConfirmationEmailWithMegaphone",this.resendConfirmationEmail),this.on(document,"dataResentConfirmationEmailWithMegaphone",this.finishSendingConfirmationEmail)})}return t(e)}),define("$app/data/megaphone/main",["flight/lib/component"],function(t){function e(){this.dismissMegaphoneTask=function(t,e){$.ajax({type:"POST",dataType:"JSON",url:Routes.megaphone_dismiss_path(),data:e}).done(function(t){t.success?this.trigger("dataDismissedMegaphoneTask",e):this.trigger("uiShowFlashMessage",{message:I18n.t("js.something_went_wrong")})}.bind(this))},this.getMegaphoneTasks=function(){$.ajax({type:"GET",dataType:"JSON",url:Routes.megaphone_tasks_path()}).done(function(t){t.success&&this.trigger("dataMegaphoneTasks",t)}.bind(this))},this.after("initialize",function(){this.on("uiNeedsToDismissMegaphoneTask",this.dismissMegaphoneTask),this.on("uiNeedsToGetMegaphoneTasks",this.getMegaphoneTasks)})}return t(e)}),function(t){t.oauthpopup=function(e){if(!e||!e.path)throw new Error("options.path must not be empty");e=t.extend({windowName:"ConnectWithOAuth",windowOptions:"location=0,status=0,width=800,height=400",callback:function(){window.location.reload()}},e);var i=window.open(e.path,e.windowName,e.windowOptions),n=window.setInterval(function(){i.closed&&(window.clearInterval(n),e.callback())},1e3)}}(jQuery),define("$vendor/jquery.oauthpopup",function(){}),define("$app/utils/with_social_connect",["$vendor/jquery.oauthpopup"],function(){function t(){this.defaultAttrs({twitterPath:"/users/auth/twitter?state=async_link_twitter_account"}),this.getPermissionStatusFromFBResponse=function(t,e){return"undefined"==typeof t.error&&"undefined"!=typeof t.data&&"undefined"!=typeof t.data[0]?!!t.data[0][e]:void 0},this.persistFacebookAccessToken=function(t){return $.ajax({type:"POST",dataType:"JSON",url:Routes.ajax_facebook_access_token_path(),data:{accessToken:t}}),!1},this.connectFacebook=function(t){var e=this;FB.login(function(i){var n,r=!0;i&&i.authResponse?(n=i.authResponse.accessToken,FB.api("me/permissions",function(i){i&&"undefined"==typeof i.error?($.each(t.verifyPermissions||[],function(t,n){r=r&&e.getPermissionStatusFromFBResponse(i,n)}),r?(e.persistFacebookAccessToken(n),t.success()):t.failure()):t.failure()})):t.failure()},t.facebookOptions||{})},this.connectTwitter=function(t){var e={path:this.attr.twitterPath,callback:function(){$.ajax({type:"GET",url:Routes.check_twitter_link_path(),dataType:"JSON"}).done(function(e){e.success?t.success():t.failure()})}};$.oauthpopup(e)}}return t}),define("$app/data/megaphone/tasks/connect_social_account",["flight/lib/component","$app/utils/with_social_connect"],function(t,e){function i(){this.authWithFacebook=function(){var t=this,e={success:function(){t.trigger(document,"dataCompletedMegaphoneTask",{megaphone_task:"connect_social_account"})},failure:function(){t.trigger("uiShowFlashMessage",{message:I18n.t("js.something_went_wrong")})},facebookOptions:{scope:"email,manage_pages"}};this.connectFacebook(e)},this.authWithTwitter=function(){var t=this,e={success:function(){t.trigger(document,"dataCompletedMegaphoneTask",{megaphone_task:"connect_social_account"})},failure:function(){t.trigger("uiShowFlashMessage",{message:I18n.t("js.something_went_wrong")})}};this.connectTwitter(e)},this.after("initialize",function(){this.on(document,"uiNeedsToConnectFacebookWithMegaphone",this.authWithFacebook),this.on(document,"uiNeedsToConnectTwitterWithMegaphone",this.authWithTwitter)})}return t(i,e)}),define("$app/data/megaphone/tasks/confirm_email_address",["flight/lib/component"],function(t){function e(){this.resendConfirmationEmail=function(){$.ajax({type:"POST",dataType:"JSON",url:Routes.resend_confirmation_settings_path()}).done(function(t){this.trigger("dataResentConfirmationEmailWithMegaphone",t)}.bind(this))},this.after("initialize",function(){this.on(document,"uiNeedsToResendConfirmationEmailWithMegaphone",this.resendConfirmationEmail)})}return t(e)}),define("$app/utils/megaphone_setup",["$app/ui/megaphone/dropdown","$app/ui/megaphone/tasks/add_a_product","$app/ui/megaphone/tasks/confirm_email_address","$app/data/megaphone/main","$app/data/megaphone/tasks/connect_social_account","$app/data/megaphone/tasks/confirm_email_address"],function(t,e,i,n,r,a){function s(){t.attachTo(".js-megaphone-group"),n.attachTo(document),e.attachTo('.js-megaphone-action[data-megaphone-action="uiAddAProduct"]'),i.attachTo('.js-megaphone-action[data-megaphone-action="uiResendConfirmationEmail"]'),r.attachTo(document),a.attachTo(document)}return s}),define("$app/utils/with_event",["$app/utils/with_url","flight/lib/compose"],function(t,e){function i(){e.mixin(this,[t]),this.getPluginNames=function(){for(var t=[],e=0;e<navigator.plugins.length;e++)t.push(navigator.plugins[e].name);return t.join()},this.getReferrer=function(){var t=this.getUrlParams().referrer&&this.getUrlParams().referrer.length>0?this.getUrlParams().referrer:void 0;return t||document.referrer||"direct"},this.getSource=function(){return this.getUrlParams().src?this.getUrlParams().src:void 0}}return i}),define("$app/data/event",["flight/lib/component","$app/utils/with_event"],function(t,e){function i(){this.trackProductSpecificEvent=function(t,e){$.ajax({type:"POST",data:{event_name:e.name,referrer:this.attr.referrer,plugins:this.attr.pluginNames,is_modal:this.attr.isModal,from_profile:this.attr.fromProfile,from_multi_overlay:this.attr.fromMultiOverlay,source:this.attr.source,was_product_recommended:!!e.wasProductRecommended,view_url:window.location.pathname},url:Routes.track_user_action_link_path(e.permalink),dataType:"json"})},this.trackViewEvent=function(t,e){$.ajax({type:"POST",url:Routes.increment_views_link_path(e.permalink),data:{is_modal:this.attr.isModal,plugins:this.attr.pluginNames,referrer:this.attr.referrer,got_cookies:navigator.cookieEnabled,from_profile:this.attr.fromProfile,from_multi_overlay:this.attr.fromMultiOverlay,source:this.attr.source,was_product_recommended:!!e.wasProductRecommended,recommended_by:e.recommendedBy,window_location:window.location.toString(),view_url:window.location.pathname},dataType:"json"})},this.trackUserActionEvent=function(t,e){$.ajax({type:"POST",data:{event_name:e.name,referrer:this.attr.referrer,plugins:this.attr.pluginNames,is_modal:this.attr.isModal,from_multi_overlay:this.attr.fromMultiOverlay,from_profile:this.attr.fromProfile,source:this.attr.source,view_url:window.location.pathname},url:Routes.events_track_user_action_path(),dataType:"json"})},this.after("initialize",function(){this.attr.pluginNames=this.getPluginNames(),this.attr.referrer=this.getReferrer(),this.attr.source=this.getSource(),this.attr.isModal=!!window.location.search.match(/as_modal/)&&top!=self,this.attr.fromProfile="user_page"===$("body").attr("id"),this.attr.fromMultiOverlay="overlay-page"===$("body").attr("id"),this.on(document,"uiNeedsToTrackProductSpecificEvent",this.trackProductSpecificEvent),this.on(document,"uiNeedsToTrackViewEvent",this.trackViewEvent),this.on(document,"uiNeedsToTrackUserActionEvent",this.trackUserActionEvent)})}return t(i,e)}),define("$app/utils/base_page",["$app/ui/shared/flash_message","$app/ui/shared/link_with_event_tracking","$app/ui/shared/click_to_select","$app/ui/shared/tippable_elements","$app/ui/shared/upgrade_gate_triggers","$app/ui/shared/input_placeholders","$app/ui/shared/input_prefixes","$app/ui/shared/javascript_loader","$app/ui/shared/with_navigation","$app/ui/shared/facebook_share","$app/ui/discover/search","$app/ui/discover/prompt","$app/utils/auth_modal_setup","$app/utils/megaphone_setup","$app/data/event"],function(t,e,i,n,r,a,s,o,l,d,c,u,h,p,f){var m={initialize:function(){$(document).ajaxSend(function(t,e,i){e.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}),f.attachTo(document),t.attachTo(".js-flash-message"),e.attachTo(".js-track-click-event"),i.attachTo(".click_to_select"),n.attachTo("body"),r.attachTo("body"),a.attachTo(":input[placeholder]"),s.attachTo(".input-prefix"),o.attachTo(".js-javascript-loader-indicator"),l.attachTo(".js-navigation"),c.attachTo(".js-discover-search"),u.attachTo(".js-discover-prompt"),d.attachTo(".js-facebook-share-trigger"),h(),p()}};return m}),define("hbs!$app/templates/custom_attributes",["hbs","hbs/handlebars"],function(t,e){var i=e.template({1:function(t,e,i,n){var r;return'  <li class="js-custom-file-info-attribute"><span>'+this.escapeExpression((r=null!=(r=e.name||(null!=t?t.name:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"name",hash:{},data:n}):r))+"</span> <strong>"+this.escapeExpression((r=null!=(r=e.value||(null!=t?t.value:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"value",hash:{},data:n}):r))+"</strong></li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return null!=(r=e.each.call(t,null!=t?t.custom_attributes:t,{name:"each",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:""},useData:!0});return e.registerPartial("$app/templates/custom_attributes",i),i}),function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var n=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:t>n.max?n.max:t)}function n(i){var n=d(),r=n._rgba=[];return i=i.toLowerCase(),f(l,function(t,a){var s,o=a.re.exec(i),l=o&&a.parse(o),d=a.space||"rgba";return l?(s=n[d](l),n[c[d].cache]=s[c[d].cache],r=n._rgba=s._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,a.transparent),n):a[i]}function r(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var a,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",o=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],d=t.Color=function(e,i,n,r){return new t.Color.fn.parse(e,i,n,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=d.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),d.fn=t.extend(d.prototype,{parse:function(r,s,o,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var u=this,h=t.type(r),p=this._rgba=[];return s!==e&&(r=[r,s,o,l],h="array"),"string"===h?this.parse(n(r)||a._default):"array"===h?(f(c.rgba.props,function(t,e){p[e.idx]=i(r[e.idx],e)}),this):"object"===h?(r instanceof d?f(c,function(t,e){r[e.cache]&&(u[e.cache]=r[e.cache].slice())}):f(c,function(e,n){var a=n.cache;f(n.props,function(t,e){if(!u[a]&&n.to){if("alpha"===t||null==r[t])return;u[a]=n.to(u._rgba)}u[a][e.idx]=i(r[t],e,!0)}),u[a]&&0>t.inArray(null,u[a].slice(0,3))&&(u[a][3]=1,n.from&&(u._rgba=n.from(u[a])))}),this):e},is:function(t){var i=d(t),n=!0,r=this;return f(c,function(t,a){var s,o=i[a.cache];return o&&(s=r[a.cache]||a.to&&a.to(r._rgba)||[],f(a.props,function(t,i){return null!=o[i.idx]?n=o[i.idx]===s[i.idx]:e})),n}),n},_space:function(){var t=[],e=this;return f(c,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=d(t),r=n._space(),a=c[r],s=0===this.alpha()?d("transparent"):this,o=s[a.cache]||a.to(s._rgba),l=o.slice();return n=n[a.cache],f(a.props,function(t,r){var a=r.idx,s=o[a],d=n[a],c=u[r.type]||{};null!==d&&(null===s?l[a]=d:(c.mod&&(d-s>c.mod/2?s+=c.mod:s-d>c.mod/2&&(s-=c.mod)),l[a]=i((d-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=d(e)._rgba;return d(t.map(i,function(t,e){return(1-n)*r[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,r=t[1]/255,a=t[2]/255,s=t[3],o=Math.max(n,r,a),l=Math.min(n,r,a),d=o-l,c=o+l,u=.5*c;return e=l===o?0:n===o?60*(r-a)/d+360:r===o?60*(a-n)/d+120:60*(n-r)/d+240,i=0===d?0:.5>=u?d/c:d/(2-c),[Math.round(e)%360,i,u,null==s?1:s]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],a=t[3],s=.5>=n?n*(1+i):n+i-n*i,o=2*n-s;return[Math.round(255*r(o,s,e+1/3)),Math.round(255*r(o,s,e)),Math.round(255*r(o,s,e-1/3)),a]},f(c,function(n,r){var a=r.props,s=r.cache,l=r.to,c=r.from;d.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===e)return this[s].slice();var r,o=t.type(n),u="array"===o||"object"===o?n:arguments,h=this[s].slice();return f(a,function(t,e){var n=u["object"===o?t:e.idx];null==n&&(n=h[e.idx]),h[e.idx]=i(n,e)}),c?(r=d(c(h)),r[s]=h,r):d(h)},f(a,function(e,i){d.fn[e]||(d.fn[e]=function(r){var a,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":n,d=this[l](),c=d[i.idx];return"undefined"===s?c:("function"===s&&(r=r.call(this,c),s=t.type(r)),null==r&&i.empty?this:("string"===s&&(a=o.exec(r),a&&(r=c+parseFloat(a[2])*("+"===a[1]?1:-1))),d[i.idx]=r,this[l](d)))})})}),d.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,r){var a,s,o="";if("transparent"!==r&&("string"!==t.type(r)||(a=n(r)))){if(r=d(a||r),!h.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===o||"transparent"===o)&&s&&s.style;)try{o=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}r=r.blend(o&&"transparent"!==o?o:"_default")}r=r.toRgbaString()}try{e.style[i]=r}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=d(e.elem,i),e.end=d(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},d.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,n,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(a[t.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(a[i]=r[i]);return a}function n(e,i){var n,r,s={};for(n in i)r=i[n],e[n]!==r&&(a[n]||(t.fx.step[n]||!isNaN(parseFloat(r)))&&(s[n]=r));return s}var r=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,a,s,o){var l=t.speed(a,s,o);return this.queue(function(){var a,s=t(this),o=s.attr("class")||"",d=l.children?s.find("*").addBack():s;d=d.map(function(){var e=t(this);return{el:e,start:i(this)}}),a=function(){t.each(r,function(t,i){e[i]&&s[i+"Class"](e[i])})},a(),d=d.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",o),d=d.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,d.get()).done(function(){a(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(i,n,r,a){return n?t.effects.animateClass.call(this,{add:i},n,r,a):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,r,a){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,r,a):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(n,r,a,s,o){return"boolean"==typeof r||r===e?a?t.effects.animateClass.call(this,r?{add:n}:{remove:n},a,s,o):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},r,a,s)}}(t.fn.toggleClass),switchClass:function(e,i,n,r,a){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,a)}})}(),function(){function n(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function r(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.4",save:function(t,e){for(var n=0;e.length>n;n++)null!==e[n]&&t.data(i+e[n],t[0].style[e[n]])},restore:function(t,n){var r,a;for(a=0;n.length>a;a++)null!==n[a]&&(r=t.data(i+n[a]),r===e&&(r=""),t.css(n[a],r))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},a=document.activeElement;try{a.id}catch(s){a=document.body}return e.wrap(n),(e[0]===a||t.contains(e[0],a))&&t(a).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,r){return r=r||{},t.each(i,function(t,i){var a=e.cssUnit(i);a[0]>0&&(r[i]=a[0]*n+a[1])}),r}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(a)&&a.call(r[0]),t.isFunction(e)&&e()}var r=t(this),a=i.complete,o=i.mode;(r.is(":hidden")?"hide"===o:"show"===o)?(r[o](),n()):s.call(r[0],i,n)}var i=n.apply(this,arguments),r=i.mode,a=i.queue,s=t.effects.effect[i.effect];return t.fx.off||!s?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):a===!1?this.each(e):this.queue(a||"fx",e)},show:function(t){return function(e){if(r(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(r(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(r(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),define("$vendor/jquery-ui-effects-core.min",function(){}),define("$app/ui/product/with_product_main",["$app/utils/with_url","$app/ui/shared/with_form_base","hbs!$app/templates/custom_attributes","flight/lib/compose","$vendor/jquery-ui-effects-core.min","$vendor/jquery.tipsy"],function(t,e,i,n){function r(){n.mixin(this,[t,e]),this.defaultAttrs({productMainSelector:".product-main",productContentSelector:".product-content",productInformationSelector:".js-product-information",previewContainerSelector:".preview-container",processingPreviewContainerSelector:".processing.preview_container",productLeftContainerSelector:".products-left-container",productLeftSelector:".products-left",contentHeaderSelector:".product-content h1",productPriceSelector:".product-price-tag",priceSelector:".product-price-tag .price",oldPriceSelector:".product-price-tag .old-price",wantContainerSelector:".want-container",wantFormSelector:".js-i-want-this-form",alreadyBoughtNoticeSelector:".js-already-bought-notice",alreadyBoughtNoticeButtonSelector:".js-already-bought-notice-button",actionsContainerSelector:".actions-container",wantThisContainerSelector:".i-want-this-container",wantButtonSelector:".i_want_this_button",territoryBlockedSelector:".territory_blocked",notForSaleNoticeSelector:".not-for-sale-notice",descriptionContainerSelector:".description-container",nameSelector:'h1[itemprop="name"] strong',noneRemainingNoticeSelector:".none-remaining-notice",giftSignifierSelector:'input[name="is_gift"]',linkCustomSummarySelector:"#js-main-product-pane ul li.summary",linkInfoAttributesSelector:"#js-main-product-pane",linkInfoAttributesListSelector:"#js-main-product-pane ul",linkFileInfoAttributesSelector:".js-file-info-attribute",linkCustomFileInfoAttributesSelector:".js-custom-file-info-attribute",canGiftSelector:'input[name="can_gift"]',purchaseModeSelector:".js-purchase-mode",rentalTermsSelector:".js-rental-terms",subscriptionChargeOccurrencesMessageSelector:".js-subscription-charge-occurrences-message",paymentOptionSelector:".js-payment-option",priceTagSelector:".js-price-tag",wantThis:!1,showingAddToBundle:!1,isDemo:!1,isOutboundEmbed:!1,isUsingBundle:!0}),this.redirectToPaymentForm=function(){var t="?wanted=true&referrer="+document.referrer;this.attr.selectedPriceInfo&&this.attr.selectedPriceInfo.recurrence&&(t+="&"+this.attr.selectedPriceInfo.recurrence+"=true"),window.top.location.href=Routes.short_link_path(this.attr.permalink)+t},this.trackAction=function(){this.trigger("uiNeedsToTrackActivityWithSellerGoogleAnalytics",{permalink:this.attr.permalink,action:"iwantthis"}),this.trigger("uiNeedsToTrackECommerceCartUpdate",{cartAction:"add",externalId:this.attr.externalId,name:this.attr.name,vertical:this.attr.vertical,price:this.attr.price,quantity:this.attr.quantity,currency:this.attr.currency}),this.trigger("uiNeedsToTrackProductSpecificEvent",{name:"i_want_this",permalink:this.attr.permalink,wasProductRecommended:this.attr.wasProductRecommended})},this.canShowPaymentFormFromOverlay=function(){if(this.attr.isOverlayPage&&this.attr.wantThis){if(this.attr.overlayPaymentOption)return this.triggerPaymentOptionUpdate(),this.attr.overlayPaymentOption=!1,!1;if(this.attr.hasVariants&&!this.attr.variantsHaveBeenShown)return this.attr.variantSelectionRequired=!0,!1}return!0},this.showPaymentFormIfPossible=function(t,e){if(t&&t.preventDefault(),void 0===e&&(e=!0),this.attr.isOutboundEmbed)return void this.redirectToPaymentForm();var i=this.attr.user&&this.attr.purchase&&this.attr.user.purchase.should_show_receipt;if(i||!this.validateForm(this.select("wantFormSelector"))||!this.validatePriceRange())return void this.trigger("uiCannotShowPaymentForm");if(this.trackAction(),this.isMultiBuyable()){if(!this.canShowPaymentFormFromOverlay())return void this.trigger("uiCannotShowPaymentForm");this.addSelfToBundle(),this.trigger("uiCanShowPaymentForm")}else this.attr.isCurrentUserSet&&(this.attr.onOverlayPage&&!this.attr.singleProductMode?this.trigger("uiCanShowPaymentForm"):(this.switchToPaymentForm(e),this.trigger("uiCannotShowPaymentForm")));this.trigger("uiScrollToTopOfEmbed"),this.trigger("uiSwitchSteps",{step:1})},this.showPaymentForm=function(){this.switchToPaymentForm(!0)},this.toggleGiftPaymentForm=function(t){return t&&t.preventDefault(),this.attr.isProcessingPayment||this.attr.isAnimatingPaymentForm?!1:("true"==this.select("giftSignifierSelector").val()?this.hideGiftInputs():this.showGiftInputs(),this.switchToPaymentForm(!0),!1)},this.setPreviewProcessing=function(){"test"!=this.attr.user.card.credit||this.attr.isDemo||this.select("processingPreviewContainerSelector").fadeIn()},this.setPriceTag=function(t){var e,i=this.select("priceSelector");e=this.priceWithCommas(t%1==0?t:t.toFixed(2)),this.attr.isPayWhatYouWant&&(e+="+"),this.attr.isRecurringBilling&&(e+=this.attr.selectedPriceInfo.recurrence_formatted),i.text(i.data("currency")+e)},this.priceWithCommas=function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")},this.showOldPrice=function(t){var e,i=this.select("priceSelector");e=this.priceWithCommas(t%1==0?t:t.toFixed(2)),this.select("oldPriceSelector").text(i.data("currency")+e).show()},this.hideOldPrice=function(){this.select("oldPriceSelector").hide()},this.updateDefaultHeightAttributes=function(){this.attr.defaultProductMainHeight=this.select("productMainSelector").outerHeight(),this.attr.previewHeightOnInitialize=this.select("productSelector").find(".preview-container").outerHeight()},this.updateDefaultHeight=function(){"undefined"==typeof this.attr.defaultProductMainHeight&&this.updateDefaultHeightAttributes()},this.setRemaining=function(){(this.attr.user.product.remaining||0==this.attr.user.product.remaining)&&(this.select("productLeftSelector").text(I18n.t("js.left_with_count",{count:this.attr.user.product.remaining})),this.select("productLeftContainerSelector").show(),this.attr.hasPreview||this.select("contentHeaderSelector").css("padding-left",50),0==this.attr.user.product.remaining&&(this.select("noneRemainingNoticeSelector").show(),this.select("wantThisContainerSelector").hide(),this.attr.isProductDisabled=!0))},this.setTerritoryBlockedNotice=function(){(this.attr.user.product.territory_blocked||this.attr.user.product.compliance_blocked)&&(this.select("territoryBlockedSelector").show(),this.select("wantThisContainerSelector").hide())},this.updateWantButtonText=function(t,e){this.select("wantButtonSelector").text(e.buttonText)},this.updateCustomAttributes=function(t,e){e.customAttributes.length>0||e.linkCustomSummaryText.length>0?this.select("linkInfoAttributesSelector").removeClass("hidden"):this.select("linkInfoAttributesSelector").addClass("hidden"),0==this.select("linkCustomSummarySelector").length&&this.select("linkInfoAttributesListSelector").prepend('<li class="summary"></li>'),this.select("linkCustomSummarySelector").text(e.linkCustomSummaryText),this.select("linkCustomFileInfoAttributesSelector").remove(),this.select("linkInfoAttributesListSelector").append(i({custom_attributes:e.customAttributes})),this.select("productMainSelector").height()>0&&this.select("productMainSelector").height("auto"),0==e.linkCustomSummaryText.length&&this.select("linkCustomSummarySelector").remove()},this.grabFileInfoAttributeByFileInfoKeyName=function(t){return $(this.attr.linkFileInfoAttributesSelector+'[data-file-info-key-name="'+t+'"]')},this.updateFileInfoAttributes=function(t,e){this.grabFileInfoAttributeByFileInfoKeyName(e.removedFileInfoAttribute).remove()},this.purchaseModeChanged=function(t){var e=this.select("purchaseModeSelector").is(":checked");this.attr.isRentalModeActive=!e,this.attr.isRentalModeActive?this.select("rentalTermsSelector").show():this.select("rentalTermsSelector").hide(),this.setPayButtonText(),this.trigger("uiNeedsToUpdatePriceDueToPurchaseModeChange")},this.updatePaymentOptionSelection=function(t){var e=$(this.attr.paymentOptionSelector+'[data-recurrence="'+t+'"]');e.prop("checked",!0).trigger("change"),this.paymentOptionChanged({target:e})},this.paymentOptionChanged=function(t){var e=$(t.target||t.srcElement);this.attr.selectedPriceInfo=e.data().priceInfo,this.setPrice();var i=e.data().priceRecurrenceNotice,n=e.data().priceFixedLengthRecurrenceNotice;this.select("priceTagSelector").attr("original-title",i),n&&this.select("subscriptionChargeOccurrencesMessageSelector").html(n)},this.setAlreadyBought=function(){this.attr.user.purchase.should_show_receipt&&(this.select("alreadyBoughtNoticeButtonSelector").text(this.attr.user.purchase.download_button_text).attr("href",this.attr.user.purchase.redirect_url),this.select("alreadyBoughtNoticeSelector").show(),this.trigger("uiNeedsToCheckForRecommendedProducts",{permalink:this.attr.permalink}))},this.updateChargeOccurrenceMessage=function(t,e){var i=this.select("priceTagSelector").data("currency")+(e%1==0?e:e.toFixed(2));0===e?this.select("subscriptionChargeOccurrencesMessageSelector").hide():(this.select("subscriptionChargeOccurrencesMessageSelector").find(".js-price").text(i),
this.select("subscriptionChargeOccurrencesMessageSelector").show())},this.after("initialize",function(){this.select("productPriceSelector").tipsy(),this.attr.hasPreview=this.select("previewContainerSelector").length>0,this.attr.canGift=this.select("canGiftSelector").length>0;var t=this.select("authorHovercardTriggerSelector"),e=this.select("authorHovercardSelector");t.length>0&&e.length>0&&e.css({bottom:$(".product").height()-t.offset().top+78});var i=this.select("productSelector").find(".preview-container"),n=this.select("productSelector").find(".image-preview-container img");n.load(function(){i.data("height",n.height()),"undefined"!=typeof this.attr.defaultProductMainHeight&&(this.attr.defaultProductMainHeight+=i.outerHeight()-this.attr.previewHeightOnInitialize),this.attr.isShowingPaymentForm||this.attr.isShowingReceipt||this.switchToProductMain(!1),this.trigger("uiNeedsToToggleScrollButton")}.bind(this)),this.on(document,"uiForceShowPaymentForm",this.showPaymentForm),this.on(document,"uiShowPaymentForm",this.showPaymentFormIfPossible),this.on(document,"uiUpdateWantButton",this.updateWantButtonText),this.on(document,"uiUpdateCustomAttributes",this.updateCustomAttributes),this.on(document,"uiUpdateFileInfoAttributes",this.updateFileInfoAttributes),this.on(document,"uiToUpdateChargeOccurrenceMessage",this.updateChargeOccurrenceMessage),this.on("change",{purchaseModeSelector:this.purchaseModeChanged,paymentOptionSelector:this.paymentOptionChanged}),this.select("purchaseModeSelector").prop("disabled",!1),this.select("paymentOptionSelector").prop("disabled",!1),this.on("click",{wantButtonSelector:this.showPaymentFormIfPossible}),this.trigger("uiNeedsToToggleScrollButton")})}return r}),define("$app/ui/shared/with_shipping_form",[],function(){function t(){this.defaultAttrs({statePlaceholder:[I18n.t("js.state"),I18n.t("js.county")],zipCodePlaceholder:[I18n.t("js.zip_code"),I18n.t("js.postal")],multiColumnHolderSelector:".js-multi-column-holder"}),this.currentStateField=function(){return this.attr.usingStateDropdown?this.select("stateSelectorDropDown"):this.select("stateSelectorText")},this.updateStateAndZipCode=function(){var t=this.select("countrySelector").val(),e="United States"==t||"Philippines"==t?0:1,i=this.currentStateField(),n=this.select("zipCodeSelector");i.attr({placeholder:this.attr.statePlaceholder[e]}),n.attr({placeholder:this.attr.zipCodePlaceholder[e]}),"United States"==t?this.useStateDropdown():this.useStateTextBox()},this.useStateDropdown=function(){this.usingStateDropdown=!0,this.select("stateSelectorDropDown").show().attr("name",this.attr.stateInputName).addClass("required"),this.select("stateSelectorText").hide().attr("name","").removeClass("required"),this.select("multiColumnHolderSelector").removeClass("no-dropdown")},this.useStateTextBox=function(){this.usingStateDropdown=!1,this.select("stateSelectorDropDown").hide().attr("name","").removeClass("required"),this.select("stateSelectorText").show().attr("name",this.attr.shippingFormNoun+"[state]").addClass("required"),this.select("multiColumnHolderSelector").addClass("no-dropdown"),"purchase"==this.attr.shippingFormNoun&&this.select("stateSelectorText").val("")},this.after("initialize",function(){this.on(document,"uiNeedsToUpdateStateAndZipCode",this.updateStateAndZipCode)})}return t}),define("$app/ui/product/with_envelope",["$app/utils/with_url","$app/ui/shared/with_form_base","$app/ui/shared/with_shipping_form","flight/lib/compose"],function(t,e,i,n){function r(){n.mixin(this,[t,e,i]),this.defaultAttrs({envelopeSelector:".envelope",emailFieldsSelector:".envelope input[type=email]",emailSelector:".envelope input[name=email]",emailConfirmContainerSelector:".js-email-confirm-tool-tip",emailConfirmTriggerSelector:".js-confirm-email-trigger",emailDenyTriggerSelector:".js-deny-email-trigger",giftTriggerSelector:".gift-trigger",giftElementSelector:".gift-element",gifteeEmailSelector:".envelope input[name=giftee_email]",shippingInfoSelector:".shipping_information",shippingInformationSelector:".js-shipping-information-container",keepOnFileHolderSelector:".js-keep-on-file-holder",countrySelector:".purchase_country",streetSelector:".purchase_street_address",citySelector:".purchase_city",stateSelectorDropDown:"select.purchase_state",stateSelectorText:"input.purchase_state",zipCodeSelector:".purchase_zip_code",shippingFields:["street_address","zip_code","state","city","country"],stateInputName:"purchase[state]",shippingAddressVerifySelector:".js-shipping-address-tool-tip",streetAddressUpdateTriggerSelector:".js-street-address-update-trigger",shippingAddressConfirmTriggerSelector:".js-shipping-address-confirm-trigger",shippingRateHolderSelector:".js-shipping-rate-holder",shippingAddressMessageSelector:".js-shipping-address-message",shippingRateSelector:".js-shipping-rate-info",shippingFormNoun:"purchase",usingStateDropdown:!1,hasVerifiedShippingAddress:!1,addressSuggestion:"",addressFieldForSuggestionSelector:""}),this.checkEmailForTypos=function(){var t=this.select("emailSelector"),e=this,i=["aaa","abb","abbott","abogado","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","ads","adult","ae","aeg","aero","af","afl","ag","agency","ai","aig","airforce","airtel","al","allfinanz","alsace","am","amica","amsterdam","android","ao","apartments","app","aq","aquarelle","ar","archi","army","arpa","as","asia","associates","at","attorney","au","auction","audio","auto","autos","aw","ax","axa","az","azure","ba","band","bank","bar","barcelona","barclaycard","barclays","bargains","bauhaus","bayern","bb","bbc","bbva","bcn","bd","be","beer","bentley","berlin","best","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","bloomberg","blue","bm","bmw","bn","bnl","bnpparibas","bo","boats","bond","boo","boots","boutique","br","bradesco","bridgestone","broker","brother","brussels","bs","bt","budapest","build","builders","business","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","camera","camp","cancerresearch","canon","capetown","capital","caravan","cards","care","career","careers","cars","cartier","casa","cash","casino","cat","catering","cba","cc","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chat","cheap","chloe","christmas","chrome","church","ci","cisco","citic","city","ck","cl","claims","cleaning","click","clinic","clothing","cloud","club","cm","cn","coach","codes","coffee","college","cologne","com","commbank","community","company","computer","condos","construction","consulting","contractors","cooking","cool","coop","corsica","country","coupons","courses","cr","credit","creditcard","cricket","crown","crs","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","date","dating","datsun","day","dclk","de","deals","degree","delivery","delta","democrat","dental","dentist","desi","design","dev","diamonds","diet","digital","direct","directory","discount","dj","dk","dm","dnp","do","docs","dog","doha","domains","doosan","download","drive","durban","dvag","dz","earth","eat","ec","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","erni","es","esq","estate","et","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","fage","fail","faith","family","fan","fans","farm","fashion","feedback","fi","film","finance","financial","firmdale","fish","fishing","fit","fitness","fj","fk","flights","florist","flowers","flsmidth","fly","fm","fo","foo","football","forex","forsale","forum","foundation","fr","frl","frogans","fund","furniture","futbol","fyi","ga","gal","gallery","game","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmo","gmx","gn","gold","goldpoint","golf","goo","goog","google","gop","gov","gp","gq","gr","graphics","gratis","green","gripe","group","gs","gt","gu","guge","guide","guitars","guru","gw","gy","hamburg","hangout","haus","healthcare","help","here","hermes","hiphop","hitachi","hiv","hk","hm","hn","hockey","holdings","holiday","homedepot","homes","honda","horse","host","hosting","hoteles","hotmail","house","how","hr","hsbc","ht","hu","ibm","icbc","ice","icu","id","ie","ifm","iinet","il","im","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insure","int","international","investments","io","ipiranga","iq","ir","irish","is","ist","istanbul","it","itau","iwc","java","jcb","je","jetzt","jewelry","jlc","jll","jm","jo","jobs","joburg","jp","jprs","juegos","kaufen","kddi","ke","kg","kh","ki","kim","kitchen","kiwi","km","kn","koeln","komatsu","kp","kr","krd","kred","kw","ky","kyoto","kz","la","lacaixa","lancaster","land","lasalle","lat","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","legal","lexus","lgbt","li","liaison","lidl","life","lighting","limited","limo","link","live","lixil","lk","loan","loans","lol","london","lotte","lotto","love","lr","ls","lt","ltda","lu","lupin","luxe","luxury","lv","ly","ma","madrid","maif","maison","man","management","mango","market","marketing","markets","marriott","mba","mc","md","me","media","meet","melbourne","meme","memorial","men","menu","mg","mh","miami","microsoft","mil","mini","mk","ml","mm","mma","mn","mo","mobi","moda","moe","mom","monash","money","montblanc","mormon","mortgage","moscow","motorcycles","mov","movie","movistar","mp","mq","mr","ms","mt","mtn","mtpc","mu","museum","mv","mw","mx","my","mz","na","nadex","nagoya","name","navy","nc","ne","nec","net","netbank","network","neustar","new","news","nexus","nf","ng","ngo","nhk","ni","nico","ninja","nissan","nl","no","nokia","np","nr","nra","nrw","ntt","nu","nyc","nz","office","okinawa","om","omega","one","ong","onl","online","ooo","oracle","orange","org","organic","osaka","otsuka","ovh","pa","page","panerai","paris","partners","parts","party","pe","pet","pf","pg","ph","pharmacy","philips","photo","photography","photos","physio","piaget","pics","pictet","pictures","pink","pizza","pk","pl","place","play","plumbing","plus","pm","pn","pohl","poker","porn","post","pr","praxi","press","pro","prod","productions","prof","properties","property","ps","pt","pub","pw","py","qa","qpon","quebec","racing","re","realtor","realty","recipes","red","redstone","rehab","reise","reisen","reit","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rich","ricoh","rio","rip","ro","rocks","rodeo","rs","rsvp","ru","ruhr","run","rw","ryukyu","sa","saarland","sakura","sale","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","saxo","sb","sc","sca","scb","schmidt","scholarships","school","schule","schwarz","science","scor","scot","sd","se","seat","seek","sener","services","sew","sex","sexy","sg","sh","shiksha","shoes","show","shriram","si","singles","site","sj","sk","ski","sky","skype","sl","sm","sn","sncf","so","soccer","social","software","sohu","solar","solutions","sony","soy","space","spiegel","spreadbetting","sr","srl","st","starhub","statoil","stc","stcgroup","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","taipei","tatamotors","tatar","tattoo","tax","taxi","tc","td","team","tech","technology","tel","telefonica","temasek","tennis","tf","tg","th","thd","theater","tickets","tienda","tips","tires","tirol","tj","tk","tl","tm","tn","to","today","tokyo","tools","top","toray","toshiba","tours","town","toyota","toys","tr","trade","trading","training","travel","trust","tt","tui","tv","tw","tz","ua","ubs","ug","uk","university","uno","uol","us","uy","uz","va","vacations","vc","ve","vegas","ventures","versicherung","vet","vg","vi","viajes","video","villas","vin","vision","vista","vistaprint","viva","vlaanderen","vn","vodka","vote","voting","voto","voyage","vu","wales","walter","wang","watch","webcam","website","wed","wedding","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","wme","work","works","world","ws","wtc","wtf","xbox","xerox","xin","xn","xperia","xxx","xyz","yachts","yandex","ye","yodobashi","yoga","yokohama","youtube","yt","za","zip","zm","zone","zuerich","zw","com.vn","net.au","com.au","co.uk"];Mailcheck.run({email:t.val(),topLevelDomains:i,suggested:function(t){void 0!==t&&(e.select("emailConfirmContainerSelector").find("span").text(I18n.t("js.email_confirm_paragraph",{email:t.full})),e.select("emailConfirmTriggerSelector").data("suggestion",t.full),e.select("emailConfirmContainerSelector").addClass("showing"))}})},this.confirmEmail=function(t){t.preventDefault(),this.select("emailSelector").val(this.select("emailConfirmTriggerSelector").data("suggestion")),this.select("emailConfirmContainerSelector").removeClass("showing")},this.denyEmail=function(t){t.preventDefault(),this.select("emailConfirmContainerSelector").removeClass("showing")},this.setEmail=function(){var t=this.select("emailSelector");t.val(t.val()||this.getUrlParams().email||this.attr.user.purchase&&this.attr.user.purchase.email||this.attr.user.email||"")},this.validateEmailsIfNotAutoFill=function(){return this.validateEmails(this.select("emailFieldsSelector"))},this.showAddressVerify=function(){this.select("shippingAddressVerifySelector").show(),this.trigger("uiAnimatePaymentFormHeight",{animate:!1})},this.hideAddressVerify=function(){this.select("shippingAddressVerifySelector").hide(),this.resetAddressUpdateAndConfirmButtons(),this.attr.addressFieldForSuggestionSelector&&this.select("addressFieldForSuggestionSelector").removeClass("error"),this.trigger("uiAnimatePaymentFormHeight",{animate:!1})},this.resetAddressUpdateAndConfirmButtons=function(){this.select("shippingAddressConfirmTriggerSelector").addClass("button-primary").removeClass("button-default").text(I18n.t("js.yes_it_is")),this.select("streetAddressUpdateTriggerSelector").hide()},this.verifyShippingAddress=function(){if(this.hideAddressVerify(),!this.attr.hasVerifiedShippingAddress&&0!=this.select("streetSelector").length&&this.select("streetSelector").is(":visible")&&this.select("streetSelector").hasClass("required")){var t={street_address:this.select("streetSelector").val(),city:this.select("citySelector").val(),state:this.select("stateSelectorText").val(),zip_code:this.select("zipCodeSelector").val(),country:this.select("countrySelector").val()};this.trigger("uiNeedsToVerifyShippingAddress",{shipping_data:t})}else this.continueWithPayment()},this.verifiedShippingAddress=function(t,e){this.select("streetSelector").val(e.street_address),this.select("citySelector").val(e.city),this.select("stateSelectorText").val(e.state),this.select("zipCodeSelector").val(e.zip_code),this.continueWithPayment()},this.unverifiedShippingAddress=function(t,e){this.select("shippingAddressMessageSelector").text(e.error_message),e.suggestion&&(this.setAddressFieldErrorAndSuggestion(e),this.select("streetAddressUpdateTriggerSelector").show(),this.select("shippingAddressConfirmTriggerSelector").addClass("button-default").removeClass("button-primary").text(I18n.t("js.no_and_continue"))),this.showAddressVerify(),this.trigger("uiShouldResetPayButton")},this.setAddressFieldErrorAndSuggestion=function(t){switch(this.attr.addressSuggestion=t.suggestion,t.error_field){case"street":this.attr.addressFieldForSuggestionSelector=this.attr.streetSelector;break;case"city":this.attr.addressFieldForSuggestionSelector=this.attr.citySelector;break;case"state":this.attr.addressFieldForSuggestionSelector=this.attr.stateSelector;break;case"zip_code":this.attr.addressFieldForSuggestionSelector=this.attr.zipCodeSelector;break;case"country":this.attr.addressFieldForSuggestionSelector=this.attr.countrySelector}this.select("addressFieldForSuggestionSelector").addClass("error")},this.updateStreetAddress=function(t){return t.preventDefault(),this.select("addressFieldForSuggestionSelector").val(this.attr.addressSuggestion),this.hideAddressVerify(),!1},this.confirmShippingAddress=function(t){return t.preventDefault(),this.attr.hasVerifiedShippingAddress=!0,this.attr.productsInBundle?this.initiateValidationForProductBundle():this.payIfAllowed(),!1},this.continueWithPayment=function(){this.attr.productsInBundle?this.initiatePaymentForProductBundle():this.attr.onUserProfile||this.makePayment()},this.setShippingInfo=function(){if(this.attr.user.detected_country&&(this.select("countrySelector").val(this.attr.user.detected_country),null!=this.attr.user.detected_state&&this.currentStateField().val(this.attr.user.detected_state)),this.attr.user.shipping_information)for(var t=0;t<this.attr.shippingFields.length;t++){var e=this.attr.shippingFields[t];$(".purchase_"+e).val(this.attr.user.shipping_information[e])}this.attr.user.is_logged_in||this.select("keepOnFileHolderSelector").remove(),this.updateStateAndZipCode()},this.unsetShippingInfo=function(){this.select("countrySelector").val("");for(var t=0;t<this.attr.shippingFields.length;t++){var e=this.attr.shippingFields[t];$(".purchase_"+e).val("")}},this.showShippingInputs=function(){this.select("shippingInformationSelector").show()},this.hideShippingInputs=function(){this.select("shippingInformationSelector").hide()},this.showGiftInputs=function(){this.select("giftTriggerSelector").addClass("active"),this.select("giftSignifierSelector").val(!0),this.select("envelopeSelector").show(),this.select("giftElementSelector").show(),this.unsetShippingInfo()},this.hideGiftInputs=function(){this.select("giftTriggerSelector").removeClass("active"),this.select("giftSignifierSelector").val(!1),this.select("giftElementSelector").hide(),this.setShippingInfo()},this.updateShippingRate=function(t,e){var i,n;this.attr.productsInBundle?(i=this.totalBundleShippingRateDisplayCurrencyCents(),n=this.formattedUSDShippingRate(i)):(i=e.shipping_rate_cents,n=e.formatted_shipping_rate),this.attr.shippingCents=i,i>0?(this.select("shippingRateHolderSelector").addClass("has-shipping-rate"),this.select("shippingRateSelector").text("+ "+n)):this.select("shippingRateHolderSelector").removeClass("has-shipping-rate"),this.trigger("uiNeedsToEvaluateCreditCardFormVisibility")},this.formattedUSDShippingRate=function(t){return"US$"+this.cleanedPrice(t/100)},this.changeCountry=function(){this.updateStateAndZipCode(),this.scheduleUpdateCustomerSurcharge()},this.scheduleUpdateCustomerSurcharge=function(){this.trigger("uiShouldDisablePayButton"),this.delay(function(){this.trigger("uiNeedsCustomerSurcharge")}.bind(this),1e3)},this.delay=function(){var t=0;return function(e,i){clearTimeout(t),t=setTimeout(e,i)}}(),this.after("initialize",function(){this.updateStateAndZipCode(),this.on(this.$node,"dataCustomerSurcharge",this.updateShippingRate),this.attr.isMobile&&this.select("envelopeSelector").addClass("small"),this.on("change",{countrySelector:this.changeCountry}),this.on("paste keyup",{zipCodeSelector:this.scheduleUpdateCustomerSurcharge}),this.on("focusout",{emailSelector:this.checkEmailForTypos}),this.on("click",{giftTriggerSelector:this.toggleGiftPaymentForm,shippingAddressConfirmTriggerSelector:this.confirmShippingAddress,streetAddressUpdateTriggerSelector:this.updateStreetAddress,emailConfirmTriggerSelector:this.confirmEmail,emailDenyTriggerSelector:this.denyEmail}),this.on(document,"dataVerifyShippingAddressSuccessful",this.verifiedShippingAddress),this.on(document,"dataVerifyShippingAddressFail",this.unverifiedShippingAddress),this.on(document,"dataVerifyShippingAddressTimeout",this.continueWithPayment)})}return r}),define("hbs!$app/templates/zipcode_field",["hbs","hbs/handlebars"],function(t,e){var i=e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){return'<p class="js-cc_zipcode_p cc-zipcode-p">\n  <input type=\'hidden\' value=\'true\' name=\'cc_zipcode_required\' class=\'js-cc-zipcode-required\'>\n  <label for="cc_zipcode" class=\'js-cc_zipcode_label\'></label>\n  <input type="text" x-autocompletetype="cc-zip" name="cc_zipcode" class="js-cc_zipcode cc-zipcode" />\n</p>'},useData:!0});return e.registerPartial("$app/templates/zipcode_field",i),i}),function(){function t(t){var i=!1;return function(){if(i)throw new Error("Callback was already called.");i=!0,t.apply(e,arguments)}}var e,i,n={};e=this,null!=e&&(i=e.async),n.noConflict=function(){return e.async=i,n};var r=Object.prototype.toString,a=Array.isArray||function(t){return"[object Array]"===r.call(t)},s=function(t,e){if(t.forEach)return t.forEach(e);for(var i=0;i<t.length;i+=1)e(t[i],i,t)},o=function(t,e){if(t.map)return t.map(e);var i=[];return s(t,function(t,n,r){i.push(e(t,n,r))}),i},l=function(t,e,i){return t.reduce?t.reduce(e,i):(s(t,function(t,n,r){i=e(i,t,n,r)}),i)},d=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e};"undefined"!=typeof process&&process.nextTick?(n.nextTick=process.nextTick,"undefined"!=typeof setImmediate?n.setImmediate=function(t){setImmediate(t)}:n.setImmediate=n.nextTick):"function"==typeof setImmediate?(n.nextTick=function(t){setImmediate(t)},n.setImmediate=n.nextTick):(n.nextTick=function(t){setTimeout(t,0)},n.setImmediate=n.nextTick),n.each=function(e,i,n){function r(t){t?(n(t),n=function(){}):(a+=1,a>=e.length&&n())}if(n=n||function(){},!e.length)return n();var a=0;s(e,function(e){i(e,t(r))})},n.forEach=n.each,n.eachSeries=function(t,e,i){if(i=i||function(){},!t.length)return i();var n=0,r=function(){e(t[n],function(e){e?(i(e),i=function(){}):(n+=1,n>=t.length?i():r())})};r()},n.forEachSeries=n.eachSeries,n.eachLimit=function(t,e,i,n){var r=c(e);r.apply(null,[t,i,n])},n.forEachLimit=n.eachLimit;var c=function(t){return function(e,i,n){if(n=n||function(){},!e.length||0>=t)return n();var r=0,a=0,s=0;!function o(){if(r>=e.length)return n();for(;t>s&&a<e.length;)a+=1,s+=1,i(e[a-1],function(t){t?(n(t),n=function(){}):(r+=1,s-=1,r>=e.length?n():o())})}()}},u=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[n.each].concat(e))}},h=function(t,e){return function(){var i=Array.prototype.slice.call(arguments);return e.apply(null,[c(t)].concat(i))}},p=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[n.eachSeries].concat(e))}},f=function(t,e,i,n){if(e=o(e,function(t,e){return{index:e,value:t}}),n){var r=[];t(e,function(t,e){i(t.value,function(i,n){r[t.index]=n,e(i)})},function(t){n(t,r)})}else t(e,function(t,e){i(t.value,function(t){e(t)})})};n.map=u(f),n.mapSeries=p(f),n.mapLimit=function(t,e,i,n){return m(e)(t,i,n)};var m=function(t){return h(t,f)};n.reduce=function(t,e,i,r){n.eachSeries(t,function(t,n){i(e,t,function(t,i){e=i,n(t)})},function(t){r(t,e)})},n.inject=n.reduce,n.foldl=n.reduce,n.reduceRight=function(t,e,i,r){var a=o(t,function(t){return t}).reverse();n.reduce(a,e,i,r)},n.foldr=n.reduceRight;var g=function(t,e,i,n){var r=[];e=o(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){i(t.value,function(i){i&&r.push(t),e()})},function(t){n(o(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};n.filter=u(g),n.filterSeries=p(g),n.select=n.filter,n.selectSeries=n.filterSeries;var v=function(t,e,i,n){var r=[];e=o(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){i(t.value,function(i){i||r.push(t),e()})},function(t){n(o(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};n.reject=u(v),n.rejectSeries=p(v);var y=function(t,e,i,n){t(e,function(t,e){i(t,function(i){i?(n(t),n=function(){}):e()})},function(t){n()})};n.detect=u(y),n.detectSeries=p(y),n.some=function(t,e,i){n.each(t,function(t,n){e(t,function(t){t&&(i(!0),i=function(){}),n()})},function(t){i(!1)})},n.any=n.some,n.every=function(t,e,i){n.each(t,function(t,n){e(t,function(t){t||(i(!1),i=function(){}),n()})},function(t){i(!0)})},n.all=n.every,n.sortBy=function(t,e,i){n.map(t,function(t,i){e(t,function(e,n){e?i(e):i(null,{value:t,criteria:n})})},function(t,e){if(t)return i(t);var n=function(t,e){var i=t.criteria,n=e.criteria;return n>i?-1:i>n?1:0};i(null,o(e.sort(n),function(t){return t.value}))})},n.auto=function(t,e){e=e||function(){};var i=d(t),r=i.length;if(!r)return e();var o={},c=[],u=function(t){c.unshift(t)},h=function(t){for(var e=0;e<c.length;e+=1)if(c[e]===t)return void c.splice(e,1)},p=function(){r--,s(c.slice(0),function(t){t()})};u(function(){if(!r){var t=e;e=function(){},t(null,o)}}),s(i,function(i){var r=a(t[i])?t[i]:[t[i]],c=function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),t){var a={};s(d(o),function(t){a[t]=o[t]}),a[i]=r,e(t,a),e=function(){}}else o[i]=r,n.setImmediate(p)},f=r.slice(0,Math.abs(r.length-1))||[],m=function(){return l(f,function(t,e){return t&&o.hasOwnProperty(e)},!0)&&!o.hasOwnProperty(i)};if(m())r[r.length-1](c,o);else{var g=function(){m()&&(h(g),r[r.length-1](c,o))};u(g)}})},n.retry=function(t,e,i){var r=5,a=[];"function"==typeof t&&(i=e,e=t,t=r),t=parseInt(t,10)||r;var s=function(r,s){for(var o=function(t,e){return function(i){t(function(t,n){i(!t||e,{err:t,result:n})},s)}};t;)a.push(o(e,!(t-=1)));n.series(a,function(t,e){e=e[e.length-1],(r||i)(e.err,e.result)})};return i?s():s},n.waterfall=function(t,e){if(e=e||function(){},!a(t)){var i=new Error("First argument to waterfall must be an array of functions");return e(i)}if(!t.length)return e();var r=function(t){return function(i){if(i)e.apply(null,arguments),e=function(){};else{var a=Array.prototype.slice.call(arguments,1),s=t.next();s?a.push(r(s)):a.push(e),n.setImmediate(function(){t.apply(null,a)})}}};r(n.iterator(t))()};var A=function(t,e,i){if(i=i||function(){},a(e))t.map(e,function(t,e){t&&t(function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),e.call(null,t,i)})},i);else{var n={};t.each(d(e),function(t,i){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[t]=r,i(e)})},function(t){i(t,n)})}};n.parallel=function(t,e){A({map:n.map,each:n.each},t,e)},n.parallelLimit=function(t,e,i){A({map:m(e),each:c(e)},t,i)},n.series=function(t,e){if(e=e||function(){},a(t))n.mapSeries(t,function(t,e){t&&t(function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),e.call(null,t,i)})},e);else{var i={};n.eachSeries(d(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[e]=r,n(t)})},function(t){e(t,i)})}},n.iterator=function(t){var e=function(i){var n=function(){return t.length&&t[i].apply(null,arguments),n.next()};return n.next=function(){return i<t.length-1?e(i+1):null},n};return e(0)},n.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var N=function(t,e,i,n){var r=[];t(e,function(t,e){i(t,function(t,i){r=r.concat(i||[]),e(t)})},function(t){n(t,r)})};n.concat=u(N),n.concatSeries=p(N),n.whilst=function(t,e,i){t()?e(function(r){return r?i(r):void n.whilst(t,e,i)}):i()},n.doWhilst=function(t,e,i){t(function(r){if(r)return i(r);var a=Array.prototype.slice.call(arguments,1);e.apply(null,a)?n.doWhilst(t,e,i):i()})},n.until=function(t,e,i){t()?i():e(function(r){return r?i(r):void n.until(t,e,i)})},n.doUntil=function(t,e,i){t(function(r){if(r)return i(r);var a=Array.prototype.slice.call(arguments,1);e.apply(null,a)?i():n.doUntil(t,e,i)})},n.queue=function(e,i){function r(t,e,i,r){return t.started||(t.started=!0),a(e)||(e=[e]),0==e.length?n.setImmediate(function(){t.drain&&t.drain()}):void s(e,function(e){var a={data:e,callback:"function"==typeof r?r:null};i?t.tasks.unshift(a):t.tasks.push(a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),n.setImmediate(t.process)})}void 0===i&&(i=1);var o=0,l={tasks:[],concurrency:i,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(l,t,!1,e)},kill:function(){l.drain=null,l.tasks=[]},unshift:function(t,e){r(l,t,!0,e)},process:function(){if(!l.paused&&o<l.concurrency&&l.tasks.length){var i=l.tasks.shift();l.empty&&0===l.tasks.length&&l.empty(),o+=1;var n=function(){o-=1,i.callback&&i.callback.apply(i,arguments),l.drain&&l.tasks.length+o===0&&l.drain(),l.process()},r=t(n);e(i.data,r)}},length:function(){return l.tasks.length},running:function(){return o},idle:function(){return l.tasks.length+o===0},pause:function(){l.paused!==!0&&(l.paused=!0,l.process())},resume:function(){l.paused!==!1&&(l.paused=!1,l.process())}};return l},n.priorityQueue=function(t,e){function i(t,e){return t.priority-e.priority}function r(t,e,i){for(var n=-1,r=t.length-1;r>n;){var a=n+(r-n+1>>>1);i(e,t[a])>=0?n=a:r=a-1}return n}function o(t,e,o,l){return t.started||(t.started=!0),a(e)||(e=[e]),0==e.length?n.setImmediate(function(){t.drain&&t.drain()}):void s(e,function(e){var a={data:e,priority:o,callback:"function"==typeof l?l:null};t.tasks.splice(r(t.tasks,a,i)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),n.setImmediate(t.process)})}var l=n.queue(t,e);return l.push=function(t,e,i){o(l,t,e,i)},delete l.unshift,l},n.cargo=function(t,e){var i=!1,r=[],l={tasks:r,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,i){a(t)||(t=[t]),s(t,function(t){r.push({data:t,callback:"function"==typeof i?i:null}),l.drained=!1,l.saturated&&r.length===e&&l.saturated()}),n.setImmediate(l.process)},process:function d(){if(!i){if(0===r.length)return l.drain&&!l.drained&&l.drain(),void(l.drained=!0);var n="number"==typeof e?r.splice(0,e):r.splice(0,r.length),a=o(n,function(t){return t.data});l.empty&&l.empty(),i=!0,t(a,function(){i=!1;var t=arguments;s(n,function(e){e.callback&&e.callback.apply(null,t)}),d()})}},length:function(){return r.length},running:function(){return i}};return l};var S=function(t){return function(e){var i=Array.prototype.slice.call(arguments,1);e.apply(null,i.concat([function(e){var i=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&s(i,function(e){console[t](e)}))}]))}};n.log=S("log"),n.dir=S("dir"),n.memoize=function(t,e){var i={},r={};e=e||function(t){return t};var a=function(){var a=Array.prototype.slice.call(arguments),s=a.pop(),o=e.apply(null,a);o in i?n.nextTick(function(){s.apply(null,i[o])}):o in r?r[o].push(s):(r[o]=[s],t.apply(null,a.concat([function(){i[o]=arguments;var t=r[o];delete r[o];for(var e=0,n=t.length;n>e;e++)t[e].apply(null,arguments)}])))};return a.memo=i,a.unmemoized=t,a},n.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},n.times=function(t,e,i){for(var r=[],a=0;t>a;a++)r.push(a);return n.map(r,e,i)},n.timesSeries=function(t,e,i){for(var r=[],a=0;t>a;a++)r.push(a);return n.mapSeries(r,e,i)},n.seq=function(){var t=arguments;return function(){var e=this,i=Array.prototype.slice.call(arguments),r=i.pop();n.reduce(t,i,function(t,i,n){i.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);n(t,e)}]))},function(t,i){r.apply(e,[t].concat(i))})}},n.compose=function(){return n.seq.apply(null,Array.prototype.reverse.call(arguments))};var $=function(t,e){var i=function(){var i=this,n=Array.prototype.slice.call(arguments),r=n.pop();return t(e,function(t,e){t.apply(i,n.concat([e]))},r)};if(arguments.length>2){var n=Array.prototype.slice.call(arguments,2);return i.apply(this,n)}return i};n.applyEach=u($),n.applyEachSeries=p($),n.forever=function(t,e){function i(n){if(n){if(e)return e(n);throw n}t(i)}i()},"undefined"!=typeof module&&module.exports?module.exports=n:"undefined"!=typeof define&&define.amd?define("$vendor/async-0.9.0",[],function(){return n}):e.async=n}(),define("$app/data/card_data",["flight/lib/component","$vendor/async-0.9.0"],function(t,e){function i(){this.defaultAttrs({cardDataHandlingMode:null,stripePk:null}),this.prepareCardData=function(t,i){var n={cardParams:{card_data_handling_mode:this.attr.cardDataHandlingMode}};"undefined"!=typeof i.associatedData&&(n.associatedData=i.associatedData);var r={"stripejs.0":this.prepareCardDataStripeJs_0},a=this.attr.cardDataHandlingMode.split(","),s=$.map(a,function(t){return function(e){r[t].call(this,i,n,function(){e()})}.bind(this)}.bind(this));return e.parallel(s,function(){this.trigger("dataCardPrepared",n)}.bind(this)),!1},this.prepareCardDataStripeJs_0=function(t,e,i){var n=t.cardData.expiryDate.replace(/\s+/g,""),r=n.split("/")[0],a=n.split("/")[1];Stripe.setPublishableKey(this.attr.stripePk),Stripe.card.createToken({number:t.cardData.number,exp_month:r,exp_year:a,cvc:t.cardData.cvc,address_zip:"undefined"==typeof t.cardData.zipCode?null:t.cardData.zipCode,currency:"usd"},function(n,r){r.error?e.cardParams.stripe_error=r.error:(e.cardParams.stripe_token=r.id,e.cardParams.cc_bin=t.cardData.number.replace(/\s+/g,"").substring(0,6)),i()}.bind(this))},this.after("initialize",function(){this.on("uiNeedsCardPrepared",this.prepareCardData);
})}return t(i)}),define("$app/data/braintree_client_token_data",["flight/lib/component"],function(t){function e(){this.fetchBraintreeClientToken=function(t,e){window.grBraintreeClientSetup||(window.grBraintreeClientSetup=!0,$.ajax({type:"GET",url:Routes.braintree_client_token_path(),dataType:"json"}).done(function(t){this.trigger("dataBraintreeClientToken",t)}.bind(this)))},this.after("initialize",function(){this.on("uiNeedsBraintreeClientTokenFetched",this.fetchBraintreeClientToken)})}return t(e)}),define("$app/data/braintree_transient_customer_data",["flight/lib/component"],function(t){function e(){this.tokenizeNonceForUserProfilePurchase=function(t,e){$.ajax({type:"POST",url:Routes.generate_braintree_transient_customer_token_path(),data:{braintree_nonce:e.braintreeNonce},dataType:"json"}).done(function(t){this.trigger(this.node,"dataBraintreeTransientCustomerToken",{transient_customer_store_key:t.transient_customer_store_key,callback:e.callback})}.bind(this))},this.after("initialize",function(){this.on("uiNeedsBraintreeTransientCustomerTokenFetched",this.tokenizeNonceForUserProfilePurchase)})}return t(e)}),define("$app/utils/environment",[],function(){var t={ENVIRONMENTS:{PRODUCTION:"production",TEST:"test"},isProduction:function(){return this.current==this.ENVIRONMENTS.PRODUCTION}};return t.current=$('meta[property="gr:environment"]').attr("value"),t}),define("$app/ui/shared/with_paypal_braintree",["braintree","$app/data/braintree_client_token_data","$app/data/braintree_transient_customer_data","$app/utils/environment"],function(t,e,i,n){function r(){this.defaultAttrs({metaBraintreeMerchantIdSelector:'meta[property="braintree:merchant_id"]'}),this.setupPayPalBraintreeImplementation=function(e){t.setup(e,"paypal",{container:this.select("actualBraintreePayPalContainerSelector"),paymentMethodNonceInputField:this.select("braintreeNonceFieldSelector"),singleUse:!1,onPaymentMethodReceived:function(t){this.handlePayPalNonce(t.nonce)}.bind(this)});var i=t.data.setup({kount:{environment:n.isProduction()?"production":"sandbox"},paypal:!0});this.attr.deviceData=i.deviceData},this.initiateBraintreePayPalPayment=function(){null!=this.attr.braintreeTransientCustomerStoreKey?this.trigger(this.node,"uiHasAuthorizedPayPalBuyer"):this.attr.braintreePaymentNonce?this.handlePayPalNonce(this.attr.braintreePaymentNonce):(this.select("actualPayPalButton").click(),this.trigger("uiNeedsToHideVatCountrySelector"))},this.handlePayPalNonce=function(t){this.attr.braintreePaymentNonce=t,this.trigger(this.node,"uiHasAuthorizedPayPalBuyer",{paypalBuyerEmail:this.select("actualPayPalDataEmailSelector").text()})},this.handleTransientClientToken=function(t,e){this.attr.braintreeTransientCustomerStoreKey=e.transient_customer_store_key,e.callback&&e.callback(this.getBraintreePayPalCardParams())},this.prepareBraintreePayPalPayment=function(t){var e=this.attr.braintreePaymentNonce||$(this.attr.braintreeNonceFieldSelector).val();e&&this.trigger("uiNeedsBraintreeTransientCustomerTokenFetched",{braintreeNonce:e,callback:t})},this.getBraintreePayPalCardParams=function(){return{cardParams:{braintree_transient_customer_store_key:this.attr.braintreeTransientCustomerStoreKey,braintree_device_data:this.attr.deviceData}}},this.resetBraintreePayPalPayment=function(){this.attr.braintreePaymentNonce=null,this.attr.braintreeTransientCustomerStoreKey=null},this.after("initialize",function(){e.attachTo(this.$node),i.attachTo(this.$node),this.on(this.node,"dataBraintreeTransientCustomerToken",this.handleTransientClientToken)})}return r}),define("$app/utils/mobile",[],function(){var t={isOnMobile:function(){return window.innerWidth<=480},isOnTablet:function(){return navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)},isOnMobileiOSDevice:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&-1==document.cookie.indexOf("iphone_redirect=false")},isOnAndroidDevice:function(){return navigator.userAgent.match(/Android/i)}};return t}),define("$app/utils/gumroad_utils",[],function(){var t={isOverlay:function(){return"overlay-page"===$("body").attr("id")},isModal:function(){return!!window.location.search.match(/as_modal/)&&top!=self},isEmbed:function(){return!!window.location.search.match(/as_embed/)&&top!=self},isOutboundEmbed:function(){return!!window.location.search.match(/outbound_embed/)&&top!=self},isRecommended:function(){return!!window.location.search.match(/recommended_by/)},isExternalPresentation:function(){return this.isOutboundEmbed()||this.isEmbed()||this.isModal()||this.isOverlay()}};return t}),define("$app/ui/shared/with_paypal_native",["paypal","$app/utils/mobile","$app/utils/gumroad_utils"],function(t,e,i){function n(){this.defaultAttrs({metaPayPalClientIDSelector:'meta[property="paypal:client_id"]',metaPayPalModeSelector:'meta[property="paypal:mode"]',metaNativePayPalPaymentDisabledSelector:'meta[property="gr:paypal:native_paypal_payment_disabled"]',nativePayPalCompatible:!0}),this.setupPayPalNativeImplementation=function(){Bugsnag.notify("Invalid code - Paypal Order API button setup")},this.paypalSetupConfiguration=function(){},this.setupPaypalForm=function(t,e){var i="";e.payer_info&&e.payer_info.email&&(i=e.payer_info.email),this.trigger("uiHasAuthorizedPayPalBuyer",{paypalBuyerEmail:i}),this.trigger("uiShouldEnablePayButton")},this.prepareNativePayPalPayment=function(t){if(this.attr.paypalPayerId){if(!this.attr.paypalOrderDetails)return this.trigger("uiNeedsToShowCreditCardError",{error_message:I18n.t("js.something_went_wrong_not_charged_notice")}),this.trigger(this.$node,"uiShouldResetPayButton"),this.trigger("uiHideReceiptWithoutAnimation"),void this.resetPayPalPayment();t&&t({cardParams:this.attr.paypalOrderDetails})}},this.resetNativePayPalPayment=function(){this.attr.implementationInUse=null,this.attr.paypalPayerId=null,this.attr.authorizedAmountCents=null},this.isNativePayPalPaymentEnabled=function(){var t=!e.isOnMobile()&&!e.isOnTablet()&&!i.isExternalPresentation();return!this.attr.nativePayPalPaymentDisabled&&t&&this.attr.nativePayPalCompatible},this.after("initialize",function(){this.attr.nativePayPalPaymentDisabled=!0,this.on(document,"setupPaypalPaymentForm",this.setupPaypalForm)})}return n}),define("$app/utils/checkout",[],function(){var t={isUsingCheckout:function(){return"true"==$('meta[property="gr:uses_checkout"]').attr("content")},isOnCheckoutPage:function(){return void 0!=$(".js-checkout-data").data("checkout-page")}};return t}),define("$app/ui/shared/with_paypal",["$app/ui/shared/with_paypal_braintree","$app/ui/shared/with_paypal_native","$app/utils/checkout","flight/lib/compose"],function(t,e,i,n){function r(){n.mixin(this,[t,e]),this.setupPayPalImplementations=function(t,e){e.clientToken&&(this.setupPayPalBraintreeImplementation(e.clientToken),this.attr.paypalInitialized=!0,this.enablePayPalButton())},this.handleBraintreePaypalButtonClick=function(t){return t&&t.preventDefault(),this.attr.savedPayPalCardInUse?(this.setupPaymentFormForPayPalPayment(),!1):(this.attr.implementationInUse=this.attr.PayPalImplementations.BRAINTREE,this.initiateBraintreePayPalPayment(),!1)},this.preparePayPalPayment=function(t){if(this.attr.savedPayPalCardInUse)return void t({});switch(this.attr.implementationInUse){case this.attr.PayPalImplementations.NATIVE:this.prepareNativePayPalPayment(t);break;case this.attr.PayPalImplementations.BRAINTREE:this.prepareBraintreePayPalPayment(t)}},this.setupPaymentFormForPayPalPayment=function(t,e){if(this.attr.payingWithPayPal=!0,e&&"paypalBuyerEmail"in e&&this.setPayPalEmail(e.paypalBuyerEmail),this.enablePayPalButton(),!this.select("showPaypalCardSelector").hasClass("showing-paypal")){this.select("showPaypalCardSelector").addClass("showing-paypal"),this.attr.savedPayPalCardInUse&&this.setCreditCardFormState("saved"),this.setRequiredFromCardFields(!1),this.select("rememberedSelector").hide();var i=this.attr.paypalBuyerEmail;this.select("customerPayPalEmailContainerSelector").text(i),this.select("showPaypalCardSelector").addClass("showing-paypal"),this.select("paymentFormSelector").length&&(this.setPaymentFormHeight(this.select("paymentFormSelector").outerHeight()-58),setTimeout(function(){this.trigger("uiAnimatePaymentFormHeight",{animate:!0})}.bind(this),500))}},this.resetPayPalPayment=function(t,e){this.resetBraintreePayPalPayment(),this.resetNativePayPalPayment(),this.cancelPayWithPaypal()},this.resetPayPalPaymentForPriceChange=function(){this.attr.implementationInUse==this.attr.PayPalImplementations.NATIVE&&this.resetPayPalPayment()},this.cancelPayWithPaypal=function(t){t&&t.preventDefault(),this.attr.paypalCancelButtonDisabled||(this.attr.payingWithPayPal=!1,this.attr.savedPayPalCardInUse&&(this.setCreditCardFormState("new"),this.isCardSaveRequired()||(this.attr.savedPayPalCardInUse=!1)),this.enablePayPalButton(),this.trigger("uiShouldResetPayButton"),this.select("actualPayPalDataCancelButtonSelector").click(),this.setRequiredFromCardFields(!0),this.select("showPaypalCardSelector").removeClass("showing-paypal"),this.select("paymentFormSelector").length&&(this.setPaymentFormHeight(this.select("paymentFormSelector").outerHeight()+58),this.trigger("uiAnimatePaymentFormHeight",{animate:!0})))},this.enablePayPalButton=function(){this.attr.paypalInitialized&&(this.showBraintreePaypalButton(),this.select("placeholderCardIconSelector").hide(),this.select("payWithPayPalPromptSelector").show(),this.select("defaultCreditCardIconSelector").show(),this.select("orPayWithSelector").show(),this.select("payPalLoadingIndicatorSelector").hide())},this.showBraintreePaypalButton=function(){this.select("grNativePaypalButtonSelector").hide(),this.select("grBraintreePaypalButtonSelector").show()},this.showNativePaypalButton=function(){this.select("grBraintreePaypalButtonSelector").hide(),this.select("grNativePaypalButtonSelector").show()},this.disablePayPalButton=function(){this.select("grPaypalButtonSelector").hide(),this.select("orPayWithSelector").hide(),this.select("payPalLoadingIndicatorSelector").show()},this.payingWithPayPal=function(){return this.attr.payingWithPayPal},this.setPayPalEmail=function(t){this.attr.paypalBuyerEmail=t,this.select("customerPayPalEmailContainerSelector").text(this.attr.paypalBuyerEmail)},this.setSavedPayPalCardInUse=function(t){this.attr.payingWithPayPal=!0,this.attr.savedPayPalCardInUse=!0,this.setPayPalEmail(t),this.select("showPaypalCardSelector").addClass("showing-paypal")},this.after("initialize",function(){return"true"!=$('meta[property="gr:paypal:pay_with_paypal_enabled"]').attr("value")?(this.select("payPalLoadingIndicatorSelector").remove(),void this.select("defaultCreditCardIconSelector").show()):(this.attr.PayPalImplementations={NATIVE:"native",BRAINTREE:"braintree"},this.on("click",{cancelPayWithPaypalTrigger:this.cancelPayWithPaypal,grBraintreePaypalButtonSelector:this.handleBraintreePaypalButtonClick}),this.on(document,"dataPurchaseFail",this.resetPayPalPayment),this.on(document,"dataBraintreeClientToken",this.setupPayPalImplementations),this.on(this.node,"uiTotalPriceCentsChanged",this.resetPayPalPaymentForPriceChange),this.on(this.node,"uiHasAuthorizedPayPalBuyer",this.setupPaymentFormForPayPalPayment),void(i.isUsingCheckout()||this.trigger("uiNeedsBraintreeClientTokenFetched")))})}return r}),function(){var t,e,i,n,r,a,s,o,l,d,c,u,h,p,f,m,g,v,y,A=[].slice,N=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};t=jQuery,t.payment={},t.payment.fn={},t.fn.payment=function(){var e,i;return i=arguments[0],e=2<=arguments.length?A.call(arguments,1):[],t.payment.fn[i].apply(this,e)},r=/(\d{1,4})/g,n=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:r,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:r,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:r,length:[13,14,15,16],cvcLength:[3],luhn:!0}],e=function(t){var e,i,r;for(t=(t+"").replace(/\D/g,""),i=0,r=n.length;r>i;i++)if(e=n[i],e.pattern.test(t))return e},i=function(t){var e,i,r;for(i=0,r=n.length;r>i;i++)if(e=n[i],e.type===t)return e},h=function(t){var e,i,n,r,a,s;for(n=!0,r=0,i=(t+"").split("").reverse(),a=0,s=i.length;s>a;a++)e=i[a],e=parseInt(e,10),(n=!n)&&(e*=2),e>9&&(e-=9),r+=e;return r%10===0},u=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document&&null!=(e=document.selection)&&"function"==typeof e.createRange?e.createRange().text:void 0)?!0:!1},p=function(e){return setTimeout(function(){var i,n;return i=t(e.currentTarget),n=i.val(),n=t.payment.formatCardNumber(n),i.val(n)})},o=function(i){var n,r,a,s,o,l,d;return a=String.fromCharCode(i.which),!/^\d+$/.test(a)||(n=t(i.currentTarget),d=n.val(),r=e(d+a),s=(d.replace(/\D/g,"")+a).length,l=16,r&&(l=r.length[r.length.length-1]),s>=l||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==d.length)?void 0:(o=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,o.test(d)?(i.preventDefault(),n.val(d+" "+a)):o.test(d+a)?(i.preventDefault(),n.val(d+a+" ")):void 0)},a=function(e){var i,n;return i=t(e.currentTarget),n=i.val(),e.meta||8!==e.which||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==n.length?void 0:/\d\s$/.test(n)?(e.preventDefault(),i.val(n.replace(/\d\s$/,""))):/\s\d?$/.test(n)?(e.preventDefault(),i.val(n.replace(/\s\d?$/,""))):void 0},l=function(e){var i,n,r;return n=String.fromCharCode(e.which),/^\d+$/.test(n)?(i=t(e.currentTarget),r=i.val()+n,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(e.preventDefault(),i.val("0"+r+" / ")):/^\d\d$/.test(r)?(e.preventDefault(),i.val(""+r+" / ")):void 0):void 0},d=function(e){var i,n,r;return n=String.fromCharCode(e.which),/^\d+$/.test(n)?(i=t(e.currentTarget),r=i.val(),/^\d\d$/.test(r)?i.val(""+r+" / "):void 0):void 0},c=function(e){var i,n,r;return n=String.fromCharCode(e.which),"/"===n?(i=t(e.currentTarget),r=i.val(),/^\d$/.test(r)&&"0"!==r?i.val("0"+r+" / "):void 0):void 0},s=function(e){var i,n;if(!e.meta&&(i=t(e.currentTarget),n=i.val(),8===e.which&&(null==i.prop("selectionStart")||i.prop("selectionStart")===n.length)))return/\d(\s|\/)+$/.test(n)?(e.preventDefault(),i.val(n.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(n)?(e.preventDefault(),i.val(n.replace(/\s\/\s?\d?$/,""))):void 0},v=function(t){var e;return t.metaKey||t.ctrlKey?!0:32===t.which?!1:0===t.which?!0:t.which<33?!0:(e=String.fromCharCode(t.which),!!/[\d\s]/.test(e))},m=function(i){var n,r,a,s;return n=t(i.currentTarget),a=String.fromCharCode(i.which),/^\d+$/.test(a)&&!u(n)?(s=(n.val()+a).replace(/\D/g,""),r=e(s),r?s.length<=r.length[r.length.length-1]:s.length<=16):void 0},g=function(e){var i,n,r;return i=t(e.currentTarget),n=String.fromCharCode(e.which),/^\d+$/.test(n)&&!u(i)?(r=i.val()+n,r=r.replace(/\D/g,""),r.length>6?!1:void 0):void 0},f=function(e){var i,n,r;return i=t(e.currentTarget),n=String.fromCharCode(e.which),/^\d+$/.test(n)?(r=i.val()+n,r.length<=4):void 0},y=function(e){var i,r,a,s,o;return i=t(e.currentTarget),o=i.val(),s=t.payment.cardType(o)||"unknown",i.hasClass(s)?void 0:(r=function(){var t,e,i;for(i=[],t=0,e=n.length;e>t;t++)a=n[t],i.push(a.type);return i}(),i.removeClass("unknown"),i.removeClass(r.join(" ")),i.addClass(s),i.toggleClass("identified","unknown"!==s),i.trigger("payment.cardType",s))},t.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",f),this},t.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",g),this.on("keypress",l),this.on("keypress",c),this.on("keypress",d),this.on("keydown",s),this},t.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this.on("keypress",o),this.on("keydown",a),this.on("keyup",y),this.on("paste",p),this},t.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this},t.payment.fn.cardExpiryVal=function(){return t.payment.cardExpiryVal(t(this).val())},t.payment.cardExpiryVal=function(t){var e,i,n,r;return t=t.replace(/\s/g,""),r=t.split("/",2),e=r[0],n=r[1],2===(null!=n?n.length:void 0)&&/^\d+$/.test(n)&&(i=(new Date).getFullYear(),i=i.toString().slice(0,2),n=i+n),e=parseInt(e,10),n=parseInt(n,10),{month:e,year:n}},t.payment.validateCardNumber=function(t){var i,n;return t=(t+"").replace(/\s+|-/g,""),/^\d+$/.test(t)?(i=e(t),i?(n=t.length,N.call(i.length,n)>=0&&(i.luhn===!1||h(t))):!1):!1},t.payment.validateCardExpiry=function(e,i){var n,r,a,s;return"object"==typeof e&&"month"in e&&(s=e,e=s.month,i=s.year),e&&i?(e=t.trim(e),i=t.trim(i),/^\d+$/.test(e)&&/^\d+$/.test(i)&&parseInt(e,10)<=12?(2===i.length&&(a=(new Date).getFullYear(),a=a.toString().slice(0,2),i=a+i),r=new Date(i,e),n=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>n):!1):!1},t.payment.validateCardCVC=function(e,n){var r,a;return e=t.trim(e),/^\d+$/.test(e)?n?(r=e.length,N.call(null!=(a=i(n))?a.cvcLength:void 0,r)>=0):e.length>=3&&e.length<=4:!1},t.payment.cardType=function(t){var i;return t?(null!=(i=e(t))?i.type:void 0)||null:null},t.payment.formatCardNumber=function(t){var i,n,r,a;return(i=e(t))?(r=i.length[i.length.length-1],t=t.replace(/\D/g,""),t=t.slice(0,+r+1||9e9),i.format.global?null!=(a=t.match(i.format))?a.join(" "):void 0:(n=i.format.exec(t),null!=n&&n.shift(),null!=n?n.join(" "):void 0)):t}}.call(this),define("$vendor/jquery.payment",function(){}),define("$app/ui/shared/with_credit_card",["$app/ui/shared/with_form_base","hbs!$app/templates/zipcode_field","$app/data/card_data","$app/ui/shared/with_paypal","flight/lib/compose","$vendor/jquery.payment"],function(t,e,i,n,r){function a(){r.mixin(this,[t,e,n]),this.defaultAttrs({creditCardHolder:".credit_card_holder",rememberedSelector:".credit_card_holder .credit_card.remembered",newCardSelector:".credit_card_holder .credit_card.new-card",testCardSelector:".credit_card_holder .credit_card.test_card",savedCardSelector:".credit_card_holder .credit_card.saved_card",ccNumberSelector:".credit_card_holder .cc_number",ccIconSelector:".js-cc-icon",cvCodeSelector:".credit_card_holder .cv_code",expiryDateSelector:".credit_card_holder .expiry_date",ccZipcodeFieldSelector:".credit_card_holder .js-cc_zipcode",ccZipcodeFieldContainerSelector:".credit_card_holder .js-cc_zipcode_p",ccZipcodeLabelSelector:".js-cc_zipcode_label",ccZipcodeRequiredSelector:".js-cc_zipcode_p .js-cc-zipcode-required",expiryDateContainerSelector:".credit_card_holder .js-expiry_date_p",securityIndicatorSelector:".credit_card_holder .cc_number_security_indicator",securityBlurbSelector:".credit_card_holder .cc_security_blurb",useDifferentCardSelector:".credit_card_holder .use_different_card",supportedCardImageTypes:["generic_card","visa","mastercard","amex","discover","jcb","cvc_card","cvc_amex"],hasTriggeredCallForUserRiskAnalysis:!1,creditCardFormState:"new",grPaypalButtonSelector:".credit_card_holder .paypal",grNativePaypalButtonSelector:".credit_card_holder .paypal.native-paypal-button",grBraintreePaypalButtonSelector:".credit_card_holder .paypal.braintree-paypal-button",payWithPaypalHolderSelector:".js-pay-with-paypal-holder",payWithCreditCardHolderSelector:".js-pay-with-credit-card-holder",actualBraintreePayPalContainerSelector:".paypal-braintree-actual",actualPayPalContainerSelector:".credit_card_holder .paypal-actual",actualPayPalButton:".credit_card_holder .paypal-braintree-actual #braintree-paypal-button img",actualPayPalDataEmailSelector:".credit_card_holder .paypal-braintree-actual #bt-pp-email",actualPayPalDataCancelButtonSelector:".credit_card_holder .paypal-braintree-actual #bt-pp-cancel",payWithPayPalPromptSelector:".credit_card_holder .or-pay-with",braintreeNonceFieldSelector:".js-braintree-paypal-nonce",payPalLoadingIndicatorSelector:".js-paypal-loading-indicator",payWithPaypalTrigger:".js-pay-with-paypal-trigger",cancelPayWithPaypalTrigger:".js-cancel-pay-with-paypal-trigger",showPaypalCardSelector:".credit_card_holder",customerPayPalEmailContainerSelector:".js-paypal-customer-email",defaultCreditCardIconSelector:".js-credit-card-icon",orPayWithSelector:".js-pay-with-paypal-indicator",fullNameFieldSelector:".js-full-name-p",fullNameInputSelector:".js-full-name-input",fullNameRequestedVisible:!0,fullNameTrackingCreditCardFormState:"new",cardSaveRequired:!1,metaCardDataHandlingModeSelector:'meta[property="gr:card_data_handling_mode"]',metaStripePublicKeySelector:'meta[property="stripe:pk"]',metaPayPalOverrideSelector:'meta[property="gr:payment:show_paypal_override"]'}),this.setCreditCardFormState=function(t){var e=this.attr.creditCardFormState,i=t;this.attr.creditCardFormState=t,this.trigger("uiChangedCreditCardFormState",{oldCreditCardFormState:e,newCreditCardFormState:i})},this.showFullNameField=function(){this.attr.fullNameRequestedVisible=!0,"saved"!=this.attr.fullNameTrackingCreditCardFormState?this.select("fullNameFieldSelector").show():this.select("fullNameFieldSelector").hide()},this.hideFullNameField=function(){this.attr.fullNameRequestedVisible=!1,this.select("fullNameFieldSelector").hide()},this.creditCardFormStateChangedToggleFullname=function(t,e){this.attr.fullNameTrackingCreditCardFormState=e.newCreditCardFormState,this.attr.fullNameRequestedVisible?this.showFullNameField():this.hideFullNameField(),this.trigger("uiFullNameVisibilityChanged")},this.showZipcodeField=function(t){"new"==this.attr.user.card.credit&&0==this.select("ccZipcodeFieldContainerSelector").length&&this.renderDynamicZipcodeField(t)},this.renderDynamicZipcodeField=function(t){this.hideFullNameField(),this.select("expiryDateContainerSelector").after(e());var i=0,n=1,r="GB"==t?n:i,a=[I18n.t("js.zip_code"),I18n.t("js.postal")],s=["12345","W11 2BQ"],o=["52px","76px"],l=["128px","115px"];this.select("ccZipcodeLabelSelector").text(a[r]);var d=s[r];r==i&&"US"!=t&&(d=""),this.select("ccZipcodeFieldSelector").prop("placeholder",d),this.select("ccZipcodeFieldSelector").css("width",o[r]),this.select("ccZipcodeFieldContainerSelector").css("left",l[r])},this.isGeneric=function(){return"generic_card"==this.attr.currentCardType},this.isAmex=function(){return"amex"==this.attr.currentCardType},this.removeSavedCardAndShowNewCard=function(t){t.preventDefault();var e=this.select("rememberedSelector"),i=this.select("newCardSelector");e.addClass("cancelled-element"),this.trigger("uiRemoveSavedCreditCardStarted"),setTimeout(function(){i.hide().removeClass("hidden"),i.fadeIn(100,function(){e.hide(),this.select("ccNumberSelector").focus(),i.find("input").each(function(){$(this).addClass("required")})}.bind(this)),this.trigger("uiRemoveSavedCreditCardCompleted"),this.setCreditCardFormState("new")}.bind(this),300)},this.setRequiredFromCardFields=function(t){$.each(["ccNumberSelector","cvCodeSelector","expiryDateSelector","fullNameInputSelector"],function(e,i){this.select(i).toggleClass("required",t)}.bind(this))},this.updateCardType=function(){var t=this.select("ccNumberSelector").val();this.attr.currentCardType=$.payment.cardType(t),-1==$.inArray(this.attr.currentCardType,this.attr.supportedCardImageTypes)&&(this.attr.currentCardType="generic_card"),this.setCard(),this.updateSecurityIndicator()},this.updateSecurityIndicator=function(){var t=$.payment.validateCardNumber(this.select("ccNumberSelector").val());this.select("securityIndicatorSelector")[t?"addClass":"removeClass"]("valid")},this.setCard=function(){this.changeCardIcon(this.attr.currentCardType),this.select("cvCodeSelector").animate({width:this.isAmex()?39:31}).attr({placeholder:this.isAmex()?"1234":"123"})},this.changeCardIcon=function(t){this.select("securityIndicatorSelector").fadeOut(),this.select("ccIconSelector").removeClass(this.attr.supportedCardImageTypes.join(" ")).addClass(t).fadeIn()},this.showSecurityBlurb=function(){this.select("securityBlurbSelector").fadeIn()},this.hideSecurityBlurb=function(){setTimeout(function(){this.select("securityBlurbSelector").fadeOut()}.bind(this),300)},this.validateCreditCardForm=function(){if(this.payingWithPayPal())return!0;var t=this.select("ccNumberSelector"),e=this.select("expiryDateSelector"),i=this.select("cvCodeSelector"),n=!this.isRequired(t)||$.payment.validateCardNumber(t.val()),r=!this.isRequired(e)||$.payment.validateCardExpiry(e.payment("cardExpiryVal")),a=!this.isRequired(i)||$.payment.validateCardCVC(i.val(),$.payment.cardType(t.val()));return this.toggleError(t,n),this.toggleError(e,r),this.toggleError(i,a),n&&r&&a},this.userLoggedInAndElectedToSaveCard=function(){return this.attr.user&&this.attr.user.is_logged_in&&this.select("saveCardSelector").prop("checked")},this.shouldSaveCard=function(){return this.userLoggedInAndElectedToSaveCard()||this.isCardSaveRequired()},this.getReusableCardParams=function(t){return this.payingWithPayPal()?void this.preparePayPalPayment(t):void t({cardParams:null})},this.getCardParams=function(t){if("new"!=this.attr.creditCardFormState)return void t({cardParams:{}});if(this.payingWithPayPal())return void this.preparePayPalPayment(t);var e=this.select("ccNumberSelector").val(),i=this.select("expiryDateSelector").val(),n=this.select("cvCodeSelector").val(),r=this.select("ccZipcodeFieldSelector").val(),a={number:e,expiryDate:i,cvc:n.length>0?n:null,zipCode:r};this.trigger("uiNeedsCardPrepared",{associatedData:{callback:t},cardData:a})},this.clearCvc=function(){this.select("cvCodeSelector").val("")},this.prepareCardCompleted=function(t,e){e.associatedData.callback({cardParams:e.cardParams})},this.isRequired=function(t){return t.hasClass("required")&&t.is(":visible")},this.toggleError=function(t,e){e?this.hideError(t):this.showError(t)},this.setCardSaveRequired=function(t){this.attr.cardSaveRequired=t},this.isCardSaveRequired=function(){return this.attr.cardSaveRequired},this.getDebugCcNumber=function(){var t=window.location.search.match(/debugCcNumber=([0-9]{13,16})/);if(t&&2===t.length){var e=t[1];switch(e){case"4000000000000077":case"4000000000000259":return e.match(/[0-9]{4}/g).join(" ")}}return"4242 4242 4242 4242"},this.after("initialize",function(){var t=!!window.location.search.match(/debug/);i.attachTo(this.$node,{cardDataHandlingMode:$(this.attr.metaCardDataHandlingModeSelector).attr("value"),stripePk:$(this.attr.metaStripePublicKeySelector).attr("value")}),this.on("dataCardPrepared",this.prepareCardCompleted),this.on("click",{useDifferentCardSelector:this.removeSavedCardAndShowNewCard}),this.on("keyup paste",{ccNumberSelector:this.updateCardType}),this.on("uiChangedCreditCardFormState",this.creditCardFormStateChangedToggleFullname),this.select("ccNumberSelector").payment("formatCardNumber"),this.select("expiryDateSelector").payment("formatCardExpiry"),this.select("cvCodeSelector").payment("formatCardCVC"),this.select("securityIndicatorSelector").hover(this.showSecurityBlurb.bind(this),this.hideSecurityBlurb.bind(this));var e=this.select("creditCardHolder").data("formState");if("undefined"!=typeof e&&(this.attr.creditCardFormState=e),t){var n=(new Date).getFullYear(),r=String(n),a=r.substr(-2);this.select("ccNumberSelector").val(this.getDebugCcNumber()),this.select("expiryDateSelector").val("12/"+a),this.select("cvCodeSelector").val("123"),this.select("fullNameInputSelector").val("Mr. Gumstein")}})}return a}),define("$app/ui/product/with_credit_card_on_payment_form",["$app/ui/shared/with_credit_card","flight/lib/compose"],function(t,e){function i(){e.mixin(this,[t]),this.defaultAttrs({creditCardHolderSelector:".credit_card_holder",cardErrorSelector:".card_error_popup",cardErrorPopupMessageSelector:".card_error_popup .message",rememberedCardIconSelector:".remembered .card_icon",presetCCNumberSelector:".preset_cc_number",presetCCInputSelector:".saved_card .js-expiry_date_p .preset_cc_input",saveCardSelector:'input[name="save_card"]',savePayPalSelector:".js-save-paypal-selector",keepOnFileSelector:".keep-on-file-notice",creditCardRequiredFieldSelector:".credit_card_holder .credit_card.new-card .required",numericSelector:".credit_card_holder .numeric",numericSpacesSelector:".credit_card_holder .numeric-spaces",isCreditCardFormInUse:!1}),this.setCreditCardFormInUse=function(t){this.attr.isCreditCardFormInUse=t},this.isCreditCardFormInUse=function(){return this.attr.isCreditCardFormInUse},this.setCreditCard=function(){this.setCreditCardFormState(this.attr.user.card.credit);var t=this.select("testCardSelector"),e=this.select("newCardSelector"),i=this.select("savedCardSelector"),n=this.select("creditCardRequiredFieldSelector");"test"!=this.attr.user.card.credit||this.attr.isDemo?"saved"!=this.attr.user.card.credit||this.attr.isDemo?"new"==this.attr.user.card.credit&&(i.remove(),t.remove()):(t.remove(),"paypal"==this.attr.user.card.type?(this.select("rememberedSelector").hide(),this.select("keepOnFileSelector").hide(),i.hide(),e.fadeIn(),this.setSavedPayPalCardInUse(this.attr.user.card.visual)):(this.select("presetCCNumberSelector").html(this.attr.user.card.visual),this.select("presetCCInputSelector").html(this.attr.user.card.date),this.select("rememberedCardIconSelector").addClass(this.attr.user.card.type),i.fadeIn(),e.fadeOut()),n.removeClass("required")):(this.attr.isSamplePurchase=!0,t.fadeIn(),e.fadeOut(),i.remove(),n.removeClass("required"))},this.setCreditCardFormVisibility=function(t){t+this.attr.shippingCents>0&&!this.attr.isMultiBuyEnabled?this.showCreditCardForm():0==t&&0==this.attr.shippingCents&&this.hideCreditCardForm()},this.showCreditCardForm=function(){var t=this.select("creditCardHolderSelector"),e=this.select("payButtonSelector");this.select("paymentFormSelector");this.attr.zeroPlusEnabled?e.text(I18n.t("js.give_prompt")):e.text(e.data("default")),t.show(),this.trigger("uiAnimatePaymentFormHeight",{animate:!1})},this.hideCreditCardForm=function(){var t=this.select("creditCardHolderSelector"),e=this.select("payButtonSelector");this.select("paymentFormSelector");t.is(":visible")&&(e.text(I18n.t("js.get_prompt")),t.hide(),this.trigger("uiAnimatePaymentFormHeight",{animate:!1}))},this.makeCreditCardUsable=function(){var t=this.select("creditCardHolderSelector");t.addClass("usable"),t.find("input").prop("readonly",!1)},this.makeCreditCardNotUsable=function(){var t=this.select("creditCardHolderSelector");t.removeClass("usable"),t.find("input").prop("readonly",!0)},this.popupCreditCardError=function(t){var e=this.select("cardErrorSelector");this.select("cardErrorPopupMessageSelector").text(t),e.removeClass("hidden").fadeIn(400),setTimeout(function(){e.fadeOut(400)},3e3)},this.showCreditCardError=function(t,e){this.popupCreditCardError(e.error_message)},this.payIfEnterKeyPressed=function(t){13==t.which&&this.payIfAllowed()},this.hideAndUncheckPayPalSelector=function(){this.select("saveCardSelector").prop("checked",!1),this.select("savePayPalSelector").hide()},this.syncSaveCardCheckboxes=function(t){this.select("saveCardSelector").prop("checked",$(t.target).prop("checked"))},this.after("initialize",function(){this.on("keypress",{numericSelector:this.payIfEnterKeyPressed,numericSpacesSelector:this.payIfEnterKeyPressed}),this.on("click",{saveCardSelector:this.syncSaveCardCheckboxes}),this.on(document,"uiNeedsToShowCreditCardError",this.showCreditCardError)})}return i}),define("$app/utils/currency_utils",[],function(){var t={parseCurrencyString:function(t){if(!t)return null;var e=t.match(/\s*-/)?"-":"",i=t.replace(/[^0-9.,]/g,""),n=i.lastIndexOf("."),r=i.lastIndexOf(","),a=n>0&&n==i.length-4,s=r>0&&r==i.length-4;return n>=i.length-3&&n>0||s?(i=i.replace(/,/g,""),i=i.match(/\./g)&&1==i.match(/\./g).length?i.replace(/,/g,""):i.replace(/[^0-9]/g,""),e+i):r>=i.length-3&&r>0||a?(i=i.replace(/\./g,""),i=i.match(/,/g)&&1==i.match(/,/g).length?i.replace(",","."):i.replace(/[^0-9]/g,""),e+i):-1==r&&-1==n?e+i:null}};return t}),define("$app/ui/product/with_pay_what_you_want",["$app/ui/shared/with_form_base","$app/utils/currency_utils","flight/lib/compose"],function(t,e,i){function n(){i.mixin(this,[t]),this.defaultAttrs({productPriceWrapperSelector:".link_price_wrapper",payWhatYouWantSelectionSelector:".pay_what_you_want_selection",priceRangeSelector:".link_price_range",zeroPlusEnabled:!1}),this.setPriceRange=function(t){var e=t%1==0?t:t.toFixed(2),i=this.select("priceRangeSelector");this.attr.isPayWhatYouWant&&(e+="+"),(!i.data("suggested-price")||i.data("suggested-price")<t)&&i.attr("placeholder",e),
i.data("min-price",t)},this.validatePriceRange=function(){var t=this.select("priceRangeSelector"),i=parseFloat(t.data("min-price")),n=e.parseCurrencyString(t.val()),r=parseFloat(n||-1);return"undefined"==typeof r||i>r||0==i&&0>r?(this.showError(t),t.focus(),!1):!0},this.toggleCreditCardForm=function(){var t=this.select("priceRangeSelector");if(t.length>0&&0==t.val().length||this.select("paymentFormSelector").is(":animated")||this.attr.isMultiBuyEnabled)return!1;var e=parseFloat(t.val());return this.attr.zeroPlusEnabled&&this.trigger("uiNeedsToEvaluateCreditCardFormVisibility",e),!1},this.customizedPriceCents=function(){return this.validatePriceRangeString()?e.parseCurrencyString(this.select("priceRangeSelector").val())*(this.attr.isSingleUnit?1:100):null},this.validatePriceRangeString=function(){return!isNaN(parseFloat(e.parseCurrencyString(this.select("priceRangeSelector").val())))},this.after("initialize",function(){this.on("keyup",{priceRangeSelector:this.toggleCreditCardForm}),this.on("keyup",{priceRangeSelector:this.setPrice})})}return n}),define("$app/ui/product/third_party_analytics",["flight/lib/component"],function(t){function e(){this.defaultAttrs({metaAnalyticsURLSelector:'meta[property="gr:third_party_analytics_url"]'}),this.addIFrameWithAnalytics=function(t,e){if(Modernizr.sandbox){var i=document.createElement("IFRAME");i.setAttribute("hidden",!0),i.setAttribute("sandbox","allow-scripts"),i.setAttribute("id","third-party-analytics-iframe"),i.setAttribute("src",$(this.attr.metaAnalyticsURLSelector).attr("value")+Routes.third_party_analytics_path({link_id:e.permalink,purchase_id:e.purchase_id})),document.body.appendChild(i)}},this.after("initialize",function(){this.on(this.$node,"uiToAddThirdPartyAnalytics",this.addIFrameWithAnalytics)})}return t(e)}),function(t,e){function i(e){return e.map(function(){return this.elements?t.makeArray(this.elements):this}).filter(":input:not(:disabled)").get()}function n(i){var n,r={};return t.each(i,function(i,a){n=r[a.name],r[a.name]=n===e?a:t.isArray(n)?n.concat(a):[n,a]}),r}var r=Array.prototype.push,a=/^(?:radio|checkbox)$/i,s=/\+/g,o=/^(?:option|select-one|select-multiple)$/i,l=/^(?:button|color|date|datetime|datetime-local|email|hidden|month|number|password|range|reset|search|submit|tel|text|textarea|time|url|week)$/i;t.fn.deserialize=function(d,c){var u,h,p=i(this),f=[];if(!d||!p.length)return this;if(t.isArray(d))f=d;else if(t.isPlainObject(d)){var m,g;for(m in d)t.isArray(g=d[m])?r.apply(f,t.map(g,function(t){return{name:m,value:t}})):r.call(f,{name:m,value:g})}else if("string"==typeof d){var v;for(d=d.split("&"),u=0,h=d.length;h>u;u++)v=d[u].split("="),r.call(f,{name:decodeURIComponent(v[0]),value:decodeURIComponent(v[1].replace(s,"%20"))})}if(!(h=f.length))return this;var y,A,N,S,$,b,_,g,w=t.noop,x=t.noop,C={};for(c=c||{},p=n(p),t.isFunction(c)?x=c:(w=t.isFunction(c.change)?c.change:w,x=t.isFunction(c.complete)?c.complete:x),u=0;h>u;u++)if(y=f[u],$=y.name,g=y.value,(A=p[$])&&(_=(S=A.length)?A[0]:A,_=(_.type||_.nodeName).toLowerCase(),b=null,l.test(_)?(S&&(N=C[$],A=A[C[$]=N==e?0:++N]),w.call(A,A.value=g)):a.test(_)?b="checked":o.test(_)&&(b="selected"),b))for(S||(A=[A],S=1),N=0;S>N;N++)y=A[N],y.value==g&&w.call(y,(y[b]=!0)&&g);return x.call(this),this}}(jQuery),define("$vendor/jquery.deserialize",function(){}),define("$app/ui/product/with_payment_form",["$app/ui/product/with_envelope","$app/ui/product/with_credit_card_on_payment_form","$app/ui/product/with_pay_what_you_want","$app/ui/product/third_party_analytics","$app/ui/shared/with_form_base","$app/utils/with_url","$app/utils/with_event","flight/lib/compose","$vendor/jquery.deserialize"],function(t,e,i,n,r,a,s,o){function l(){o.mixin(this,[t,e,i,r,a,s]),this.defaultAttrs({paymentFormSelector:".buy-form-main",paymentContainerSelector:".payment-container",payButtonContainerSelector:".pay_button_container",permalinkSelector:".permalink",payButtonSelector:".pay_button",urlParamsSelector:".url_parameters",fromProfileSelector:".from_profile",fromMultiOverlaySelector:".from-multi-overlay",socialSignupWrapperSelector:".social-signup-wrapper",purchaseFormSelector:".purchase_form",changedMindButtonSelector:".changed_mind_button",parentIdSelector:".parent_id",referrerSelector:".referrer",pluginsSelector:".plugins",sourceSelector:".source",isPreorderSelector:".is_in_preorder_state",isPhysicalSelector:".is_physical",wasProductRecommendedSelector:".js-was-product-recommended",recommendedBySelector:".js-recommended-by",purchaseFormRequiredFieldSelector:".purchase_form .required",envelopeRequiredFieldSelector:".envelope .required",authenticityTokenSelector:'input[name="authenticity_token"]',utf8Selector:'input[name="utf8"]',zipcodeFieldSelector:"input.js-cc_zipcode",bundleBuyButtonSelector:".js-bundle-pay-trigger",localeSelector:".js-locale",isSamplePurchase:!1,isProcessingPayment:!1,isSingleUnit:!1,offerCodeUsed:!1,taxCountry:"",paymentFormPadding:20}),this.setLoginInfo=function(){this.attr.user.is_logged_in?(this.setSubscriptionNotice(),this.select("passwordPSelector").remove(),this.select("socialSignupWrapperSelector").remove(),this.select("creditCardHolderSelector").addClass("usable"),this.attr.isModal||this.attr.isEmbed||this.trigger("uiNeedsToGetCustomizationModules",{permalink:this.attr.permalink}),this.select("emailReceiptFormSelector").hide()):this.select("keepOnFileSelector").hide()},this.payIfAllowed=function(t){return t&&t.preventDefault(),!this.attr.isShowingPaymentForm||this.attr.isProcessingPayment||this.attr.isProductDisabled||this.validatePaymentForm(),this.trigger("uiSwitchSteps",{step:2}),!1},this.validatePaymentForm=function(){for(var t=!0,e=this.isFreePurchase()?this.select("envelopeRequiredFieldSelector"):this.select("purchaseFormRequiredFieldSelector"),i=0;i<e.length;i++)t&&(t=this.validateRequiredInput($(e[i])));return t=t&&this.validateEmailsIfNotAutoFill()&&this.validateQuantity(),this.isFreePurchase()||(t=t&&this.validateCreditCardForm()),t&&(this.showPaymentAsProcessing(),this.verifyShippingAddress()),t},this.isFreePurchase=function(){var t=this.select("priceRangeSelector"),e=0==parseFloat(this.attr.shippingCents),i=0==parseFloat(t.val())&&e,n=this.attr.productsInBundle&&0==this.totalBundlePriceCents()&&0==this.totalBundleShippingRateCents(),r=0==t.length&&0==parseFloat(this.select("perceivedPriceCentsSelector").val())&&e;return!!(i||n||r)},this.makePayment=function(){return this.attr.isProcessingPayment=!0,(this.isFreePurchase()||this.attr.isSamplePurchase)&&this.setPasswordPromptForAccountCreationInReceipt(),this.select("changedMindButtonSelector").hide(),this.select("receiptContainerSelector").fadeIn(),this.processPayment(),!1},this.setPaymentAsProcessingForMultiBuyMode=function(){return this.attr.isProcessingPayment=!0,this.select("receiptContainerSelector").fadeIn(),!0},this.showPaymentAsProcessing=function(){var t=this.select("payButtonSelector");this.select("paymentFormSelector").animate({height:this.getPaymentFormHeight()}),t.data("default",t.text()),t.text(I18n.t("js.processing_notice")),t.attr("disabled",!0),this.select("payWithPaypalHolderSelector").hide(),this.select("payWithCreditCardHolderSelector").hide(),this.trigger("uiShouldHideTipsys")},this.resetPayButton=function(){var t=this.select("payButtonSelector");t.attr("disabled",!1),t.text(t.data("default")),this.select("payWithPaypalHolderSelector").show(),this.select("payWithCreditCardHolderSelector").show()},this.processPayment=function(){this.trigger("uiNeedsToTrackProductSpecificEvent",{name:"process_payment",permalink:this.attr.permalink,wasProductRecommended:this.attr.wasProductRecommended}),this.trigger("uiSetFriendValue"),this.isFreePurchase()||this.attr.isDemo?(this.setCreditCardFormInUse(!1),this.processPaymentWithCardParams({})):(this.setCreditCardFormInUse(!0),this.getCardParams(function(t){this.processPaymentWithCardParams(t.cardParams)}.bind(this)))},this.processPaymentWithCardParams=function(t){var e=this.select("wantFormSelector").serialize()+"&"+this.select("purchaseFormSelector").serialize()+"&"+$.param(t)+"&"+$.param({tax_country_election:this.attr.taxCountry})+"&"+$.param({is_rental:this.attr.isRentalModeActive});this.attr.isRecurringBilling&&(e+="&"+$.param({price_id:this.attr.selectedPriceInfo.id})),this.trigger("uiNeedsToMakePayment",{permalink:this.attr.permalink,is_bundled:!1,payingWithPayPal:this.attr.payingWithPayPal,paypalOrderDetails:this.attr.paypalOrderDetails,serializedForm:e})},this.notifyGoogleAnalytics=function(t,e){this.trigger("uiNeedsToTrackActivityWithSellerGoogleAnalytics",{permalink:e.permalink,action:"purchased",value:(Number(e.non_formatted_price)*(this.attr.isSingleUnit?1:100)).toString()}),this.trigger("uiNeedsToTrackECommerceEventWithSellerGoogleAnalytics",{permalink:e.permalink,purchase_external_id:e.id,currency:e.currency_type.toUpperCase(),product_name:e.name,price:e.non_formatted_price,quantity:e.quantity,tax:e.non_formatted_seller_tax_amount})},this.notifyRetargeting=function(t,e){this.trigger("uiNeedsToTrackECommerceOrder",{externalId:e.id,total:Number(e.total_price_including_tax_and_shipping.replace(/[^0-9\.]+/g,"")),tax:Number(e.non_formatted_seller_tax_amount)||0,shipping:Number(e.shipping_amount.replace(/[^0-9\.]+/g,""))||0,currency:e.currency_type.toUpperCase(),productExternalId:e.product_id})},this.getThirdPartyAnalytics=function(t,e){this.trigger(this.$node,"uiToAddThirdPartyAnalytics",{permalink:e.permalink,purchase_id:e.id})},this.notifyPurchaseAndShowReceipt=function(t,e){this.attr.isProcessingPayment=!1,this.select("payButtonSelector").attr("disabled",!1),this.attr.permalink==e.permalink&&(this.fillReceiptWithPurchaseDetails(e),this.attr.user.product.remaining=e.remaining,this.attr.user.product.variants=e.variants,this.hideGiftInputs(),this.trigger("uiSetTwitterSharingUrlForPurchase",{url:e.twitter_share_url,text:e.twitter_share_text}),this.trigger("uiCompleteDemo"),this.showReceipt(!0),this.attr.purchaseWasGift="true"==this.select("giftSignifierSelector").val())},this.notifyClearCvc=function(){this.clearCvc()},this.notifyRecommendations=function(){this.trigger("uiNeedstoRememberPersonalBuyerInfo",{ccNumber:this.select("ccNumberSelector").val(),expiryDate:this.select("expiryDateSelector").val(),fullName:this.select("fullNameSelector").val(),email:this.select("emailSelector").val()})},this.getRecommendedProducts=function(t,e){this.shouldFetchRecommendedProducts()&&this.trigger("uiNeedsToGetRecommendedProducts",{permalink:e.permalink})},this.shouldFetchRecommendedProducts=function(){return!this.attr.onUserProfile&&!this.attr.isEmbed&&!this.attr.isMobile},this.stopProcessingAndShowError=function(t,e){if(e.zipcode_required&&(this.showZipcodeField(e.card_country),this.select("zipcodeFieldSelector").addClass("required error")),this.attr.permalink==e.permalink){var i=e&&e.error_message?e.error_message:I18n.t("js.something_went_wrong_notice");this.select("creditCardHolderSelector").is(":visible")&&this.select("envelopeSelector").is(":visible")?this.popupCreditCardError(i):this.trigger("uiShowFlashMessage",{message:i}),this.resetPayButton(),this.select("changedMindButtonSelector").show(),this.select("receiptContainerSelector").fadeOut(function(){this.select("paymentFormSelector").animate({height:this.getPaymentFormHeight()})}.bind(this)),this.attr.isProcessingPayment=!1}},this.showCheckEmailNotice=function(t,e){this.attr.isProcessingPayment=!1,this.select("payButtonSelector").attr("disabled",!1),this.attr.permalink===e.permalink&&(this.hideGiftInputs(),this.trigger("uiCompleteDemo"),this.showCheckEmailReceipt(),this.attr.purchaseWasGift="true"==this.select("giftSignifierSelector").val())},this.getPaymentFormHeight=function(){var t=this.select("paymentContainerSelector");if(t.length>0){var e=t.height()+2*this.attr.paymentFormPadding;return this.attr.isMobile&&(e-=this.attr.paymentFormPadding),this.attr.paymentFormHeight>0&&(e=this.attr.paymentFormHeight,this.setPaymentFormHeight(0)),e}return 0},this.setPaymentFormHeight=function(t){this.attr.paymentFormHeight=t},this.resetAndShowProductMain=function(t){return t.preventDefault(),this.trigger("uiSwitchSteps",{step:0}),this.switchToProductMain(!0),!1},this.disablePayButton=function(){this.disablePayPalButton(),this.select("payButtonSelector").attr("disabled",!0)},this.enablePayButton=function(){this.enablePayPalButton(),this.select("payButtonSelector").attr("disabled",!1)},this.getSerializedFormExcludingCreditCard=function(){var t="textarea, select, input:not("+this.attr.utf8Selector+", "+this.attr.authenticityTokenSelector+", "+this.attr.permalinkSelector+", "+this.attr.isPreorderSelector+", "+this.attr.isPhysicalSelector+", "+this.attr.parentIdSelector+", "+this.attr.saveCardSelector+", "+this.attr.ccNumberSelector+", "+this.attr.expiryDateSelector+", "+this.attr.cvCodeSelector+")";return this.select("purchaseFormSelector").find(t).serialize()},this.updateUrlParameters=function(t,e){this.select("urlParamsSelector").val(JSON.stringify(e))},this.validateBundleCheckoutForm=function(){var t=!0,e=this.select("bundleCheckoutFormSelector").find(".required:visible, .required-placeholder:visible");return $.each(e,function(e,i){return this.validateRequiredInput($(i))?void 0:(t=!1,!1)}.bind(this)),t},this.after("initialize",function(){this.select("urlParamsSelector").val(JSON.stringify(this.getUrlParams())),this.select("referrerSelector").val(this.getReferrer()),this.select("pluginsSelector").val(this.getPluginNames()),this.select("sourceSelector").val(this.getSource()),this.select("localeSelector").val(I18n.locale),this.select("fromProfileSelector").val(this.attr.onUserProfile),this.select("fromMultiOverlaySelector").val(this.attr.onMultiOverlay),this.select("wasProductRecommendedSelector").val(this.attr.wasProductRecommended),this.select("recommendedBySelector").val(this.attr.recommendedBy),this.attr.isMobile&&this.select("payButtonSelector").addClass("small");var t=this.select("productSelector").data("seller-has-third-party-analytics");t&&(n.attachTo(this.$node),this.trigger("uiThirdPartyAnalyticsEnabled")),this.on(document,"uiNeedsToCheckForRecommendedProducts",this.getRecommendedProducts),this.on(document,"dataPurchaseSuccessful",this.notifyClearCvc),this.on(document,"dataPurchaseSuccessful",this.notifyPurchaseAndShowReceipt),this.on(document,"dataPurchaseSuccessful",this.notifyGoogleAnalytics),this.on(document,"dataPurchaseSuccessful",this.notifyRecommendations),this.on(document,"dataPurchaseSuccessful",this.getRecommendedProducts),this.on(document,"dataPurchaseSuccessful",this.getThirdPartyAnalytics),this.on(document,"dataPurchaseSuccessful",this.notifyRetargeting),this.on(document,"dataPurchaseFail",this.stopProcessingAndShowError),this.on(document,"dataPurchaseTimeout",this.showCheckEmailNotice),this.on(document,"dataPurchaseTimeout",this.getRecommendedProducts),this.on(document,"uiShowProductMain",this.resetAndShowProductMain),this.on(document,"uiUpdateUrlParameters",this.updateUrlParameters),this.on(this.$node,"uiShouldDisablePayButton",this.disablePayButton),this.on(this.$node,"uiShouldEnablePayButton",this.enablePayButton),this.on(this.$node,"uiShouldResetPayButton",this.resetPayButton),this.on("click",{changedMindButtonSelector:this.resetAndShowProductMain,payButtonSelector:this.payIfAllowed})})}return l}),define("$app/ui/product/with_facebook_login",["flight/lib/component"],function(){function t(){this.defaultAttrs({facebookLoginSelector:".facebook-login"}),this.loginWithFacebook=function(t){t.preventDefault();var e=this.select("facebookLoginSelector");return e.data("default",e.text()),this.trigger("uiNeedsToLoginWithFacebook"),!1},this.showFacebookLoginVerifyingState=function(){this.select("facebookLoginSelector").text(I18n.t("js.verifying_information"))},this.refreshWindowWithWanted=function(){window.location=window.location+"?wanted=true"},this.showFacebookLoginFailedMessage=function(){var t=this.select("facebookLoginSelector");this.trigger("uiShowFlashMessage",{message:I18n.t("js.something_went_wrong")}),t.text(t.data("default"))},this.after("initialize",function(){this.on(document,"dataFackbookLoginSucceeded",this.refreshWindowWithWanted),this.on(document,"dataFackbookLoginFailed",this.showFacebookLoginFailedMessage),this.on(document,"dataFacebookLoginVerifying",this.showFacebookLoginVerifyingState),this.on("click",{facebookLoginSelector:this.loginWithFacebook})})}return t}),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function i(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function n(t){return null===t?NaN:+t}function r(t){return!isNaN(t)}function a(t){return{left:function(e,i,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);r>n;){var a=n+r>>>1;t(e[a],i)<0?n=a+1:r=a}return n},right:function(e,i,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);r>n;){var a=n+r>>>1;t(e[a],i)>0?r=a:n=a+1}return n}}}function s(t){return t.length}function o(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var i in e)Object.defineProperty(t.prototype,i,{value:e[i],enumerable:!1})}function d(){this._=Object.create(null)}function c(t){return(t+="")===fs||t[0]===ms?ms+t:t}function u(t){return(t+="")[0]===ms?t.slice(1):t}function h(t){return c(t)in this._}function p(t){return(t=c(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(u(e));return t}function m(){var t=0;for(var e in this._)++t;return t}function g(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function A(t,e,i){return function(){var n=i.apply(e,arguments);return n===e?t:n}}function N(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var i=0,n=gs.length;n>i;++i){var r=gs[i]+e;if(r in t)return r}}function S(){}function $(){}function b(t){function e(){for(var e,n=i,r=-1,a=n.length;++r<a;)(e=n[r].on)&&e.apply(this,arguments);return t}var i=[],n=new d;return e.on=function(e,r){var a,s=n.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,i=i.slice(0,a=i.indexOf(s)).concat(i.slice(a+1)),n.remove(e)),r&&i.push(n.set(e,{on:r})),t)},e}function _(){es.event.preventDefault()}function w(){for(var t,e=es.event;t=e.sourceEvent;)e=t;return e}function x(t){for(var e=new $,i=0,n=arguments.length;++i<n;)e[arguments[i]]=b(e);return e.of=function(i,n){return function(r){try{var a=r.sourceEvent=es.event;r.target=t,es.event=r,e[r.type].apply(i,n)}finally{es.event=a}}},e}function C(t){return ys(t,$s),t}function P(t){return"function"==typeof t?t:function(){return As(t,this)}}function k(t){return"function"==typeof t?t:function(){return Ns(t,this)}}function T(t,e){function i(){this.removeAttribute(t)}function n(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function s(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}function o(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}return t=es.ns.qualify(t),null==e?t.local?n:i:"function"==typeof e?t.local?o:s:t.local?a:r}function M(t){return t.trim().replace(/\s+/g," ")}function E(t){return new RegExp("(?:^|\\s+)"+es.requote(t)+"(?:\\s+|$)","g")}function j(t){return(t+"").trim().split(/^|\s+/)}function F(t,e){function i(){for(var i=-1;++i<r;)t[i](this,e)}function n(){for(var i=-1,n=e.apply(this,arguments);++i<r;)t[i](this,n)}t=j(t).map(I);var r=t.length;return"function"==typeof e?n:i}function I(t){var e=E(t);return function(i,n){if(r=i.classList)return n?r.add(t):r.remove(t);var r=i.getAttribute("class")||"";n?(e.lastIndex=0,e.test(r)||i.setAttribute("class",M(r+" "+t))):i.setAttribute("class",M(r.replace(e," ")))}}function B(t,e,i){function n(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,i)}function a(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,i)}return null==e?n:"function"==typeof e?a:r}function R(t,e){function i(){delete this[t]}function n(){this[t]=e}function r(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}return null==e?i:"function"==typeof e?r:n}function D(t){function e(){var e=this.ownerDocument,i=this.namespaceURI;return i?e.createElementNS(i,t):e.createElement(t)}function i(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=es.ns.qualify(t)).local?i:e}function O(){var t=this.parentNode;t&&t.removeChild(this)}function U(t){return{__data__:t}}function L(t){return function(){return Ss(this,t)}}function q(t){return arguments.length||(t=i),function(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}}function z(t,e){for(var i=0,n=t.length;n>i;i++)for(var r,a=t[i],s=0,o=a.length;o>s;s++)(r=a[s])&&e(r,s,i);return t}function H(t){return ys(t,_s),t}function V(t){var e,i;return function(n,r,a){var s,o=t[a].update,l=o.length;for(a!=i&&(i=a,e=0),r>=e&&(e=r+1);!(s=o[e])&&++e<l;);return s}}function W(t,e,i){function n(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function r(){var r=l(e,ns(arguments));n.call(this),this.addEventListener(t,this[s]=r,r.$=i),r._=e}function a(){var e,i=new RegExp("^__on([^.]+)"+es.requote(t)+"$");for(var n in this)if(e=n.match(i)){var r=this[n];this.removeEventListener(e[1],r,r.$),delete this[n]}}var s="__on"+t,o=t.indexOf("."),l=G;o>0&&(t=t.slice(0,o));var d=ws.get(t);return d&&(t=d,l=K),o?e?r:n:e?S:a}function G(t,e){return function(i){var n=es.event;es.event=i,e[0]=this.__data__;try{t.apply(this,e)}finally{es.event=n}}}function K(t,e){var i=G(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||i.call(e,t)}}function Y(i){var n=".dragsuppress-"+ ++Cs,r="click"+n,a=es.select(e(i)).on("touchmove"+n,_).on("dragstart"+n,_).on("selectstart"+n,_);if(null==xs&&(xs="onselectstart"in i?!1:N(i.style,"userSelect")),xs){var s=t(i).style,o=s[xs];s[xs]="none"}return function(t){if(a.on(n,null),xs&&(s[xs]=o),t){var e=function(){a.on(r,null)};a.on(r,function(){_(),e()},!0),setTimeout(e,0)}}}function Z(t,i){i.changedTouches&&(i=i.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Ps){var a=e(t);if(a.scrollX||a.scrollY){n=es.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var s=n[0][0].getScreenCTM();Ps=!(s.f||s.e),n.remove()}}return Ps?(r.x=i.pageX,r.y=i.pageY):(r.x=i.clientX,r.y=i.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[i.clientX-o.left-t.clientLeft,i.clientY-o.top-t.clientTop]}function J(){return es.event.changedTouches[0].identifier}function X(t){return t>0?1:0>t?-1:0}function Q(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function tt(t){return t>1?0:-1>t?Ms:Math.acos(t)}function et(t){return t>1?Fs:-1>t?-Fs:Math.asin(t)}function it(t){return((t=Math.exp(t))-1/t)/2}function nt(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function at(t){return(t=Math.sin(t/2))*t}function st(){}function ot(t,e,i){return this instanceof ot?(this.h=+t,this.s=+e,void(this.l=+i)):arguments.length<2?t instanceof ot?new ot(t.h,t.s,t.l):St(""+t,$t,ot):new ot(t,e,i)}function lt(t,e,i){function n(t){return t>360?t-=360:0>t&&(t+=360),60>t?a+(s-a)*t/60:180>t?s:240>t?a+(s-a)*(240-t)/60:a}function r(t){return Math.round(255*n(t))}var a,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,i=0>i?0:i>1?1:i,s=.5>=i?i*(1+e):i+e-i*e,a=2*i-s,new vt(r(t+120),r(t),r(t-120))}function dt(t,e,i){return this instanceof dt?(this.h=+t,this.c=+e,void(this.l=+i)):arguments.length<2?t instanceof dt?new dt(t.h,t.c,t.l):t instanceof ut?pt(t.l,t.a,t.b):pt((t=bt((t=es.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new dt(t,e,i)}function ct(t,e,i){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ut(i,Math.cos(t*=Is)*e,Math.sin(t)*e)}function ut(t,e,i){return this instanceof ut?(this.l=+t,this.a=+e,void(this.b=+i)):arguments.length<2?t instanceof ut?new ut(t.l,t.a,t.b):t instanceof dt?ct(t.h,t.c,t.l):bt((t=vt(t)).r,t.g,t.b):new ut(t,e,i)}function ht(t,e,i){var n=(t+16)/116,r=n+e/500,a=n-i/200;return r=ft(r)*Ws,n=ft(n)*Gs,a=ft(a)*Ks,new vt(gt(3.2404542*r-1.5371385*n-.4985314*a),gt(-.969266*r+1.8760108*n+.041556*a),gt(.0556434*r-.2040259*n+1.0572252*a))}function pt(t,e,i){return t>0?new dt(Math.atan2(i,e)*Bs,Math.sqrt(e*e+i*i),t):new dt(NaN,NaN,t)}function ft(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function mt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,i){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~i)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):St(""+t,vt,lt):new vt(t,e,i)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function At(t){return yt(t)+""}function Nt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function St(t,e,i){var n,r,a,s=0,o=0,l=0;if(n=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=n[2].split(","),n[1]){case"hsl":return i(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(wt(r[0]),wt(r[1]),wt(r[2]))}return(a=Js.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&a)>>4,s=s>>4|s,o=240&a,o=o>>4|o,l=15&a,l=l<<4|l):7===t.length&&(s=(16711680&a)>>16,o=(65280&a)>>8,l=255&a)),e(s,o,l))}function $t(t,e,i){var n,r,a=Math.min(t/=255,e/=255,i/=255),s=Math.max(t,e,i),o=s-a,l=(s+a)/2;return o?(r=.5>l?o/(s+a):o/(2-s-a),n=t==s?(e-i)/o+(i>e?6:0):e==s?(i-t)/o+2:(t-e)/o+4,n*=60):(n=NaN,r=l>0&&1>l?0:n),new ot(n,r,l)}function bt(t,e,i){t=_t(t),e=_t(e),i=_t(i);var n=mt((.4124564*t+.3575761*e+.1804375*i)/Ws),r=mt((.2126729*t+.7151522*e+.072175*i)/Gs),a=mt((.0193339*t+.119192*e+.9503041*i)/Ks);return ut(116*r-16,500*(n-r),200*(r-a))}function _t(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function wt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function xt(t){return"function"==typeof t?t:function(){return t}}function Ct(t){return function(e,i,n){return 2===arguments.length&&"function"==typeof i&&(n=i,i=null),Pt(e,i,t,n)}}function Pt(t,e,i,n){function r(){var t,e=l.status;if(!e&&Tt(l)||e>=200&&300>e||304===e){try{t=i.call(a,l)}catch(n){return void s.error.call(a,n)}s.load.call(a,t)}else s.error.call(a,l)}var a={},s=es.dispatch("beforesend","progress","load","error"),o={},l=new XMLHttpRequest,d=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=es.event;es.event=t;try{s.progress.call(a,l)}finally{es.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?o[t]:(null==e?delete o[t]:o[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(d=t,a):d},a.response=function(t){return i=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(ns(arguments)))}}),a.send=function(i,n,r){if(2===arguments.length&&"function"==typeof n&&(r=n,n=null),l.open(i,t,!0),null==e||"accept"in o||(o.accept=e+",*/*"),l.setRequestHeader)for(var c in o)l.setRequestHeader(c,o[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=d&&(l.responseType=d),null!=r&&a.on("error",r).on("load",function(t){r(null,t)}),s.beforesend.call(a,l),l.send(null==n?null:n),a},a.abort=function(){return l.abort(),a},es.rebind(a,s,"on"),null==n?a:a.get(kt(n))}function kt(t){return 1===t.length?function(e,i){t(null==e?i:null)}:t}function Tt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Mt(){var t=Et(),e=jt()-t;e>24?(isFinite(e)&&(clearTimeout(eo),eo=setTimeout(Mt,e)),to=0):(to=1,no(Mt))}function Et(){var t=Date.now();for(io=Xs;io;)t>=io.t&&(io.f=io.c(t-io.t)),io=io.n;return t}function jt(){for(var t,e=Xs,i=1/0;e;)e.f?e=t?t.n=e.n:Xs=e.n:(e.t<i&&(i=e.t),e=(t=e).n);return Qs=t,i}function Ft(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function It(t,e){var i=Math.pow(10,3*ps(8-e));return{scale:e>8?function(t){return t/i}:function(t){return t*i},symbol:t}}function Bt(t){var e=t.decimal,i=t.thousands,n=t.grouping,r=t.currency,a=n&&i?function(t,e){for(var r=t.length,a=[],s=0,o=n[0],l=0;r>0&&o>0&&(l+o+1>e&&(o=Math.max(1,e-l)),a.push(t.substring(r-=o,r+o)),!((l+=o+1)>e));)o=n[s=(s+1)%n.length];return a.reverse().join(i)}:y;return function(t){var i=ao.exec(t),n=i[1]||" ",s=i[2]||">",o=i[3]||"-",l=i[4]||"",d=i[5],c=+i[6],u=i[7],h=i[8],p=i[9],f=1,m="",g="",v=!1,y=!0;switch(h&&(h=+h.substring(1)),(d||"0"===n&&"="===s)&&(d=n="0",s="="),p){case"n":u=!0,p="g";break;case"%":f=100,g="%",p="f";break;case"p":f=100,g="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0,h=0;break;case"s":f=-1,p="r"}"$"===l&&(m=r[0],g=r[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h)))),p=so.get(p)||Rt;var A=d&&u;return function(t){var i=g;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===o?"":o;if(0>f){var l=es.formatPrefix(t,h);t=l.scale(t),i=l.symbol+g}else t*=f;t=p(t,h);var N,S,$=t.lastIndexOf(".");if(0>$){var b=y?t.lastIndexOf("e"):-1;0>b?(N=t,S=""):(N=t.substring(0,b),S=t.substring(b))}else N=t.substring(0,$),S=e+t.substring($+1);!d&&u&&(N=a(N,1/0));var _=m.length+N.length+S.length+(A?0:r.length),w=c>_?new Array(_=c-_+1).join(n):"";return A&&(N=a(w+N,w.length?c-S.length:1/0)),r+=m,t=N+S,("<"===s?r+t+w:">"===s?w+r+t:"^"===s?w.substring(0,_>>=1)+r+t+w.substring(_):r+(A?t:w+t))+i}}}function Rt(t){return t+""}function Dt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ot(t,e,i){function n(e){var i=t(e),n=a(i,1);return n-e>e-i?i:n}function r(i){return e(i=t(new lo(i-1)),1),i}function a(t,i){return e(t=new lo(+t),i),t}function s(t,n,a){var s=r(t),o=[];if(a>1)for(;n>s;)i(s)%a||o.push(new Date(+s)),e(s,1);else for(;n>s;)o.push(new Date(+s)),e(s,1);return o}function o(t,e,i){try{lo=Dt;var n=new Dt;return n._=t,s(n,e,i)}finally{lo=Date}}t.floor=t,t.round=n,t.ceil=r,t.offset=a,t.range=s;var l=t.utc=Ut(t);return l.floor=l,l.round=Ut(n),l.ceil=Ut(r),l.offset=Ut(a),l.range=o,t}function Ut(t){return function(e,i){try{lo=Dt;var n=new Dt;return n._=e,t(n,i)._}finally{lo=Date}}}function Lt(t){function e(t){function e(e){for(var i,r,a,s=[],o=-1,l=0;++o<n;)37===t.charCodeAt(o)&&(s.push(t.slice(l,o)),null!=(r=uo[i=t.charAt(++o)])&&(i=t.charAt(++o)),(a=P[i])&&(i=a(e,null==r?"e"===i?" ":"0":r)),s.push(i),l=o+1);return s.push(t.slice(l,o)),s.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=i(n,t,e,0);if(r!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var a=null!=n.Z&&lo!==Dt,s=new(a?Dt:lo);return"j"in n?s.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(s.setFullYear(n.y,0,1),s.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(s.getDay()+5)%7:n.w+7*n.U-(s.getDay()+6)%7)):s.setFullYear(n.y,n.m,n.d),s.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),a?s._:s},e.toString=function(){return t},e}function i(t,e,i,n){for(var r,a,s,o=0,l=e.length,d=i.length;l>o;){if(n>=d)return-1;if(r=e.charCodeAt(o++),37===r){if(s=e.charAt(o++),a=k[s in uo?e.charAt(o++):s],!a||(n=a(t,i,n))<0)return-1}else if(r!=i.charCodeAt(n++))return-1}return n}function n(t,e,i){$.lastIndex=0;var n=$.exec(e.slice(i));return n?(t.w=b.get(n[0].toLowerCase()),i+n[0].length):-1}function r(t,e,i){N.lastIndex=0;var n=N.exec(e.slice(i));return n?(t.w=S.get(n[0].toLowerCase()),i+n[0].length):-1}function a(t,e,i){x.lastIndex=0;var n=x.exec(e.slice(i));return n?(t.m=C.get(n[0].toLowerCase()),i+n[0].length):-1}function s(t,e,i){_.lastIndex=0;var n=_.exec(e.slice(i));return n?(t.m=w.get(n[0].toLowerCase()),i+n[0].length):-1}function o(t,e,n){return i(t,P.c.toString(),e,n)}function l(t,e,n){return i(t,P.x.toString(),e,n)}function d(t,e,n){return i(t,P.X.toString(),e,n)}function c(t,e,i){var n=A.get(e.slice(i,i+=2).toLowerCase());return null==n?-1:(t.p=n,i)}var u=t.dateTime,h=t.date,p=t.time,f=t.periods,m=t.days,g=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function i(t){try{lo=Dt;var e=new lo;return e._=t,n(e)}finally{lo=Date}}var n=e(t);return i.parse=function(t){try{lo=Dt;var e=n.parse(t);return e&&e._}finally{lo=Date}},i.toString=n.toString,i},e.multi=e.utc.multi=oe;var A=es.map(),N=zt(m),S=Ht(m),$=zt(g),b=Ht(g),_=zt(v),w=Ht(v),x=zt(y),C=Ht(y);f.forEach(function(t,e){A.set(t.toLowerCase(),e)});var P={a:function(t){
return g[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(u),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+oo.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return f[+(t.getHours()>=12)]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(oo.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(oo.mondayOfYear(t),e,2)},x:e(h),X:e(p),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},k={a:n,A:r,b:a,B:s,c:o,d:Qt,e:Qt,H:ee,I:ee,j:te,L:re,m:Xt,M:ie,p:c,S:ne,U:Wt,w:Vt,W:Gt,x:l,X:d,y:Yt,Y:Kt,Z:Zt,"%":se};return e}function qt(t,e,i){var n=0>t?"-":"",r=(n?-t:t)+"",a=r.length;return n+(i>a?new Array(i-a+1).join(e)+r:r)}function zt(t){return new RegExp("^(?:"+t.map(es.requote).join("|")+")","i")}function Ht(t){for(var e=new d,i=-1,n=t.length;++i<n;)e.set(t[i].toLowerCase(),i);return e}function Vt(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function Wt(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i));return n?(t.U=+n[0],i+n[0].length):-1}function Gt(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i));return n?(t.W=+n[0],i+n[0].length):-1}function Kt(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function Yt(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i,i+2));return n?(t.y=Jt(+n[0]),i+n[0].length):-1}function Zt(t,e,i){return/^[+-]\d{4}$/.test(e=e.slice(i,i+5))?(t.Z=-e,i+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function Xt(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function Qt(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function te(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i,i+3));return n?(t.j=+n[0],i+n[0].length):-1}function ee(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function ie(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function ne(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function re(t,e,i){ho.lastIndex=0;var n=ho.exec(e.slice(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),i=e>0?"-":"+",n=ps(e)/60|0,r=ps(e)%60;return i+qt(n,"0",2)+qt(r,"0",2)}function se(t,e,i){po.lastIndex=0;var n=po.exec(e.slice(i,i+1));return n?i+n[0].length:-1}function oe(t){for(var e=t.length,i=-1;++i<e;)t[i][0]=this(t[i][0]);return function(e){for(var i=0,n=t[i];!n[1](e);)n=t[++i];return n[0](e)}}function le(){}function de(t,e,i){var n=i.s=t+e,r=n-t,a=n-r;i.t=t-a+(e-r)}function ce(t,e){t&&vo.hasOwnProperty(t.type)&&vo[t.type](t,e)}function ue(t,e,i){var n,r=-1,a=t.length-i;for(e.lineStart();++r<a;)n=t[r],e.point(n[0],n[1],n[2]);e.lineEnd()}function he(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)ue(t[i],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=Is,e=e*Is/2+Ms/4;var i=t-n,s=i>=0?1:-1,o=s*i,l=Math.cos(e),d=Math.sin(e),c=a*d,u=r*l+c*Math.cos(o),h=c*s*Math.sin(o);Ao.add(Math.atan2(h,u)),n=t,r=l,a=d}var e,i,n,r,a;No.point=function(s,o){No.point=t,n=(e=s)*Is,r=Math.cos(o=(i=o)*Is/2+Ms/4),a=Math.sin(o)},No.lineEnd=function(){t(e,i)}}function fe(t){var e=t[0],i=t[1],n=Math.cos(i);return[n*Math.cos(e),n*Math.sin(e),Math.sin(i)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ge(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ve(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ae(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ne(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function Se(t,e){return ps(t[0]-e[0])<ks&&ps(t[1]-e[1])<ks}function $e(t,e){t*=Is;var i=Math.cos(e*=Is);be(i*Math.cos(t),i*Math.sin(t),Math.sin(e))}function be(t,e,i){++So,bo+=(t-bo)/So,_o+=(e-_o)/So,wo+=(i-wo)/So}function _e(){function t(t,r){t*=Is;var a=Math.cos(r*=Is),s=a*Math.cos(t),o=a*Math.sin(t),l=Math.sin(r),d=Math.atan2(Math.sqrt((d=i*l-n*o)*d+(d=n*s-e*l)*d+(d=e*o-i*s)*d),e*s+i*o+n*l);$o+=d,xo+=d*(e+(e=s)),Co+=d*(i+(i=o)),Po+=d*(n+(n=l)),be(e,i,n)}var e,i,n;Eo.point=function(r,a){r*=Is;var s=Math.cos(a*=Is);e=s*Math.cos(r),i=s*Math.sin(r),n=Math.sin(a),Eo.point=t,be(e,i,n)}}function we(){Eo.point=$e}function xe(){function t(t,e){t*=Is;var i=Math.cos(e*=Is),s=i*Math.cos(t),o=i*Math.sin(t),l=Math.sin(e),d=r*l-a*o,c=a*s-n*l,u=n*o-r*s,h=Math.sqrt(d*d+c*c+u*u),p=n*s+r*o+a*l,f=h&&-tt(p)/h,m=Math.atan2(h,p);ko+=f*d,To+=f*c,Mo+=f*u,$o+=m,xo+=m*(n+(n=s)),Co+=m*(r+(r=o)),Po+=m*(a+(a=l)),be(n,r,a)}var e,i,n,r,a;Eo.point=function(s,o){e=s,i=o,Eo.point=t,s*=Is;var l=Math.cos(o*=Is);n=l*Math.cos(s),r=l*Math.sin(s),a=Math.sin(o),be(n,r,a)},Eo.lineEnd=function(){t(e,i),Eo.lineEnd=we,Eo.point=$e}}function Ce(t,e){function i(i,n){return i=t(i,n),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,n){return i=e.invert(i,n),i&&t.invert(i[0],i[1])}),i}function Pe(){return!0}function ke(t,e,i,n,r){var a=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i=t[0],n=t[e];if(Se(i,n)){r.lineStart();for(var o=0;e>o;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}var l=new Me(i,t,null,!0),d=new Me(i,null,l,!1);l.o=d,a.push(l),s.push(d),l=new Me(n,t,null,!1),d=new Me(n,null,l,!0),l.o=d,a.push(l),s.push(d)}}),s.sort(e),Te(a),Te(s),a.length){for(var o=0,l=i,d=s.length;d>o;++o)s[o].e=l=!l;for(var c,u,h=a[0];;){for(var p=h,f=!0;p.v;)if((p=p.n)===h)return;c=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(var o=0,d=c.length;d>o;++o)r.point((u=c[o])[0],u[1]);else n(p.x,p.n.x,1,r);p=p.n}else{if(f){c=p.p.z;for(var o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1])}else n(p.x,p.p.x,-1,r);p=p.p}p=p.o,c=p.z,f=!f}while(!p.v);r.lineEnd()}}}function Te(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Me(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function Ee(t,e,i,n){return function(r,a){function s(e,i){var n=r(e,i);t(e=n[0],i=n[1])&&a.point(e,i)}function o(t,e){var i=r(t,e);g.point(i[0],i[1])}function l(){y.point=o,g.lineStart()}function d(){y.point=s,g.lineEnd()}function c(t,e){m.push([t,e]);var i=r(t,e);N.point(i[0],i[1])}function u(){N.lineStart(),m=[]}function h(){c(m[0][0],m[0][1]),N.lineEnd();var t,e=N.clean(),i=A.buffer(),n=i.length;if(m.pop(),f.push(m),m=null,n)if(1&e){t=i[0];var r,n=t.length-1,s=-1;if(n>0){for(S||(a.polygonStart(),S=!0),a.lineStart();++s<n;)a.point((r=t[s])[0],r[1]);a.lineEnd()}}else n>1&&2&e&&i.push(i.pop().concat(i.shift())),p.push(i.filter(je))}var p,f,m,g=e(a),v=r.invert(n[0],n[1]),y={point:s,lineStart:l,lineEnd:d,polygonStart:function(){y.point=c,y.lineStart=u,y.lineEnd=h,p=[],f=[]},polygonEnd:function(){y.point=s,y.lineStart=l,y.lineEnd=d,p=es.merge(p);var t=Oe(v,f);p.length?(S||(a.polygonStart(),S=!0),ke(p,Ie,t,i,a)):t&&(S||(a.polygonStart(),S=!0),a.lineStart(),i(null,null,1,a),a.lineEnd()),S&&(a.polygonEnd(),S=!1),p=f=null},sphere:function(){a.polygonStart(),a.lineStart(),i(null,null,1,a),a.lineEnd(),a.polygonEnd()}},A=Fe(),N=e(A),S=!1;return y}}function je(t){return t.length>1}function Fe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,i){t.push([e,i])},lineEnd:S,buffer:function(){var i=e;return e=[],t=null,i},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ie(t,e){return((t=t.x)[0]<0?t[1]-Fs-ks:Fs-t[1])-((e=e.x)[0]<0?e[1]-Fs-ks:Fs-e[1])}function Be(t){var e,i=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,s){var o=a>0?Ms:-Ms,l=ps(a-i);ps(l-Ms)<ks?(t.point(i,n=(n+s)/2>0?Fs:-Fs),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),e=0):r!==o&&l>=Ms&&(ps(i-r)<ks&&(i-=r*ks),ps(a-o)<ks&&(a-=o*ks),n=Re(i,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),e=0),t.point(i=a,n=s),r=o},lineEnd:function(){t.lineEnd(),i=n=NaN},clean:function(){return 2-e}}}function Re(t,e,i,n){var r,a,s=Math.sin(t-i);return ps(s)>ks?Math.atan((Math.sin(e)*(a=Math.cos(n))*Math.sin(i)-Math.sin(n)*(r=Math.cos(e))*Math.sin(t))/(r*a*s)):(e+n)/2}function De(t,e,i,n){var r;if(null==t)r=i*Fs,n.point(-Ms,r),n.point(0,r),n.point(Ms,r),n.point(Ms,0),n.point(Ms,-r),n.point(0,-r),n.point(-Ms,-r),n.point(-Ms,0),n.point(-Ms,r);else if(ps(t[0]-e[0])>ks){var a=t[0]<e[0]?Ms:-Ms;r=i*a/2,n.point(-a,r),n.point(0,r),n.point(a,r)}else n.point(e[0],e[1])}function Oe(t,e){var i=t[0],n=t[1],r=[Math.sin(i),-Math.cos(i),0],a=0,s=0;Ao.reset();for(var o=0,l=e.length;l>o;++o){var d=e[o],c=d.length;if(c)for(var u=d[0],h=u[0],p=u[1]/2+Ms/4,f=Math.sin(p),m=Math.cos(p),g=1;;){g===c&&(g=0),t=d[g];var v=t[0],y=t[1]/2+Ms/4,A=Math.sin(y),N=Math.cos(y),S=v-h,$=S>=0?1:-1,b=$*S,_=b>Ms,w=f*A;if(Ao.add(Math.atan2(w*$*Math.sin(b),m*N+w*Math.cos(b))),a+=_?S+$*Es:S,_^h>=i^v>=i){var x=ge(fe(u),fe(t));Ae(x);var C=ge(r,x);Ae(C);var P=(_^S>=0?-1:1)*et(C[2]);(n>P||n===P&&(x[0]||x[1]))&&(s+=_^S>=0?1:-1)}if(!g++)break;h=v,f=A,m=N,u=t}}return(-ks>a||ks>a&&0>Ao)^1&s}function Ue(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function i(t){var i,a,l,d,c;return{lineStart:function(){d=l=!1,c=1},point:function(u,h){var p,f=[u,h],m=e(u,h),g=s?m?0:r(u,h):m?r(u+(0>u?Ms:-Ms),h):0;if(!i&&(d=l=m)&&t.lineStart(),m!==l&&(p=n(i,f),(Se(i,p)||Se(f,p))&&(f[0]+=ks,f[1]+=ks,m=e(f[0],f[1]))),m!==l)c=0,m?(t.lineStart(),p=n(f,i),t.point(p[0],p[1])):(p=n(i,f),t.point(p[0],p[1]),t.lineEnd()),i=p;else if(o&&i&&s^m){var v;g&a||!(v=n(f,i,!0))||(c=0,s?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||i&&Se(i,f)||t.point(f[0],f[1]),i=f,l=m,a=g},lineEnd:function(){l&&t.lineEnd(),i=null},clean:function(){return c|(d&&l)<<1}}}function n(t,e,i){var n=fe(t),r=fe(e),s=[1,0,0],o=ge(n,r),l=me(o,o),d=o[0],c=l-d*d;if(!c)return!i&&t;var u=a*l/c,h=-a*d/c,p=ge(s,o),f=ye(s,u),m=ye(o,h);ve(f,m);var g=p,v=me(f,g),y=me(g,g),A=v*v-y*(me(f,f)-1);if(!(0>A)){var N=Math.sqrt(A),S=ye(g,(-v-N)/y);if(ve(S,f),S=Ne(S),!i)return S;var $,b=t[0],_=e[0],w=t[1],x=e[1];b>_&&($=b,b=_,_=$);var C=_-b,P=ps(C-Ms)<ks,k=P||ks>C;if(!P&&w>x&&($=w,w=x,x=$),k?P?w+x>0^S[1]<(ps(S[0]-b)<ks?w:x):w<=S[1]&&S[1]<=x:C>Ms^(b<=S[0]&&S[0]<=_)){var T=ye(g,(-v+N)/y);return ve(T,f),[S,Ne(T)]}}}function r(e,i){var n=s?t:Ms-t,r=0;return-n>e?r|=1:e>n&&(r|=2),-n>i?r|=4:i>n&&(r|=8),r}var a=Math.cos(t),s=a>0,o=ps(a)>ks,l=pi(t,6*Is);return Ee(e,i,l,s?[0,-t]:[-Ms,t-Ms])}function Le(t,e,i,n){return function(r){var a,s=r.a,o=r.b,l=s.x,d=s.y,c=o.x,u=o.y,h=0,p=1,f=c-l,m=u-d;if(a=t-l,f||!(a>0)){if(a/=f,0>f){if(h>a)return;p>a&&(p=a)}else if(f>0){if(a>p)return;a>h&&(h=a)}if(a=i-l,f||!(0>a)){if(a/=f,0>f){if(a>p)return;a>h&&(h=a)}else if(f>0){if(h>a)return;p>a&&(p=a)}if(a=e-d,m||!(a>0)){if(a/=m,0>m){if(h>a)return;p>a&&(p=a)}else if(m>0){if(a>p)return;a>h&&(h=a)}if(a=n-d,m||!(0>a)){if(a/=m,0>m){if(a>p)return;a>h&&(h=a)}else if(m>0){if(h>a)return;p>a&&(p=a)}return h>0&&(r.a={x:l+h*f,y:d+h*m}),1>p&&(r.b={x:l+p*f,y:d+p*m}),r}}}}}}function qe(t,e,i,n){function r(n,r){return ps(n[0]-t)<ks?r>0?0:3:ps(n[0]-i)<ks?r>0?2:1:ps(n[1]-e)<ks?r>0?1:0:r>0?3:2}function a(t,e){return s(t.x,e.x)}function s(t,e){var i=r(t,1),n=r(e,1);return i!==n?i-n:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(o){function l(t){for(var e=0,i=g.length,n=t[1],r=0;i>r;++r)for(var a,s=1,o=g[r],l=o.length,d=o[0];l>s;++s)a=o[s],d[1]<=n?a[1]>n&&Q(d,a,t)>0&&++e:a[1]<=n&&Q(d,a,t)<0&&--e,d=a;return 0!==e}function d(a,o,l,d){var c=0,u=0;if(null==a||(c=r(a,l))!==(u=r(o,l))||s(a,o)<0^l>0){do d.point(0===c||3===c?t:i,c>1?n:e);while((c=(c+l+4)%4)!==u)}else d.point(o[0],o[1])}function c(r,a){return r>=t&&i>=r&&a>=e&&n>=a}function u(t,e){c(t,e)&&o.point(t,e)}function h(){k.point=f,g&&g.push(v=[]),_=!0,b=!1,S=$=NaN}function p(){m&&(f(y,A),N&&b&&C.rejoin(),m.push(C.buffer())),k.point=u,b&&o.lineEnd()}function f(t,e){t=Math.max(-Fo,Math.min(Fo,t)),e=Math.max(-Fo,Math.min(Fo,e));var i=c(t,e);if(g&&v.push([t,e]),_)y=t,A=e,N=i,_=!1,i&&(o.lineStart(),o.point(t,e));else if(i&&b)o.point(t,e);else{var n={a:{x:S,y:$},b:{x:t,y:e}};P(n)?(b||(o.lineStart(),o.point(n.a.x,n.a.y)),o.point(n.b.x,n.b.y),i||o.lineEnd(),w=!1):i&&(o.lineStart(),o.point(t,e),w=!1)}S=t,$=e,b=i}var m,g,v,y,A,N,S,$,b,_,w,x=o,C=Fe(),P=Le(t,e,i,n),k={point:u,lineStart:h,lineEnd:p,polygonStart:function(){o=C,m=[],g=[],w=!0},polygonEnd:function(){o=x,m=es.merge(m);var e=l([t,n]),i=w&&e,r=m.length;(i||r)&&(o.polygonStart(),i&&(o.lineStart(),d(null,null,1,o),o.lineEnd()),r&&ke(m,a,e,d,o),o.polygonEnd()),m=g=v=null}};return k}}function ze(t){var e=0,i=Ms/3,n=ai(t),r=n(e,i);return r.parallels=function(t){return arguments.length?n(e=t[0]*Ms/180,i=t[1]*Ms/180):[e/Ms*180,i/Ms*180]},r}function He(t,e){function i(t,e){var i=Math.sqrt(a-2*r*Math.sin(e))/r;return[i*Math.sin(t*=r),s-i*Math.cos(t)]}var n=Math.sin(t),r=(n+Math.sin(e))/2,a=1+n*(2*r-n),s=Math.sqrt(a)/r;return i.invert=function(t,e){var i=s-e;return[Math.atan2(t,i)/r,et((a-(t*t+i*i)*r*r)/(2*r))]},i}function Ve(){function t(t,e){Bo+=r*t-n*e,n=t,r=e}var e,i,n,r;Lo.point=function(a,s){Lo.point=t,e=n=a,i=r=s},Lo.lineEnd=function(){t(e,i)}}function We(t,e){Ro>t&&(Ro=t),t>Oo&&(Oo=t),Do>e&&(Do=e),e>Uo&&(Uo=e)}function Ge(){function t(t,e){s.push("M",t,",",e,a)}function e(t,e){s.push("M",t,",",e),o.point=i}function i(t,e){s.push("L",t,",",e)}function n(){o.point=t}function r(){s.push("Z")}var a=Ke(4.5),s=[],o={point:t,lineStart:function(){o.point=e},lineEnd:n,polygonStart:function(){o.lineEnd=r},polygonEnd:function(){o.lineEnd=n,o.point=t},pointRadius:function(t){return a=Ke(t),o},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return o}function Ke(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ye(t,e){bo+=t,_o+=e,++wo}function Ze(){function t(t,n){var r=t-e,a=n-i,s=Math.sqrt(r*r+a*a);xo+=s*(e+t)/2,Co+=s*(i+n)/2,Po+=s,Ye(e=t,i=n)}var e,i;zo.point=function(n,r){zo.point=t,Ye(e=n,i=r)}}function Je(){zo.point=Ye}function Xe(){function t(t,e){var i=t-n,a=e-r,s=Math.sqrt(i*i+a*a);xo+=s*(n+t)/2,Co+=s*(r+e)/2,Po+=s,s=r*t-n*e,ko+=s*(n+t),To+=s*(r+e),Mo+=3*s,Ye(n=t,r=e)}var e,i,n,r;zo.point=function(a,s){zo.point=t,Ye(e=n=a,i=r=s)},zo.lineEnd=function(){t(e,i)}}function Qe(t){function e(e,i){t.moveTo(e+s,i),t.arc(e,i,s,0,Es)}function i(e,i){t.moveTo(e,i),o.point=n}function n(e,i){t.lineTo(e,i)}function r(){o.point=e}function a(){t.closePath()}var s=4.5,o={point:e,lineStart:function(){o.point=i},lineEnd:r,polygonStart:function(){o.lineEnd=a},polygonEnd:function(){o.lineEnd=r,o.point=e},pointRadius:function(t){return s=t,o},result:S};return o}function ti(t){function e(t){return(o?n:i)(t)}function i(e){return ni(e,function(i,n){i=t(i,n),e.point(i[0],i[1])})}function n(e){function i(i,n){i=t(i,n),e.point(i[0],i[1])}function n(){A=NaN,_.point=a,e.lineStart()}function a(i,n){var a=fe([i,n]),s=t(i,n);r(A,N,y,S,$,b,A=s[0],N=s[1],y=i,S=a[0],$=a[1],b=a[2],o,e),e.point(A,N)}function s(){_.point=i,e.lineEnd()}function l(){n(),_.point=d,_.lineEnd=c}function d(t,e){a(u=t,h=e),p=A,f=N,m=S,g=$,v=b,_.point=a}function c(){r(A,N,y,S,$,b,p,f,u,m,g,v,o,e),_.lineEnd=s,s()}var u,h,p,f,m,g,v,y,A,N,S,$,b,_={point:i,lineStart:n,lineEnd:s,polygonStart:function(){e.polygonStart(),_.lineStart=l},polygonEnd:function(){e.polygonEnd(),_.lineStart=n}};return _}function r(e,i,n,o,l,d,c,u,h,p,f,m,g,v){var y=c-e,A=u-i,N=y*y+A*A;if(N>4*a&&g--){var S=o+p,$=l+f,b=d+m,_=Math.sqrt(S*S+$*$+b*b),w=Math.asin(b/=_),x=ps(ps(b)-1)<ks||ps(n-h)<ks?(n+h)/2:Math.atan2($,S),C=t(x,w),P=C[0],k=C[1],T=P-e,M=k-i,E=A*T-y*M;(E*E/N>a||ps((y*T+A*M)/N-.5)>.3||s>o*p+l*f+d*m)&&(r(e,i,n,o,l,d,P,k,x,S/=_,$/=_,b,g,v),v.point(P,k),r(P,k,x,S,$,b,c,u,h,p,f,m,g,v))}}var a=.5,s=Math.cos(30*Is),o=16;return e.precision=function(t){return arguments.length?(o=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function ei(t){var e=ti(function(e,i){return t([e*Bs,i*Bs])});return function(t){return si(e(t))}}function ii(t){this.stream=t}function ni(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ri(t){return ai(function(){return t})()}function ai(t){function e(t){return t=o(t[0]*Is,t[1]*Is),[t[0]*h+l,d-t[1]*h]}function i(t){return t=o.invert((t[0]-l)/h,(d-t[1])/h),t&&[t[0]*Bs,t[1]*Bs]}function n(){o=Ce(s=di(v,A,N),a);var t=a(m,g);return l=p-t[0]*h,d=f+t[1]*h,r()}function r(){return c&&(c.valid=!1,c=null),e}var a,s,o,l,d,c,u=ti(function(t,e){return t=a(t,e),[t[0]*h+l,d-t[1]*h]}),h=150,p=480,f=250,m=0,g=0,v=0,A=0,N=0,S=jo,$=y,b=null,_=null;return e.stream=function(t){return c&&(c.valid=!1),c=si(S(s,u($(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(S=null==t?(b=t,jo):Ue((b=+t)*Is),r()):b},e.clipExtent=function(t){return arguments.length?(_=t,$=t?qe(t[0][0],t[0][1],t[1][0],t[1][1]):y,r()):_},e.scale=function(t){return arguments.length?(h=+t,n()):h},e.translate=function(t){return arguments.length?(p=+t[0],f=+t[1],n()):[p,f]},e.center=function(t){return arguments.length?(m=t[0]%360*Is,g=t[1]%360*Is,n()):[m*Bs,g*Bs]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Is,A=t[1]%360*Is,N=t.length>2?t[2]%360*Is:0,n()):[v*Bs,A*Bs,N*Bs]},es.rebind(e,u,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&i,n()}}function si(t){return ni(t,function(e,i){t.point(e*Is,i*Is)})}function oi(t,e){return[t,e]}function li(t,e){return[t>Ms?t-Es:-Ms>t?t+Es:t,e]}function di(t,e,i){return t?e||i?Ce(ui(t),hi(e,i)):ui(t):e||i?hi(e,i):li}function ci(t){return function(e,i){return e+=t,[e>Ms?e-Es:-Ms>e?e+Es:e,i]}}function ui(t){var e=ci(t);return e.invert=ci(-t),e}function hi(t,e){function i(t,e){var i=Math.cos(e),o=Math.cos(t)*i,l=Math.sin(t)*i,d=Math.sin(e),c=d*n+o*r;return[Math.atan2(l*a-c*s,o*n-d*r),et(c*a+l*s)]}var n=Math.cos(t),r=Math.sin(t),a=Math.cos(e),s=Math.sin(e);return i.invert=function(t,e){var i=Math.cos(e),o=Math.cos(t)*i,l=Math.sin(t)*i,d=Math.sin(e),c=d*a-l*s;return[Math.atan2(l*a+d*s,o*n+c*r),et(c*n-o*r)]},i}function pi(t,e){var i=Math.cos(t),n=Math.sin(t);return function(r,a,s,o){var l=s*e;null!=r?(r=fi(i,r),a=fi(i,a),(s>0?a>r:r>a)&&(r+=s*Es)):(r=t+s*Es,a=t-.5*l);for(var d,c=r;s>0?c>a:a>c;c-=l)o.point((d=Ne([i,-n*Math.cos(c),-n*Math.sin(c)]))[0],d[1])}}function fi(t,e){var i=fe(e);i[0]-=t,Ae(i);var n=tt(-i[1]);return((-i[2]<0?-n:n)+2*Math.PI-ks)%(2*Math.PI)}function mi(t,e,i){var n=es.range(t,e-ks,i).concat(e);return function(t){return n.map(function(e){return[t,e]})}}function gi(t,e,i){var n=es.range(t,e-ks,i).concat(e);return function(t){return n.map(function(e){return[e,t]})}}function vi(t){return t.source}function yi(t){return t.target}function Ai(t,e,i,n){var r=Math.cos(e),a=Math.sin(e),s=Math.cos(n),o=Math.sin(n),l=r*Math.cos(t),d=r*Math.sin(t),c=s*Math.cos(i),u=s*Math.sin(i),h=2*Math.asin(Math.sqrt(at(n-e)+r*s*at(i-t))),p=1/Math.sin(h),f=h?function(t){var e=Math.sin(t*=h)*p,i=Math.sin(h-t)*p,n=i*l+e*c,r=i*d+e*u,s=i*a+e*o;return[Math.atan2(r,n)*Bs,Math.atan2(s,Math.sqrt(n*n+r*r))*Bs]}:function(){return[t*Bs,e*Bs]};return f.distance=h,f}function Ni(){function t(t,r){var a=Math.sin(r*=Is),s=Math.cos(r),o=ps((t*=Is)-e),l=Math.cos(o);Ho+=Math.atan2(Math.sqrt((o=s*Math.sin(o))*o+(o=n*a-i*s*l)*o),i*a+n*s*l),e=t,i=a,n=s}var e,i,n;Vo.point=function(r,a){e=r*Is,i=Math.sin(a*=Is),n=Math.cos(a),Vo.point=t},Vo.lineEnd=function(){Vo.point=Vo.lineEnd=S}}function Si(t,e){function i(e,i){var n=Math.cos(e),r=Math.cos(i),a=t(n*r);return[a*r*Math.sin(e),a*Math.sin(i)]}return i.invert=function(t,i){var n=Math.sqrt(t*t+i*i),r=e(n),a=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*a,n*s),Math.asin(n&&i*a/n)]},i}function $i(t,e){function i(t,e){s>0?-Fs+ks>e&&(e=-Fs+ks):e>Fs-ks&&(e=Fs-ks);var i=s/Math.pow(r(e),a);return[i*Math.sin(a*t),s-i*Math.cos(a*t)]}var n=Math.cos(t),r=function(t){return Math.tan(Ms/4+t/2)},a=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),s=n*Math.pow(r(t),a)/a;return a?(i.invert=function(t,e){var i=s-e,n=X(a)*Math.sqrt(t*t+i*i);return[Math.atan2(t,i)/a,2*Math.atan(Math.pow(s/n,1/a))-Fs]},i):_i}function bi(t,e){function i(t,e){var i=a-e;return[i*Math.sin(r*t),a-i*Math.cos(r*t)]}var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),a=n/r+t;return ps(r)<ks?oi:(i.invert=function(t,e){var i=a-e;return[Math.atan2(t,i)/r,a-X(r)*Math.sqrt(t*t+i*i)]},i)}function _i(t,e){return[t,Math.log(Math.tan(Ms/4+e/2))]}function wi(t){var e,i=ri(t),n=i.scale,r=i.translate,a=i.clipExtent;return i.scale=function(){var t=n.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.translate=function(){var t=r.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.clipExtent=function(t){var s=a.apply(i,arguments);if(s===i){if(e=null==t){var o=Ms*n(),l=r();a([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else e&&(s=null);return s},i.clipExtent(null)}function xi(t,e){return[Math.log(Math.tan(Ms/4+e/2)),-t]}function Ci(t){return t[0]}function Pi(t){return t[1]}function ki(t){for(var e=t.length,i=[0,1],n=2,r=2;e>r;r++){for(;n>1&&Q(t[i[n-2]],t[i[n-1]],t[r])<=0;)--n;i[n++]=r}return i.slice(0,n)}function Ti(t,e){return t[0]-e[0]||t[1]-e[1]}function Mi(t,e,i){return(i[0]-e[0])*(t[1]-e[1])<(i[1]-e[1])*(t[0]-e[0])}function Ei(t,e,i,n){var r=t[0],a=i[0],s=e[0]-r,o=n[0]-a,l=t[1],d=i[1],c=e[1]-l,u=n[1]-d,h=(o*(l-d)-u*(r-a))/(u*s-o*c);return[r+h*s,l+h*c]}function ji(t){var e=t[0],i=t[t.length-1];return!(e[0]-i[0]||e[1]-i[1])}function Fi(){en(this),this.edge=this.site=this.circle=null}function Ii(t){var e=nl.pop()||new Fi;return e.site=t,e}function Bi(t){Wi(t),tl.remove(t),nl.push(t),en(t)}function Ri(t){var e=t.circle,i=e.x,n=e.cy,r={x:i,y:n},a=t.P,s=t.N,o=[t];Bi(t);for(var l=a;l.circle&&ps(i-l.circle.x)<ks&&ps(n-l.circle.cy)<ks;)a=l.P,o.unshift(l),Bi(l),l=a;o.unshift(l),Wi(l);for(var d=s;d.circle&&ps(i-d.circle.x)<ks&&ps(n-d.circle.cy)<ks;)s=d.N,o.push(d),Bi(d),d=s;o.push(d),Wi(d);var c,u=o.length;for(c=1;u>c;++c)d=o[c],l=o[c-1],Xi(d.edge,l.site,d.site,r);l=o[0],d=o[u-1],d.edge=Zi(l.site,d.site,null,r),Vi(l),Vi(d)}function Di(t){for(var e,i,n,r,a=t.x,s=t.y,o=tl._;o;)if(n=Oi(o,s)-a,n>ks)o=o.L;else{if(r=a-Ui(o,s),!(r>ks)){n>-ks?(e=o.P,i=o):r>-ks?(e=o,i=o.N):e=i=o;break}if(!o.R){e=o;break}o=o.R}var l=Ii(t);if(tl.insert(e,l),e||i){if(e===i)return Wi(e),i=Ii(e.site),tl.insert(l,i),l.edge=i.edge=Zi(e.site,l.site),Vi(e),void Vi(i);if(!i)return void(l.edge=Zi(e.site,l.site));Wi(e),Wi(i);var d=e.site,c=d.x,u=d.y,h=t.x-c,p=t.y-u,f=i.site,m=f.x-c,g=f.y-u,v=2*(h*g-p*m),y=h*h+p*p,A=m*m+g*g,N={x:(g*y-p*A)/v+c,y:(h*A-m*y)/v+u};Xi(i.edge,d,f,N),l.edge=Zi(d,t,null,N),i.edge=Zi(t,f,null,N),Vi(e),Vi(i)}}function Oi(t,e){var i=t.site,n=i.x,r=i.y,a=r-e;if(!a)return n;var s=t.P;if(!s)return-1/0;i=s.site;var o=i.x,l=i.y,d=l-e;if(!d)return o;var c=o-n,u=1/a-1/d,h=c/d;return u?(-h+Math.sqrt(h*h-2*u*(c*c/(-2*d)-l+d/2+r-a/2)))/u+n:(n+o)/2}function Ui(t,e){var i=t.N;if(i)return Oi(i,e);var n=t.site;return n.y===e?n.x:1/0}function Li(t){this.site=t,this.edges=[]}function qi(t){for(var e,i,n,r,a,s,o,l,d,c,u=t[0][0],h=t[1][0],p=t[0][1],f=t[1][1],m=Qo,g=m.length;g--;)if(a=m[g],a&&a.prepare())for(o=a.edges,l=o.length,s=0;l>s;)c=o[s].end(),n=c.x,r=c.y,d=o[++s%l].start(),e=d.x,i=d.y,(ps(n-e)>ks||ps(r-i)>ks)&&(o.splice(s,0,new Qi(Ji(a.site,c,ps(n-u)<ks&&f-r>ks?{x:u,y:ps(e-u)<ks?i:f}:ps(r-f)<ks&&h-n>ks?{x:ps(i-f)<ks?e:h,y:f}:ps(n-h)<ks&&r-p>ks?{x:h,y:ps(e-h)<ks?i:p}:ps(r-p)<ks&&n-u>ks?{x:ps(i-p)<ks?e:u,y:p}:null),a.site,null)),++l)}function zi(t,e){return e.angle-t.angle}function Hi(){en(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vi(t){var e=t.P,i=t.N;if(e&&i){var n=e.site,r=t.site,a=i.site;if(n!==a){var s=r.x,o=r.y,l=n.x-s,d=n.y-o,c=a.x-s,u=a.y-o,h=2*(l*u-d*c);if(!(h>=-Ts)){var p=l*l+d*d,f=c*c+u*u,m=(u*p-d*f)/h,g=(l*f-c*p)/h,u=g+o,v=rl.pop()||new Hi;v.arc=t,v.site=r,v.x=m+s,v.y=u+Math.sqrt(m*m+g*g),v.cy=u,t.circle=v;for(var y=null,A=il._;A;)if(v.y<A.y||v.y===A.y&&v.x<=A.x){if(!A.L){y=A.P;break}A=A.L}else{if(!A.R){y=A;break}A=A.R}il.insert(y,v),y||(el=v)}}}}function Wi(t){var e=t.circle;e&&(e.P||(el=e.N),il.remove(e),rl.push(e),en(e),t.circle=null)}function Gi(t){for(var e,i=Xo,n=Le(t[0][0],t[0][1],t[1][0],t[1][1]),r=i.length;r--;)e=i[r],(!Ki(e,t)||!n(e)||ps(e.a.x-e.b.x)<ks&&ps(e.a.y-e.b.y)<ks)&&(e.a=e.b=null,i.splice(r,1))}function Ki(t,e){var i=t.b;if(i)return!0;var n,r,a=t.a,s=e[0][0],o=e[1][0],l=e[0][1],d=e[1][1],c=t.l,u=t.r,h=c.x,p=c.y,f=u.x,m=u.y,g=(h+f)/2,v=(p+m)/2;if(m===p){if(s>g||g>=o)return;if(h>f){if(a){if(a.y>=d)return}else a={x:g,y:l};i={x:g,y:d}}else{if(a){if(a.y<l)return}else a={x:g,y:d};i={x:g,y:l}}}else if(n=(h-f)/(m-p),r=v-n*g,-1>n||n>1)if(h>f){if(a){if(a.y>=d)return}else a={x:(l-r)/n,y:l};i={x:(d-r)/n,y:d}}else{if(a){if(a.y<l)return}else a={x:(d-r)/n,y:d};i={x:(l-r)/n,y:l}}else if(m>p){if(a){if(a.x>=o)return}else a={x:s,y:n*s+r};i={x:o,y:n*o+r}}else{if(a){if(a.x<s)return}else a={x:o,y:n*o+r};i={x:s,y:n*s+r}}return t.a=a,t.b=i,!0}function Yi(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zi(t,e,i,n){var r=new Yi(t,e);return Xo.push(r),i&&Xi(r,t,e,i),n&&Xi(r,e,t,n),Qo[t.i].edges.push(new Qi(r,t,e)),Qo[e.i].edges.push(new Qi(r,e,t)),r}function Ji(t,e,i){var n=new Yi(t,null);return n.a=e,n.b=i,Xo.push(n),n}function Xi(t,e,i,n){t.a||t.b?t.l===i?t.b=n:t.a=n:(t.a=n,t.l=e,t.r=i)}function Qi(t,e,i){var n=t.a,r=t.b;this.edge=t,this.site=e,this.angle=i?Math.atan2(i.y-e.y,i.x-e.x):t.l===e?Math.atan2(r.x-n.x,n.y-r.y):Math.atan2(n.x-r.x,r.y-n.y)}function tn(){this._=null}function en(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function nn(t,e){var i=e,n=e.R,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.R=n.L,i.R&&(i.R.U=i),n.L=i}function rn(t,e){var i=e,n=e.L,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.L=n.R,i.L&&(i.L.U=i),n.R=i}function an(t){for(;t.L;)t=t.L;return t}function sn(t,e){var i,n,r,a=t.sort(on).pop();for(Xo=[],Qo=new Array(t.length),tl=new tn,il=new tn;;)if(r=el,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))(a.x!==i||a.y!==n)&&(Qo[a.i]=new Li(a),Di(a),i=a.x,n=a.y),a=t.pop();else{if(!r)break;Ri(r.arc)}e&&(Gi(e),qi(e));var s={cells:Qo,edges:Xo};return tl=il=Xo=Qo=null,s}function on(t,e){return e.y-t.y||e.x-t.x}function ln(t,e,i){return(t.x-i.x)*(e.y-t.y)-(t.x-e.x)*(i.y-t.y)}function dn(t){return t.x}function cn(t){return t.y}function un(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hn(t,e,i,n,r,a){if(!t(e,i,n,r,a)){var s=.5*(i+r),o=.5*(n+a),l=e.nodes;l[0]&&hn(t,l[0],i,n,s,o),l[1]&&hn(t,l[1],s,n,r,o),l[2]&&hn(t,l[2],i,o,s,a),l[3]&&hn(t,l[3],s,o,r,a)}}function pn(t,e,i,n,r,a,s){var o,l=1/0;return function d(t,c,u,h,p){if(!(c>a||u>s||n>h||r>p)){if(f=t.point){var f,m=e-t.x,g=i-t.y,v=m*m+g*g;if(l>v){var y=Math.sqrt(l=v);n=e-y,r=i-y,a=e+y,s=i+y,o=f}}for(var A=t.nodes,N=.5*(c+h),S=.5*(u+p),$=e>=N,b=i>=S,_=b<<1|$,w=_+4;w>_;++_)if(t=A[3&_])switch(3&_){case 0:d(t,c,u,N,S);break;case 1:d(t,N,u,h,S);break;case 2:d(t,c,S,N,p);break;case 3:d(t,N,S,h,p)}}}(t,n,r,a,s),o}function fn(t,e){t=es.rgb(t),e=es.rgb(e);var i=t.r,n=t.g,r=t.b,a=e.r-i,s=e.g-n,o=e.b-r;return function(t){return"#"+Nt(Math.round(i+a*t))+Nt(Math.round(n+s*t))+Nt(Math.round(r+o*t))}}function mn(t,e){var i,n={},r={};for(i in t)i in e?n[i]=yn(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(t){for(i in n)r[i]=n[i](t);return r}}function gn(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function vn(t,e){var i,n,r,a=sl.lastIndex=ol.lastIndex=0,s=-1,o=[],l=[];for(t+="",e+="";(i=sl.exec(t))&&(n=ol.exec(e));)(r=n.index)>a&&(r=e.slice(a,r),o[s]?o[s]+=r:o[++s]=r),(i=i[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:gn(i,n)})),a=ol.lastIndex;return a<e.length&&(r=e.slice(a),o[s]?o[s]+=r:o[++s]=r),o.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var i,n=0;e>n;++n)o[(i=l[n]).i]=i.x(t);return o.join("")})}function yn(t,e){for(var i,n=es.interpolators.length;--n>=0&&!(i=es.interpolators[n](t,e)););return i}function An(t,e){var i,n=[],r=[],a=t.length,s=e.length,o=Math.min(t.length,e.length);for(i=0;o>i;++i)n.push(yn(t[i],e[i]));for(;a>i;++i)r[i]=t[i];for(;s>i;++i)r[i]=e[i];return function(t){for(i=0;o>i;++i)r[i]=n[i](t);return r}}function Nn(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Sn(t){return function(e){return 1-t(1-e)}}function $n(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function bn(t){return t*t}function _n(t){return t*t*t}function wn(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(.5>t?i:3*(t-e)+i-.75)}function xn(t){return function(e){return Math.pow(e,t)}}function Cn(t){return 1-Math.cos(t*Fs)}function Pn(t){return Math.pow(2,10*(t-1))}function kn(t){return 1-Math.sqrt(1-t*t)}function Tn(t,e){var i;return arguments.length<2&&(e=.45),arguments.length?i=e/Es*Math.asin(1/t):(t=1,i=e/4),function(n){return 1+t*Math.pow(2,-10*n)*Math.sin((n-i)*Es/e)}}function Mn(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function En(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function jn(t,e){t=es.hcl(t),e=es.hcl(e);var i=t.h,n=t.c,r=t.l,a=e.h-i,s=e.c-n,o=e.l-r;return isNaN(s)&&(s=0,n=isNaN(n)?e.c:n),isNaN(a)?(a=0,i=isNaN(i)?e.h:i):a>180?a-=360:-180>a&&(a+=360),function(t){return ct(i+a*t,n+s*t,r+o*t)+""}}function Fn(t,e){t=es.hsl(t),e=es.hsl(e);var i=t.h,n=t.s,r=t.l,a=e.h-i,s=e.s-n,o=e.l-r;return isNaN(s)&&(s=0,n=isNaN(n)?e.s:n),isNaN(a)?(a=0,i=isNaN(i)?e.h:i):a>180?a-=360:-180>a&&(a+=360),function(t){return lt(i+a*t,n+s*t,r+o*t)+""}}function In(t,e){t=es.lab(t),e=es.lab(e);var i=t.l,n=t.a,r=t.b,a=e.l-i,s=e.a-n,o=e.b-r;return function(t){return ht(i+a*t,n+s*t,r+o*t)+""}}function Bn(t,e){return e-=t,function(i){return Math.round(t+e*i)}}function Rn(t){var e=[t.a,t.b],i=[t.c,t.d],n=On(e),r=Dn(e,i),a=On(Un(i,e,-r))||0;e[0]*i[1]<i[0]*e[1]&&(e[0]*=-1,e[1]*=-1,n*=-1,r*=-1),this.rotate=(n?Math.atan2(e[1],e[0]):Math.atan2(-i[0],i[1]))*Bs,this.translate=[t.e,t.f],this.scale=[n,a],this.skew=a?Math.atan2(r,a)*Bs:0}function Dn(t,e){return t[0]*e[0]+t[1]*e[1]}function On(t){var e=Math.sqrt(Dn(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Un(t,e,i){return t[0]+=i*e[0],t[1]+=i*e[1],t}function Ln(t,e){var i,n=[],r=[],a=es.transform(t),s=es.transform(e),o=a.translate,l=s.translate,d=a.rotate,c=s.rotate,u=a.skew,h=s.skew,p=a.scale,f=s.scale;return o[0]!=l[0]||o[1]!=l[1]?(n.push("translate(",null,",",null,")"),r.push({i:1,x:gn(o[0],l[0])},{i:3,x:gn(o[1],l[1])})):n.push(l[0]||l[1]?"translate("+l+")":""),d!=c?(d-c>180?c+=360:c-d>180&&(d+=360),r.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:gn(d,c)})):c&&n.push(n.pop()+"rotate("+c+")"),u!=h?r.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:gn(u,h)}):h&&n.push(n.pop()+"skewX("+h+")"),p[0]!=f[0]||p[1]!=f[1]?(i=n.push(n.pop()+"scale(",null,",",null,")"),r.push({i:i-4,x:gn(p[0],f[0])},{i:i-2,x:gn(p[1],f[1])})):(1!=f[0]||1!=f[1])&&n.push(n.pop()+"scale("+f+")"),i=r.length,function(t){for(var e,a=-1;++a<i;)n[(e=r[a]).i]=e.x(t);return n.join("")}}function qn(t,e){return e=(e-=t=+t)||1/e,function(i){return(i-t)/e}}function zn(t,e){return e=(e-=t=+t)||1/e,function(i){return Math.max(0,Math.min(1,(i-t)/e))}}function Hn(t){for(var e=t.source,i=t.target,n=Wn(e,i),r=[e];e!==n;)e=e.parent,r.push(e);for(var a=r.length;i!==n;)r.splice(a,0,i),i=i.parent;return r}function Vn(t){for(var e=[],i=t.parent;null!=i;)e.push(t),t=i,i=i.parent;return e.push(t),e}function Wn(t,e){if(t===e)return t;for(var i=Vn(t),n=Vn(e),r=i.pop(),a=n.pop(),s=null;r===a;)s=r,r=i.pop(),a=n.pop();return s}function Gn(t){t.fixed|=2}function Kn(t){t.fixed&=-7}function Yn(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Zn(t){t.fixed&=-5}function Jn(t,e,i){var n=0,r=0;if(t.charge=0,!t.leaf)for(var a,s=t.nodes,o=s.length,l=-1;++l<o;)a=s[l],null!=a&&(Jn(a,e,i),t.charge+=a.charge,n+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var d=e*i[t.point.index];t.charge+=t.pointCharge=d,n+=d*t.point.x,r+=d*t.point.y}t.cx=n/t.charge,t.cy=r/t.charge}function Xn(t,e){return es.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=rr,t}function Qn(t,e){for(var i=[t];null!=(t=i.pop());)if(e(t),(r=t.children)&&(n=r.length))for(var n,r;--n>=0;)i.push(r[n])}function tr(t,e){for(var i=[t],n=[];null!=(t=i.pop());)if(n.push(t),(a=t.children)&&(r=a.length))for(var r,a,s=-1;++s<r;)i.push(a[s]);for(;null!=(t=n.pop());)e(t)}function er(t){return t.children}function ir(t){return t.value;
}function nr(t,e){return e.value-t.value}function rr(t){return es.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ar(t){return t.x}function sr(t){return t.y}function or(t,e,i){t.y0=e,t.y=i}function lr(t){return es.range(t.length)}function dr(t){for(var e=-1,i=t[0].length,n=[];++e<i;)n[e]=0;return n}function cr(t){for(var e,i=1,n=0,r=t[0][1],a=t.length;a>i;++i)(e=t[i][1])>r&&(n=i,r=e);return n}function ur(t){return t.reduce(hr,0)}function hr(t,e){return t+e[1]}function pr(t,e){return fr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function fr(t,e){for(var i=-1,n=+t[0],r=(t[1]-n)/e,a=[];++i<=e;)a[i]=r*i+n;return a}function mr(t){return[es.min(t),es.max(t)]}function gr(t,e){return t.value-e.value}function vr(t,e){var i=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=i,i._pack_prev=e}function yr(t,e){t._pack_next=e,e._pack_prev=t}function Ar(t,e){var i=e.x-t.x,n=e.y-t.y,r=t.r+e.r;return.999*r*r>i*i+n*n}function Nr(t){function e(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),h=Math.min(t.y-t.r,h),p=Math.max(t.y+t.r,p)}if((i=t.children)&&(d=i.length)){var i,n,r,a,s,o,l,d,c=1/0,u=-1/0,h=1/0,p=-1/0;if(i.forEach(Sr),n=i[0],n.x=-n.r,n.y=0,e(n),d>1&&(r=i[1],r.x=r.r,r.y=0,e(r),d>2))for(a=i[2],_r(n,r,a),e(a),vr(n,a),n._pack_prev=a,vr(a,r),r=n._pack_next,s=3;d>s;s++){_r(n,r,a=i[s]);var f=0,m=1,g=1;for(o=r._pack_next;o!==r;o=o._pack_next,m++)if(Ar(o,a)){f=1;break}if(1==f)for(l=n._pack_prev;l!==o._pack_prev&&!Ar(l,a);l=l._pack_prev,g++);f?(g>m||m==g&&r.r<n.r?yr(n,r=o):yr(n=l,r),s--):(vr(n,a),r=a,e(a))}var v=(c+u)/2,y=(h+p)/2,A=0;for(s=0;d>s;s++)a=i[s],a.x-=v,a.y-=y,A=Math.max(A,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=A,i.forEach($r)}}function Sr(t){t._pack_next=t._pack_prev=t}function $r(t){delete t._pack_next,delete t._pack_prev}function br(t,e,i,n){var r=t.children;if(t.x=e+=n*t.x,t.y=i+=n*t.y,t.r*=n,r)for(var a=-1,s=r.length;++a<s;)br(r[a],e,i,n)}function _r(t,e,i){var n=t.r+i.r,r=e.x-t.x,a=e.y-t.y;if(n&&(r||a)){var s=e.r+i.r,o=r*r+a*a;s*=s,n*=n;var l=.5+(n-s)/(2*o),d=Math.sqrt(Math.max(0,2*s*(n+o)-(n-=o)*n-s*s))/(2*o);i.x=t.x+l*r+d*a,i.y=t.y+l*a-d*r}else i.x=t.x+n,i.y=t.y}function wr(t,e){return t.parent==e.parent?1:2}function xr(t){var e=t.children;return e.length?e[0]:t.t}function Cr(t){var e,i=t.children;return(e=i.length)?i[e-1]:t.t}function Pr(t,e,i){var n=i/(e.i-t.i);e.c-=n,e.s+=i,t.c+=n,e.z+=i,e.m+=i}function kr(t){for(var e,i=0,n=0,r=t.children,a=r.length;--a>=0;)e=r[a],e.z+=i,e.m+=i,i+=e.s+(n+=e.c)}function Tr(t,e,i){return t.a.parent===e.parent?t.a:i}function Mr(t){return 1+es.max(t,function(t){return t.y})}function Er(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function jr(t){var e=t.children;return e&&e.length?jr(e[0]):t}function Fr(t){var e,i=t.children;return i&&(e=i.length)?Fr(i[e-1]):t}function Ir(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Br(t,e){var i=t.x+e[3],n=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return 0>r&&(i+=r/2,r=0),0>a&&(n+=a/2,a=0),{x:i,y:n,dx:r,dy:a}}function Rr(t){var e=t[0],i=t[t.length-1];return i>e?[e,i]:[i,e]}function Dr(t){return t.rangeExtent?t.rangeExtent():Rr(t.range())}function Or(t,e,i,n){var r=i(t[0],t[1]),a=n(e[0],e[1]);return function(t){return a(r(t))}}function Ur(t,e){var i,n=0,r=t.length-1,a=t[n],s=t[r];return a>s&&(i=n,n=r,r=i,i=a,a=s,s=i),t[n]=e.floor(a),t[r]=e.ceil(s),t}function Lr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:yl}function qr(t,e,i,n){var r=[],a=[],s=0,o=Math.min(t.length,e.length)-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=o;)r.push(i(t[s-1],t[s])),a.push(n(e[s-1],e[s]));return function(e){var i=es.bisect(t,e,1,o)-1;return a[i](r[i](e))}}function zr(t,e,i,n){function r(){var r=Math.min(t.length,e.length)>2?qr:Or,l=n?zn:qn;return s=r(t,e,l,i),o=r(e,t,l,yn),a}function a(t){return s(t)}var s,o;return a.invert=function(t){return o(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.rangeRound=function(t){return a.range(t).interpolate(Bn)},a.clamp=function(t){return arguments.length?(n=t,r()):n},a.interpolate=function(t){return arguments.length?(i=t,r()):i},a.ticks=function(e){return Gr(t,e)},a.tickFormat=function(e,i){return Kr(t,e,i)},a.nice=function(e){return Vr(t,e),r()},a.copy=function(){return zr(t,e,i,n)},r()}function Hr(t,e){return es.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Vr(t,e){return Ur(t,Lr(Wr(t,e)[2]))}function Wr(t,e){null==e&&(e=10);var i=Rr(t),n=i[1]-i[0],r=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),a=e/n*r;return.15>=a?r*=10:.35>=a?r*=5:.75>=a&&(r*=2),i[0]=Math.ceil(i[0]/r)*r,i[1]=Math.floor(i[1]/r)*r+.5*r,i[2]=r,i}function Gr(t,e){return es.range.apply(es,Wr(t,e))}function Kr(t,e,i){var n=Wr(t,e);if(i){var r=ao.exec(i);if(r.shift(),"s"===r[8]){var a=es.formatPrefix(Math.max(ps(n[0]),ps(n[1])));return r[7]||(r[7]="."+Yr(a.scale(n[2]))),r[8]="f",i=es.format(r.join("")),function(t){return i(a.scale(t))+a.symbol}}r[7]||(r[7]="."+Zr(r[8],n)),i=r.join("")}else i=",."+Yr(n[2])+"f";return es.format(i)}function Yr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Zr(t,e){var i=Yr(e[2]);return t in Al?Math.abs(i-Yr(Math.max(ps(e[0]),ps(e[1]))))+ +("e"!==t):i-2*("%"===t)}function Jr(t,e,i,n){function r(t){return(i?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return i?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(r(e))}return s.invert=function(e){return a(t.invert(e))},s.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((n=e.map(Number)).map(r)),s):n},s.base=function(i){return arguments.length?(e=+i,t.domain(n.map(r)),s):e},s.nice=function(){var e=Ur(n.map(r),i?Math:Sl);return t.domain(e),n=e.map(a),s},s.ticks=function(){var t=Rr(n),s=[],o=t[0],l=t[1],d=Math.floor(r(o)),c=Math.ceil(r(l)),u=e%1?2:e;if(isFinite(c-d)){if(i){for(;c>d;d++)for(var h=1;u>h;h++)s.push(a(d)*h);s.push(a(d))}else for(s.push(a(d));d++<c;)for(var h=u-1;h>0;h--)s.push(a(d)*h);for(d=0;s[d]<o;d++);for(c=s.length;s[c-1]>l;c--);s=s.slice(d,c)}return s},s.tickFormat=function(t,e){if(!arguments.length)return Nl;arguments.length<2?e=Nl:"function"!=typeof e&&(e=es.format(e));var n,o=Math.max(.1,t/s.ticks().length),l=i?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(t){return t/a(l(r(t)+n))<=o?e(t):""}},s.copy=function(){return Jr(t.copy(),e,i,n)},Hr(s,t)}function Xr(t,e,i){function n(e){return t(r(e))}var r=Qr(e),a=Qr(1/e);return n.invert=function(e){return a(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),n):i},n.ticks=function(t){return Gr(i,t)},n.tickFormat=function(t,e){return Kr(i,t,e)},n.nice=function(t){return n.domain(Vr(i,t))},n.exponent=function(s){return arguments.length?(r=Qr(e=s),a=Qr(1/e),t.domain(i.map(r)),n):e},n.copy=function(){return Xr(t.copy(),e,i)},Hr(n,t)}function Qr(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ta(t,e){function i(i){return a[((r.get(i)||("range"===e.t?r.set(i,t.push(i)):NaN))-1)%a.length]}function n(e,i){return es.range(t.length).map(function(t){return e+i*t})}var r,a,s;return i.domain=function(n){if(!arguments.length)return t;t=[],r=new d;for(var a,s=-1,o=n.length;++s<o;)r.has(a=n[s])||r.set(a,t.push(a));return i[e.t].apply(i,e.a)},i.range=function(t){return arguments.length?(a=t,s=0,e={t:"range",a:arguments},i):a},i.rangePoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],d=r[1],c=t.length<2?(l=(l+d)/2,0):(d-l)/(t.length-1+o);return a=n(l+c*o/2,c),s=0,e={t:"rangePoints",a:arguments},i},i.rangeRoundPoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],d=r[1],c=t.length<2?(l=d=Math.round((l+d)/2),0):(d-l)/(t.length-1+o)|0;return a=n(l+Math.round(c*o/2+(d-l-(t.length-1+o)*c)/2),c),s=0,e={t:"rangeRoundPoints",a:arguments},i},i.rangeBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var d=r[1]<r[0],c=r[d-0],u=r[1-d],h=(u-c)/(t.length-o+2*l);return a=n(c+h*l,h),d&&a.reverse(),s=h*(1-o),e={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var d=r[1]<r[0],c=r[d-0],u=r[1-d],h=Math.floor((u-c)/(t.length-o+2*l));return a=n(c+Math.round((u-c-(t.length-o)*h)/2),h),d&&a.reverse(),s=Math.round(h*(1-o)),e={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return s},i.rangeExtent=function(){return Rr(e.a[0])},i.copy=function(){return ta(t,e)},i.domain(t)}function ea(t,e){function a(){var i=0,n=e.length;for(o=[];++i<n;)o[i-1]=es.quantile(t,i/n);return s}function s(t){return isNaN(t=+t)?void 0:e[es.bisect(o,t)]}var o;return s.domain=function(e){return arguments.length?(t=e.map(n).filter(r).sort(i),a()):t},s.range=function(t){return arguments.length?(e=t,a()):e},s.quantiles=function(){return o},s.invertExtent=function(i){return i=e.indexOf(i),0>i?[NaN,NaN]:[i>0?o[i-1]:t[0],i<o.length?o[i]:t[t.length-1]]},s.copy=function(){return ea(t,e)},a()}function ia(t,e,i){function n(e){return i[Math.max(0,Math.min(s,Math.floor(a*(e-t))))]}function r(){return a=i.length/(e-t),s=i.length-1,n}var a,s;return n.domain=function(i){return arguments.length?(t=+i[0],e=+i[i.length-1],r()):[t,e]},n.range=function(t){return arguments.length?(i=t,r()):i},n.invertExtent=function(e){return e=i.indexOf(e),e=0>e?NaN:e/a+t,[e,e+1/a]},n.copy=function(){return ia(t,e,i)},r()}function na(t,e){function i(i){return i>=i?e[es.bisect(t,i)]:void 0}return i.domain=function(e){return arguments.length?(t=e,i):t},i.range=function(t){return arguments.length?(e=t,i):e},i.invertExtent=function(i){return i=e.indexOf(i),[t[i-1],t[i]]},i.copy=function(){return na(t,e)},i}function ra(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(t=i.map(e),e):t},e.ticks=function(e){return Gr(t,e)},e.tickFormat=function(e,i){return Kr(t,e,i)},e.copy=function(){return ra(t)},e}function aa(){return 0}function sa(t){return t.innerRadius}function oa(t){return t.outerRadius}function la(t){return t.startAngle}function da(t){return t.endAngle}function ca(t){return t&&t.padAngle}function ua(t,e,i,n){return(t-i)*e-(e-n)*t>0?0:1}function ha(t,e,i,n,r){var a=t[0]-e[0],s=t[1]-e[1],o=(r?n:-n)/Math.sqrt(a*a+s*s),l=o*s,d=-o*a,c=t[0]+l,u=t[1]+d,h=e[0]+l,p=e[1]+d,f=(c+h)/2,m=(u+p)/2,g=h-c,v=p-u,y=g*g+v*v,A=i-n,N=c*p-h*u,S=(0>v?-1:1)*Math.sqrt(A*A*y-N*N),$=(N*v-g*S)/y,b=(-N*g-v*S)/y,_=(N*v+g*S)/y,w=(-N*g+v*S)/y,x=$-f,C=b-m,P=_-f,k=w-m;return x*x+C*C>P*P+k*k&&($=_,b=w),[[$-l,b-d],[$*i/A,b*i/A]]}function pa(t){function e(e){function s(){d.push("M",a(t(c),o))}for(var l,d=[],c=[],u=-1,h=e.length,p=xt(i),f=xt(n);++u<h;)r.call(this,l=e[u],u)?c.push([+p.call(this,l,u),+f.call(this,l,u)]):c.length&&(s(),c=[]);return c.length&&s(),d.length?d.join(""):null}var i=Ci,n=Pi,r=Pe,a=fa,s=a.key,o=.7;return e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=Cl.get(t)||fa).key,e):s},e.tension=function(t){return arguments.length?(o=t,e):o},e}function fa(t){return t.join("L")}function ma(t){return fa(t)+"Z"}function ga(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("H",(n[0]+(n=t[e])[0])/2,"V",n[1]);return i>1&&r.push("H",n[0]),r.join("")}function va(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("V",(n=t[e])[1],"H",n[0]);return r.join("")}function ya(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("H",(n=t[e])[0],"V",n[1]);return r.join("")}function Aa(t,e){return t.length<4?fa(t):t[1]+$a(t.slice(1,-1),ba(t,e))}function Na(t,e){return t.length<3?fa(t):t[0]+$a((t.push(t[0]),t),ba([t[t.length-2]].concat(t,[t[1]]),e))}function Sa(t,e){return t.length<3?fa(t):t[0]+$a(t,ba(t,e))}function $a(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return fa(t);var i=t.length!=e.length,n="",r=t[0],a=t[1],s=e[0],o=s,l=1;if(i&&(n+="Q"+(a[0]-2*s[0]/3)+","+(a[1]-2*s[1]/3)+","+a[0]+","+a[1],r=t[1],l=2),e.length>1){o=e[1],a=t[l],l++,n+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1];for(var d=2;d<e.length;d++,l++)a=t[l],o=e[d],n+="S"+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1]}if(i){var c=t[l];n+="Q"+(a[0]+2*o[0]/3)+","+(a[1]+2*o[1]/3)+","+c[0]+","+c[1]}return n}function ba(t,e){for(var i,n=[],r=(1-e)/2,a=t[0],s=t[1],o=1,l=t.length;++o<l;)i=a,a=s,s=t[o],n.push([r*(s[0]-i[0]),r*(s[1]-i[1])]);return n}function _a(t){if(t.length<3)return fa(t);var e=1,i=t.length,n=t[0],r=n[0],a=n[1],s=[r,r,r,(n=t[1])[0]],o=[a,a,a,n[1]],l=[r,",",a,"L",Pa(Tl,s),",",Pa(Tl,o)];for(t.push(t[i-1]);++e<=i;)n=t[e],s.shift(),s.push(n[0]),o.shift(),o.push(n[1]),ka(l,s,o);return t.pop(),l.push("L",n),l.join("")}function wa(t){if(t.length<4)return fa(t);for(var e,i=[],n=-1,r=t.length,a=[0],s=[0];++n<3;)e=t[n],a.push(e[0]),s.push(e[1]);for(i.push(Pa(Tl,a)+","+Pa(Tl,s)),--n;++n<r;)e=t[n],a.shift(),a.push(e[0]),s.shift(),s.push(e[1]),ka(i,a,s);return i.join("")}function xa(t){for(var e,i,n=-1,r=t.length,a=r+4,s=[],o=[];++n<4;)i=t[n%r],s.push(i[0]),o.push(i[1]);for(e=[Pa(Tl,s),",",Pa(Tl,o)],--n;++n<a;)i=t[n%r],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),ka(e,s,o);return e.join("")}function Ca(t,e){var i=t.length-1;if(i)for(var n,r,a=t[0][0],s=t[0][1],o=t[i][0]-a,l=t[i][1]-s,d=-1;++d<=i;)n=t[d],r=d/i,n[0]=e*n[0]+(1-e)*(a+r*o),n[1]=e*n[1]+(1-e)*(s+r*l);return _a(t)}function Pa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function ka(t,e,i){t.push("C",Pa(Pl,e),",",Pa(Pl,i),",",Pa(kl,e),",",Pa(kl,i),",",Pa(Tl,e),",",Pa(Tl,i))}function Ta(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ma(t){for(var e=0,i=t.length-1,n=[],r=t[0],a=t[1],s=n[0]=Ta(r,a);++e<i;)n[e]=(s+(s=Ta(r=a,a=t[e+1])))/2;return n[e]=s,n}function Ea(t){for(var e,i,n,r,a=[],s=Ma(t),o=-1,l=t.length-1;++o<l;)e=Ta(t[o],t[o+1]),ps(e)<ks?s[o]=s[o+1]=0:(i=s[o]/e,n=s[o+1]/e,r=i*i+n*n,r>9&&(r=3*e/Math.sqrt(r),s[o]=r*i,s[o+1]=r*n));for(o=-1;++o<=l;)r=(t[Math.min(l,o+1)][0]-t[Math.max(0,o-1)][0])/(6*(1+s[o]*s[o])),a.push([r||0,s[o]*r||0]);return a}function ja(t){return t.length<3?fa(t):t[0]+$a(t,Ea(t))}function Fa(t){for(var e,i,n,r=-1,a=t.length;++r<a;)e=t[r],i=e[0],n=e[1]-Fs,e[0]=i*Math.cos(n),e[1]=i*Math.sin(n);return t}function Ia(t){function e(e){function l(){m.push("M",o(t(v),u),c,d(t(g.reverse()),u),"Z")}for(var h,p,f,m=[],g=[],v=[],y=-1,A=e.length,N=xt(i),S=xt(r),$=i===n?function(){return p}:xt(n),b=r===a?function(){return f}:xt(a);++y<A;)s.call(this,h=e[y],y)?(g.push([p=+N.call(this,h,y),f=+S.call(this,h,y)]),v.push([+$.call(this,h,y),+b.call(this,h,y)])):g.length&&(l(),g=[],v=[]);return g.length&&l(),m.length?m.join(""):null}var i=Ci,n=Ci,r=0,a=Pi,s=Pe,o=fa,l=o.key,d=o,c="L",u=.7;return e.x=function(t){return arguments.length?(i=n=t,e):n},e.x0=function(t){return arguments.length?(i=t,e):i},e.x1=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=a=t,e):a},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?o=t:(o=Cl.get(t)||fa).key,d=o.reverse||o,c=o.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(u=t,e):u},e}function Ba(t){return t.radius}function Ra(t){return[t.x,t.y]}function Da(t){return function(){var e=t.apply(this,arguments),i=e[0],n=e[1]-Fs;return[i*Math.cos(n),i*Math.sin(n)]}}function Oa(){return 64}function Ua(){return"circle"}function La(t){var e=Math.sqrt(t/Ms);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function qa(t){return function(){var e,i;(e=this[t])&&(i=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function za(t,e,i){return ys(t,Rl),t.namespace=e,t.id=i,t}function Ha(t,e,i,n){var r=t.id,a=t.namespace;return z(t,"function"==typeof i?function(t,s,o){t[a][r].tween.set(e,n(i.call(t,t.__data__,s,o)))}:(i=n(i),function(t){t[a][r].tween.set(e,i)}))}function Va(t){return null==t&&(t=""),function(){this.textContent=t}}function Wa(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ga(t,e,i,n,r){var a=t[i]||(t[i]={active:0,count:0}),s=a[n];if(!s){var o=r.time;s=a[n]={tween:new d,time:o,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++a.count,es.timer(function(r){function l(i){if(a.active>n)return c();var r=a[a.active];r&&(--a.count,delete a[a.active],r.event&&r.event.interrupt.call(t,t.__data__,r.index)),a.active=n,s.event&&s.event.start.call(t,t.__data__,e),s.tween.forEach(function(i,n){(n=n.call(t,t.__data__,e))&&m.push(n)}),h=s.ease,u=s.duration,es.timer(function(){return f.c=d(i||1)?Pe:d,1},0,o)}function d(i){if(a.active!==n)return 1;for(var r=i/u,o=h(r),l=m.length;l>0;)m[--l].call(t,o);return r>=1?(s.event&&s.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--a.count?delete a[n]:delete t[i],1}var u,h,p=s.delay,f=io,m=[];return f.t=p+o,r>=p?l(r-p):void(f.c=l)},0,o)}}function Ka(t,e,i){t.attr("transform",function(t){var n=e(t);return"translate("+(isFinite(n)?n:i(t))+",0)"})}function Ya(t,e,i){t.attr("transform",function(t){var n=e(t);return"translate(0,"+(isFinite(n)?n:i(t))+")"})}function Za(t){return t.toISOString()}function Ja(t,e,i){function n(e){return t(e)}function r(t,i){var n=t[1]-t[0],r=n/i,a=es.bisect(Wl,r);return a==Wl.length?[e.year,Wr(t.map(function(t){return t/31536e6}),i)[2]]:a?e[r/Wl[a-1]<Wl[a]/r?a-1:a]:[Yl,Wr(t,i)[2]]}return n.invert=function(e){return Xa(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain().map(Xa)},n.nice=function(t,e){function i(i){return!isNaN(i)&&!t.range(i,Xa(+i+1),e).length}var a=n.domain(),s=Rr(a),o=null==t?r(s,10):"number"==typeof t&&r(s,t);return o&&(t=o[0],e=o[1]),n.domain(Ur(a,e>1?{floor:function(e){for(;i(e=t.floor(e));)e=Xa(e-1);return e},ceil:function(e){for(;i(e=t.ceil(e));)e=Xa(+e+1);return e}}:t))},n.ticks=function(t,e){var i=Rr(n.domain()),a=null==t?r(i,10):"number"==typeof t?r(i,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(i[0],Xa(+i[1]+1),1>e?1:e)},n.tickFormat=function(){return i},n.copy=function(){return Ja(t.copy(),e,i)},Hr(n,t)}function Xa(t){return new Date(t)}function Qa(t){return JSON.parse(t.responseText)}function ts(t){var e=rs.createRange();return e.selectNode(rs.body),e.createContextualFragment(t.responseText)}var es={version:"3.5.6"},is=[].slice,ns=function(t){return is.call(t)},rs=this.document;if(rs)try{ns(rs.documentElement.childNodes)[0].nodeType}catch(as){ns=function(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}}if(Date.now||(Date.now=function(){return+new Date}),rs)try{rs.createElement("DIV").style.setProperty("opacity",0,"")}catch(ss){var os=this.Element.prototype,ls=os.setAttribute,ds=os.setAttributeNS,cs=this.CSSStyleDeclaration.prototype,us=cs.setProperty;os.setAttribute=function(t,e){ls.call(this,t,e+"")},os.setAttributeNS=function(t,e,i){ds.call(this,t,e,i+"")},cs.setProperty=function(t,e,i){us.call(this,t,e+"",i)}}es.ascending=i,es.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},es.min=function(t,e){var i,n,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(n=t[r])&&n>=n){i=n;break}for(;++r<a;)null!=(n=t[r])&&i>n&&(i=n)}else{for(;++r<a;)if(null!=(n=e.call(t,t[r],r))&&n>=n){i=n;break}for(;++r<a;)null!=(n=e.call(t,t[r],r))&&i>n&&(i=n)}return i},es.max=function(t,e){var i,n,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(n=t[r])&&n>=n){i=n;break}for(;++r<a;)null!=(n=t[r])&&n>i&&(i=n)}else{for(;++r<a;)if(null!=(n=e.call(t,t[r],r))&&n>=n){i=n;break}for(;++r<a;)null!=(n=e.call(t,t[r],r))&&n>i&&(i=n)}return i},es.extent=function(t,e){var i,n,r,a=-1,s=t.length;if(1===arguments.length){for(;++a<s;)if(null!=(n=t[a])&&n>=n){i=r=n;break}for(;++a<s;)null!=(n=t[a])&&(i>n&&(i=n),n>r&&(r=n))}else{for(;++a<s;)if(null!=(n=e.call(t,t[a],a))&&n>=n){i=r=n;break}for(;++a<s;)null!=(n=e.call(t,t[a],a))&&(i>n&&(i=n),n>r&&(r=n))}return[i,r]},es.sum=function(t,e){var i,n=0,a=t.length,s=-1;if(1===arguments.length)for(;++s<a;)r(i=+t[s])&&(n+=i);else for(;++s<a;)r(i=+e.call(t,t[s],s))&&(n+=i);return n},es.mean=function(t,e){var i,a=0,s=t.length,o=-1,l=s;if(1===arguments.length)for(;++o<s;)r(i=n(t[o]))?a+=i:--l;else for(;++o<s;)r(i=n(e.call(t,t[o],o)))?a+=i:--l;return l?a/l:void 0},es.quantile=function(t,e){var i=(t.length-1)*e+1,n=Math.floor(i),r=+t[n-1],a=i-n;return a?r+a*(t[n]-r):r},es.median=function(t,e){var a,s=[],o=t.length,l=-1;if(1===arguments.length)for(;++l<o;)r(a=n(t[l]))&&s.push(a);else for(;++l<o;)r(a=n(e.call(t,t[l],l)))&&s.push(a);return s.length?es.quantile(s.sort(i),.5):void 0},es.variance=function(t,e){var i,a,s=t.length,o=0,l=0,d=-1,c=0;if(1===arguments.length)for(;++d<s;)r(i=n(t[d]))&&(a=i-o,o+=a/++c,l+=a*(i-o));else for(;++d<s;)r(i=n(e.call(t,t[d],d)))&&(a=i-o,o+=a/++c,l+=a*(i-o));return c>1?l/(c-1):void 0},es.deviation=function(){var t=es.variance.apply(this,arguments);return t?Math.sqrt(t):t};var hs=a(i);es.bisectLeft=hs.left,es.bisect=es.bisectRight=hs.right,es.bisector=function(t){return a(1===t.length?function(e,n){return i(t(e),n)}:t)},es.shuffle=function(t,e,i){(a=arguments.length)<3&&(i=t.length,2>a&&(e=0));for(var n,r,a=i-e;a;)r=Math.random()*a--|0,n=t[a+e],t[a+e]=t[r+e],t[r+e]=n;return t},es.permute=function(t,e){for(var i=e.length,n=new Array(i);i--;)n[i]=t[e[i]];return n},es.pairs=function(t){for(var e,i=0,n=t.length-1,r=t[0],a=new Array(0>n?0:n);n>i;)a[i]=[e=r,r=t[++i]];return a},es.zip=function(){if(!(n=arguments.length))return[];for(var t=-1,e=es.min(arguments,s),i=new Array(e);++t<e;)for(var n,r=-1,a=i[t]=new Array(n);++r<n;)a[r]=arguments[r][t];return i},es.transpose=function(t){return es.zip.apply(es,t)},es.keys=function(t){var e=[];for(var i in t)e.push(i);return e},es.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},es.entries=function(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e},es.merge=function(t){for(var e,i,n,r=t.length,a=-1,s=0;++a<r;)s+=t[a].length;for(i=new Array(s);--r>=0;)for(n=t[r],e=n.length;--e>=0;)i[--s]=n[e];return i};var ps=Math.abs;es.range=function(t,e,i){if(arguments.length<3&&(i=1,arguments.length<2&&(e=t,t=0)),(e-t)/i===1/0)throw new Error("infinite range");var n,r=[],a=o(ps(i)),s=-1;if(t*=a,e*=a,i*=a,0>i)for(;(n=t+i*++s)>e;)r.push(n/a);else for(;(n=t+i*++s)<e;)r.push(n/a);return r},es.map=function(t,e){var i=new d;if(t instanceof d)t.forEach(function(t,e){i.set(t,e)});else if(Array.isArray(t)){var n,r=-1,a=t.length;if(1===arguments.length)for(;++r<a;)i.set(r,t[r]);else for(;++r<a;)i.set(e.call(t,n=t[r],r),n)}else for(var s in t)i.set(s,t[s]);return i};var fs="__proto__",ms="\x00";l(d,{has:h,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:p,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:u(e),value:this._[e]});return t},size:m,empty:g,forEach:function(t){for(var e in this._)t.call(this,u(e),this._[e])}}),es.nest=function(){function t(e,s,o){if(o>=a.length)return n?n.call(r,s):i?s.sort(i):s;for(var l,c,u,h,p=-1,f=s.length,m=a[o++],g=new d;++p<f;)(h=g.get(l=m(c=s[p])))?h.push(c):g.set(l,[c]);return e?(c=e(),u=function(i,n){c.set(i,t(e,n,o))}):(c={},u=function(i,n){c[i]=t(e,n,o)}),g.forEach(u),c}function e(t,i){if(i>=a.length)return t;var n=[],r=s[i++];return t.forEach(function(t,r){n.push({key:t,values:e(r,i)})}),r?n.sort(function(t,e){return r(t.key,e.key)}):n}var i,n,r={},a=[],s=[];return r.map=function(e,i){return t(i,e,0)},r.entries=function(i){return e(t(es.map,i,0),0)},r.key=function(t){return a.push(t),r},r.sortKeys=function(t){return s[a.length-1]=t,r},r.sortValues=function(t){return i=t,r},r.rollup=function(t){return n=t,r},r},es.set=function(t){var e=new v;if(t)for(var i=0,n=t.length;n>i;++i)e.add(t[i]);return e},l(v,{has:h,add:function(t){return this._[c(t+="")]=!0,t},remove:p,values:f,size:m,empty:g,forEach:function(t){for(var e in this._)t.call(this,u(e))}}),es.behavior={},es.rebind=function(t,e){for(var i,n=1,r=arguments.length;++n<r;)t[i=arguments[n]]=A(t,e,e[i]);return t};var gs=["webkit","ms","moz","Moz","o","O"];es.dispatch=function(){for(var t=new $,e=-1,i=arguments.length;++e<i;)t[arguments[e]]=b(t);return t},$.prototype.on=function(t,e){var i=t.indexOf("."),n="";if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t)return arguments.length<2?this[t].on(n):this[t].on(n,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(n,null);return this}},es.event=null,es.requote=function(t){return t.replace(vs,"\\$&")};var vs=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ys={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)t[i]=e[i]},As=function(t,e){return e.querySelector(t)},Ns=function(t,e){return e.querySelectorAll(t)},Ss=function(t,e){var i=t.matches||t[N(t,"matchesSelector")];return(Ss=function(t,e){return i.call(t,e)})(t,e)};"function"==typeof Sizzle&&(As=function(t,e){return Sizzle(t,e)[0]||null},Ns=Sizzle,Ss=Sizzle.matchesSelector),es.selection=function(){return es.select(rs.documentElement)};var $s=es.selection.prototype=[];$s.select=function(t){var e,i,n,r,a=[];t=P(t);for(var s=-1,o=this.length;++s<o;){a.push(e=[]),e.parentNode=(n=this[s]).parentNode;for(var l=-1,d=n.length;++l<d;)(r=n[l])?(e.push(i=t.call(r,r.__data__,l,s)),i&&"__data__"in r&&(i.__data__=r.__data__)):e.push(null)}return C(a)},$s.selectAll=function(t){var e,i,n=[];t=k(t);for(var r=-1,a=this.length;++r<a;)for(var s=this[r],o=-1,l=s.length;++o<l;)(i=s[o])&&(n.push(e=ns(t.call(i,i.__data__,o,r))),e.parentNode=i);return C(n)};var bs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};es.ns={prefix:bs,qualify:function(t){var e=t.indexOf(":"),i=t;return e>=0&&(i=t.slice(0,e),t=t.slice(e+1)),bs.hasOwnProperty(i)?{space:bs[i],local:t}:t}},$s.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node();return t=es.ns.qualify(t),t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}for(e in t)this.each(T(e,t[e]));return this}return this.each(T(t,e))},$s.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node(),n=(t=j(t)).length,r=-1;if(e=i.classList){for(;++r<n;)if(!e.contains(t[r]))return!1}else for(e=i.getAttribute("class");++r<n;)if(!E(t[r]).test(e))return!1;return!0}for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},$s.style=function(t,i,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(i="");for(n in t)this.each(B(n,t[n],i));return this}if(2>r){var a=this.node();return e(a).getComputedStyle(a,null).getPropertyValue(t)}n=""}return this.each(B(t,i,n))},$s.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},$s.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},$s.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},$s.append=function(t){return t=D(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},$s.insert=function(t,e){return t=D(t),e=P(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},$s.remove=function(){return this.each(O)},$s.data=function(t,e){function i(t,i){var n,r,a,s=t.length,u=i.length,h=Math.min(s,u),p=new Array(u),f=new Array(u),m=new Array(s);if(e){var g,v=new d,y=new Array(s);for(n=-1;++n<s;)v.has(g=e.call(r=t[n],r.__data__,n))?m[n]=r:v.set(g,r),y[n]=g;for(n=-1;++n<u;)(r=v.get(g=e.call(i,a=i[n],n)))?r!==!0&&(p[n]=r,r.__data__=a):f[n]=U(a),v.set(g,!0);for(n=-1;++n<s;)v.get(y[n])!==!0&&(m[n]=t[n])}else{for(n=-1;++n<h;)r=t[n],a=i[n],r?(r.__data__=a,p[n]=r):f[n]=U(a);for(;u>n;++n)f[n]=U(i[n]);for(;s>n;++n)m[n]=t[n]}f.update=p,f.parentNode=p.parentNode=m.parentNode=t.parentNode,o.push(f),l.push(p),c.push(m)}var n,r,a=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(n=this[0]).length);++a<s;)(r=n[a])&&(t[a]=r.__data__);return t}var o=H([]),l=C([]),c=C([]);if("function"==typeof t)for(;++a<s;)i(n=this[a],t.call(n,n.parentNode.__data__,a));else for(;++a<s;)i(n=this[a],t);return l.enter=function(){return o},l.exit=function(){return c},l},$s.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},$s.filter=function(t){var e,i,n,r=[];"function"!=typeof t&&(t=L(t));for(var a=0,s=this.length;s>a;a++){r.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var o=0,l=i.length;l>o;o++)(n=i[o])&&t.call(n,n.__data__,o,a)&&e.push(n)}return C(r)},$s.order=function(){for(var t=-1,e=this.length;++t<e;)for(var i,n=this[t],r=n.length-1,a=n[r];--r>=0;)(i=n[r])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},$s.sort=function(t){t=q.apply(this,arguments);for(var e=-1,i=this.length;++e<i;)this[e].sort(t);return this.order()},$s.each=function(t){return z(this,function(e,i,n){t.call(e,e.__data__,i,n)})},$s.call=function(t){var e=ns(arguments);return t.apply(e[0]=this,e),this},$s.empty=function(){return!this.node()},$s.node=function(){for(var t=0,e=this.length;e>t;t++)for(var i=this[t],n=0,r=i.length;r>n;n++){var a=i[n];if(a)return a}return null},$s.size=function(){var t=0;return z(this,function(){++t}),t};var _s=[];es.selection.enter=H,es.selection.enter.prototype=_s,_s.append=$s.append,_s.empty=$s.empty,_s.node=$s.node,_s.call=$s.call,_s.size=$s.size,_s.select=function(t){for(var e,i,n,r,a,s=[],o=-1,l=this.length;++o<l;){n=(r=this[o]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var d=-1,c=r.length;++d<c;)(a=r[d])?(e.push(n[d]=i=t.call(r.parentNode,a.__data__,d,o)),i.__data__=a.__data__):e.push(null)}return C(s)},_s.insert=function(t,e){return arguments.length<2&&(e=V(this)),$s.insert.call(this,t,e)},es.select=function(e){var i;return"string"==typeof e?(i=[As(e,rs)],i.parentNode=rs.documentElement):(i=[e],i.parentNode=t(e)),C([i])},es.selectAll=function(t){var e;return"string"==typeof t?(e=ns(Ns(t,rs)),e.parentNode=rs.documentElement):(e=t,e.parentNode=null),C([e])},$s.on=function(t,e,i){var n=arguments.length;if(3>n){if("string"!=typeof t){2>n&&(e=!1);for(i in t)this.each(W(i,t[i],e));return this}if(2>n)return(n=this.node()["__on"+t])&&n._;i=!1}return this.each(W(t,e,i))};var ws=es.map({mouseenter:"mouseover",mouseleave:"mouseout"});rs&&ws.forEach(function(t){"on"+t in rs&&ws.remove(t)});var xs,Cs=0;es.mouse=function(t){return Z(t,w())};var Ps=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;es.touch=function(t,e,i){if(arguments.length<3&&(i=e,e=w().changedTouches),e)for(var n,r=0,a=e.length;a>r;++r)if((n=e[r]).identifier===i)return Z(t,n)},es.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",s)}function i(t,e,i,a,s){return function(){function o(){var t,i,n=e(h,m);n&&(t=n[0]-A[0],i=n[1]-A[1],f|=t|i,A=n,p({type:"drag",x:n[0]+d[0],y:n[1]+d[1],dx:t,dy:i}))}function l(){e(h,m)&&(v.on(a+g,null).on(s+g,null),y(f&&es.event.target===u),p({type:"dragend"}))}var d,c=this,u=es.event.target,h=c.parentNode,p=n.of(c,arguments),f=0,m=t(),g=".drag"+(null==m?"":"-"+m),v=es.select(i(u)).on(a+g,o).on(s+g,l),y=Y(u),A=e(h,m);r?(d=r.apply(c,arguments),d=[d.x-A[0],d.y-A[1]]):d=[0,0],p({type:"dragstart"})}}var n=x(t,"drag","dragstart","dragend"),r=null,a=i(S,es.mouse,e,"mousemove","mouseup"),s=i(J,es.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},es.rebind(t,n,"on")},es.touches=function(t,e){return arguments.length<2&&(e=w().touches),e?ns(e).map(function(e){var i=Z(t,e);return i.identifier=e.identifier,i}):[]};var ks=1e-6,Ts=ks*ks,Ms=Math.PI,Es=2*Ms,js=Es-ks,Fs=Ms/2,Is=Ms/180,Bs=180/Ms,Rs=Math.SQRT2,Ds=2,Os=4;es.interpolateZoom=function(t,e){function i(t){var e=t*y;if(v){var i=nt(m),s=a/(Ds*h)*(i*rt(Rs*e+m)-it(m));return[n+s*d,r+s*c,a*i/nt(Rs*e+m)]}return[n+t*d,r+t*c,a*Math.exp(Rs*e)]}var n=t[0],r=t[1],a=t[2],s=e[0],o=e[1],l=e[2],d=s-n,c=o-r,u=d*d+c*c,h=Math.sqrt(u),p=(l*l-a*a+Os*u)/(2*a*Ds*h),f=(l*l-a*a-Os*u)/(2*l*Ds*h),m=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(f*f+1)-f),v=g-m,y=(v||Math.log(l/a))/Rs;return i.duration=1e3*y,i},es.behavior.zoom=function(){function t(t){t.on(M,u).on(Ls+".zoom",p).on("dblclick.zoom",f).on(F,h)}function i(t){return[(t[0]-w.x)/w.k,(t[1]-w.y)/w.k];
}function n(t){return[t[0]*w.k+w.x,t[1]*w.k+w.y]}function r(t){w.k=Math.max(P[0],Math.min(P[1],t))}function a(t,e){e=n(e),w.x+=t[0]-e[0],w.y+=t[1]-e[1]}function s(e,i,n,s){e.__chart__={x:w.x,y:w.y,k:w.k},r(Math.pow(2,s)),a(g=i,n),e=es.select(e),k>0&&(e=e.transition().duration(k)),e.call(t.event)}function o(){S&&S.domain(N.range().map(function(t){return(t-w.x)/w.k}).map(N.invert)),b&&b.domain($.range().map(function(t){return(t-w.y)/w.k}).map($.invert))}function l(t){T++||t({type:"zoomstart"})}function d(t){o(),t({type:"zoom",scale:w.k,translate:[w.x,w.y]})}function c(t){--T||(t({type:"zoomend"}),g=null)}function u(){function t(){u=1,a(es.mouse(r),p),d(o)}function n(){h.on(E,null).on(j,null),f(u&&es.event.target===s),c(o)}var r=this,s=es.event.target,o=I.of(r,arguments),u=0,h=es.select(e(r)).on(E,t).on(j,n),p=i(es.mouse(r)),f=Y(r);Bl.call(r),l(o)}function h(){function t(){var t=es.touches(f);return p=w.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=i(t))}),t}function e(){var e=es.event.target;es.select(e).on(N,n).on(S,o),$.push(e);for(var i=es.event.changedTouches,r=0,a=i.length;a>r;++r)g[i[r].identifier]=null;var l=t(),d=Date.now();if(1===l.length){if(500>d-A){var c=l[0];s(f,c,g[c.identifier],Math.floor(Math.log(w.k)/Math.LN2)+1),_()}A=d}else if(l.length>1){var c=l[0],u=l[1],h=c[0]-u[0],p=c[1]-u[1];v=h*h+p*p}}function n(){var t,e,i,n,s=es.touches(f);Bl.call(f);for(var o=0,l=s.length;l>o;++o,n=null)if(i=s[o],n=g[i.identifier]){if(e)break;t=i,e=n}if(n){var c=(c=i[0]-t[0])*c+(c=i[1]-t[1])*c,u=v&&Math.sqrt(c/v);t=[(t[0]+i[0])/2,(t[1]+i[1])/2],e=[(e[0]+n[0])/2,(e[1]+n[1])/2],r(u*p)}A=null,a(t,e),d(m)}function o(){if(es.event.touches.length){for(var e=es.event.changedTouches,i=0,n=e.length;n>i;++i)delete g[e[i].identifier];for(var r in g)return void t()}es.selectAll($).on(y,null),b.on(M,u).on(F,h),x(),c(m)}var p,f=this,m=I.of(f,arguments),g={},v=0,y=".zoom-"+es.event.changedTouches[0].identifier,N="touchmove"+y,S="touchend"+y,$=[],b=es.select(f),x=Y(f);e(),l(m),b.on(M,null).on(F,e)}function p(){var t=I.of(this,arguments);y?clearTimeout(y):(Bl.call(this),m=i(g=v||es.mouse(this)),l(t)),y=setTimeout(function(){y=null,c(t)},50),_(),r(Math.pow(2,.002*Us())*w.k),a(g,m),d(t)}function f(){var t=es.mouse(this),e=Math.log(w.k)/Math.LN2;s(this,t,i(t),es.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var m,g,v,y,A,N,S,$,b,w={x:0,y:0,k:1},C=[960,500],P=qs,k=250,T=0,M="mousedown.zoom",E="mousemove.zoom",j="mouseup.zoom",F="touchstart.zoom",I=x(t,"zoomstart","zoom","zoomend");return Ls||(Ls="onwheel"in rs?(Us=function(){return-es.event.deltaY*(es.event.deltaMode?120:1)},"wheel"):"onmousewheel"in rs?(Us=function(){return es.event.wheelDelta},"mousewheel"):(Us=function(){return-es.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=I.of(this,arguments),e=w;Fl?es.select(this).transition().each("start.zoom",function(){w=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var i=C[0],n=C[1],r=g?g[0]:i/2,a=g?g[1]:n/2,s=es.interpolateZoom([(r-w.x)/w.k,(a-w.y)/w.k,i/w.k],[(r-e.x)/e.k,(a-e.y)/e.k,i/e.k]);return function(e){var n=s(e),o=i/n[2];this.__chart__=w={x:r-n[0]*o,y:a-n[1]*o,k:o},d(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=w,l(t),d(t),c(t))})},t.translate=function(e){return arguments.length?(w={x:+e[0],y:+e[1],k:w.k},o(),t):[w.x,w.y]},t.scale=function(e){return arguments.length?(w={x:w.x,y:w.y,k:+e},o(),t):w.k},t.scaleExtent=function(e){return arguments.length?(P=null==e?qs:[+e[0],+e[1]],t):P},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(C=e&&[+e[0],+e[1]],t):C},t.duration=function(e){return arguments.length?(k=+e,t):k},t.x=function(e){return arguments.length?(S=e,N=e.copy(),w={x:0,y:0,k:1},t):S},t.y=function(e){return arguments.length?(b=e,$=e.copy(),w={x:0,y:0,k:1},t):b},es.rebind(t,I,"on")};var Us,Ls,qs=[0,1/0];es.color=st,st.prototype.toString=function(){return this.rgb()+""},es.hsl=ot;var zs=ot.prototype=new st;zs.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ot(this.h,this.s,this.l/t)},zs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ot(this.h,this.s,t*this.l)},zs.rgb=function(){return lt(this.h,this.s,this.l)},es.hcl=dt;var Hs=dt.prototype=new st;Hs.brighter=function(t){return new dt(this.h,this.c,Math.min(100,this.l+Vs*(arguments.length?t:1)))},Hs.darker=function(t){return new dt(this.h,this.c,Math.max(0,this.l-Vs*(arguments.length?t:1)))},Hs.rgb=function(){return ct(this.h,this.c,this.l).rgb()},es.lab=ut;var Vs=18,Ws=.95047,Gs=1,Ks=1.08883,Ys=ut.prototype=new st;Ys.brighter=function(t){return new ut(Math.min(100,this.l+Vs*(arguments.length?t:1)),this.a,this.b)},Ys.darker=function(t){return new ut(Math.max(0,this.l-Vs*(arguments.length?t:1)),this.a,this.b)},Ys.rgb=function(){return ht(this.l,this.a,this.b)},es.rgb=vt;var Zs=vt.prototype=new st;Zs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,i=this.g,n=this.b,r=30;return e||i||n?(e&&r>e&&(e=r),i&&r>i&&(i=r),n&&r>n&&(n=r),new vt(Math.min(255,e/t),Math.min(255,i/t),Math.min(255,n/t))):new vt(r,r,r)},Zs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},Zs.hsl=function(){return $t(this.r,this.g,this.b)},Zs.toString=function(){return"#"+Nt(this.r)+Nt(this.g)+Nt(this.b)};var Js=es.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Js.forEach(function(t,e){Js.set(t,yt(e))}),es.functor=xt,es.xhr=Ct(y),es.dsv=function(t,e){function i(t,i,a){arguments.length<3&&(a=i,i=null);var s=Pt(t,e,null==i?n:r(i),a);return s.row=function(t){return arguments.length?s.response(null==(i=t)?n:r(t)):i},s}function n(t){return i.parse(t.responseText)}function r(t){return function(e){return i.parse(e.responseText,t)}}function a(e){return e.map(s).join(t)}function s(t){return o.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var o=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return i.parse=function(t,e){var n;return i.parseRows(t,function(t,i){if(n)return n(t,i-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,i){return e(r(t),i)}:r})},i.parseRows=function(t,e){function i(){if(c>=d)return s;if(r)return r=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var i=e;i++<d;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}c=i+2;var n=t.charCodeAt(i+1);return 13===n?(r=!0,10===t.charCodeAt(i+2)&&++c):10===n&&(r=!0),t.slice(e+1,i).replace(/""/g,'"')}for(;d>c;){var n=t.charCodeAt(c++),o=1;if(10===n)r=!0;else if(13===n)r=!0,10===t.charCodeAt(c)&&(++c,++o);else if(n!==l)continue;return t.slice(e,c-o)}return t.slice(e)}for(var n,r,a={},s={},o=[],d=t.length,c=0,u=0;(n=i())!==s;){for(var h=[];n!==a&&n!==s;)h.push(n),n=i();e&&null==(h=e(h,u++))||o.push(h)}return o},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new v,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(a).join("\n")},i},es.csv=es.dsv(",","text/csv"),es.tsv=es.dsv("	","text/tab-separated-values");var Xs,Qs,to,eo,io,no=this[N(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};es.timer=function(t,e,i){var n=arguments.length;2>n&&(e=0),3>n&&(i=Date.now());var r=i+e,a={c:t,t:r,f:!1,n:null};Qs?Qs.n=a:Xs=a,Qs=a,to||(eo=clearTimeout(eo),to=1,no(Mt))},es.timer.flush=function(){Et(),jt()},es.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ro=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(It);es.formatPrefix=function(t,e){var i=0;return t&&(0>t&&(t*=-1),e&&(t=es.round(t,Ft(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),ro[8+i/3]};var ao=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,so=es.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=es.round(t,Ft(t,e))).toFixed(Math.max(0,Math.min(20,Ft(t*(1+1e-15),e))))}}),oo=es.time={},lo=Date;Dt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){co.setUTCDate.apply(this._,arguments)},setDay:function(){co.setUTCDay.apply(this._,arguments)},setFullYear:function(){co.setUTCFullYear.apply(this._,arguments)},setHours:function(){co.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){co.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){co.setUTCMinutes.apply(this._,arguments)},setMonth:function(){co.setUTCMonth.apply(this._,arguments)},setSeconds:function(){co.setUTCSeconds.apply(this._,arguments)},setTime:function(){co.setTime.apply(this._,arguments)}};var co=Date.prototype;oo.year=Ot(function(t){return t=oo.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),oo.years=oo.year.range,oo.years.utc=oo.year.utc.range,oo.day=Ot(function(t){var e=new lo(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),oo.days=oo.day.range,oo.days.utc=oo.day.utc.range,oo.dayOfYear=function(t){var e=oo.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var i=oo[t]=Ot(function(t){return(t=oo.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var i=oo.year(t).getDay();return Math.floor((oo.dayOfYear(t)+(i+e)%7)/7)-(i!==e)});oo[t+"s"]=i.range,oo[t+"s"].utc=i.utc.range,oo[t+"OfYear"]=function(t){var i=oo.year(t).getDay();return Math.floor((oo.dayOfYear(t)+(i+e)%7)/7)}}),oo.week=oo.sunday,oo.weeks=oo.sunday.range,oo.weeks.utc=oo.sunday.utc.range,oo.weekOfYear=oo.sundayOfYear;var uo={"-":"",_:" ",0:"0"},ho=/^\s*\d+/,po=/^%/;es.locale=function(t){return{numberFormat:Bt(t),timeFormat:Lt(t)}};var fo=es.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});es.format=fo.numberFormat,es.geo={},le.prototype={s:0,t:0,add:function(t){de(t,this.t,mo),de(mo.s,this.s,this),this.s?this.t+=mo.t:this.s=mo.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var mo=new le;es.geo.stream=function(t,e){t&&go.hasOwnProperty(t.type)?go[t.type](t,e):ce(t,e)};var go={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)ce(i[n].geometry,e)}},vo={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){ue(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)ue(i[n],e,0)},Polygon:function(t,e){he(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)he(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)ce(i[n],e)}};es.geo.area=function(t){return yo=0,es.geo.stream(t,No),yo};var yo,Ao=new le,No={sphere:function(){yo+=4*Ms},point:S,lineStart:S,lineEnd:S,polygonStart:function(){Ao.reset(),No.lineStart=pe},polygonEnd:function(){var t=2*Ao;yo+=0>t?4*Ms+t:t,No.lineStart=No.lineEnd=No.point=S}};es.geo.bounds=function(){function t(t,e){A.push(N=[c=t,h=t]),u>e&&(u=e),e>p&&(p=e)}function e(e,i){var n=fe([e*Is,i*Is]);if(v){var r=ge(v,n),a=[r[1],-r[0],0],s=ge(a,r);Ae(s),s=Ne(s);var l=e-f,d=l>0?1:-1,m=s[0]*Bs*d,g=ps(l)>180;if(g^(m>d*f&&d*e>m)){var y=s[1]*Bs;y>p&&(p=y)}else if(m=(m+360)%360-180,g^(m>d*f&&d*e>m)){var y=-s[1]*Bs;u>y&&(u=y)}else u>i&&(u=i),i>p&&(p=i);g?f>e?o(c,e)>o(c,h)&&(h=e):o(e,h)>o(c,h)&&(c=e):h>=c?(c>e&&(c=e),e>h&&(h=e)):e>f?o(c,e)>o(c,h)&&(h=e):o(e,h)>o(c,h)&&(c=e)}else t(e,i);v=n,f=e}function i(){S.point=e}function n(){N[0]=c,N[1]=h,S.point=t,v=null}function r(t,i){if(v){var n=t-f;y+=ps(n)>180?n+(n>0?360:-360):n}else m=t,g=i;No.point(t,i),e(t,i)}function a(){No.lineStart()}function s(){r(m,g),No.lineEnd(),ps(y)>ks&&(c=-(h=180)),N[0]=c,N[1]=h,v=null}function o(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function d(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,u,h,p,f,m,g,v,y,A,N,S={point:t,lineStart:i,lineEnd:n,polygonStart:function(){S.point=r,S.lineStart=a,S.lineEnd=s,y=0,No.polygonStart()},polygonEnd:function(){No.polygonEnd(),S.point=t,S.lineStart=i,S.lineEnd=n,0>Ao?(c=-(h=180),u=-(p=90)):y>ks?p=90:-ks>y&&(u=-90),N[0]=c,N[1]=h}};return function(t){p=h=-(c=u=1/0),A=[],es.geo.stream(t,S);var e=A.length;if(e){A.sort(l);for(var i,n=1,r=A[0],a=[r];e>n;++n)i=A[n],d(i[0],r)||d(i[1],r)?(o(r[0],i[1])>o(r[0],r[1])&&(r[1]=i[1]),o(i[0],r[1])>o(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(var s,i,f=-1/0,e=a.length-1,n=0,r=a[e];e>=n;r=i,++n)i=a[n],(s=o(r[1],i[0]))>f&&(f=s,c=i[0],h=r[1])}return A=N=null,1/0===c||1/0===u?[[NaN,NaN],[NaN,NaN]]:[[c,u],[h,p]]}}(),es.geo.centroid=function(t){So=$o=bo=_o=wo=xo=Co=Po=ko=To=Mo=0,es.geo.stream(t,Eo);var e=ko,i=To,n=Mo,r=e*e+i*i+n*n;return Ts>r&&(e=xo,i=Co,n=Po,ks>$o&&(e=bo,i=_o,n=wo),r=e*e+i*i+n*n,Ts>r)?[NaN,NaN]:[Math.atan2(i,e)*Bs,et(n/Math.sqrt(r))*Bs]};var So,$o,bo,_o,wo,xo,Co,Po,ko,To,Mo,Eo={sphere:S,point:$e,lineStart:_e,lineEnd:we,polygonStart:function(){Eo.lineStart=xe},polygonEnd:function(){Eo.lineStart=_e}},jo=Ee(Pe,Be,De,[-Ms,-Ms/2]),Fo=1e9;es.geo.clipExtent=function(){var t,e,i,n,r,a,s={stream:function(t){return r&&(r.valid=!1),r=a(t),r.valid=!0,r},extent:function(o){return arguments.length?(a=qe(t=+o[0][0],e=+o[0][1],i=+o[1][0],n=+o[1][1]),r&&(r.valid=!1,r=null),s):[[t,e],[i,n]]}};return s.extent([[0,0],[960,500]])},(es.geo.conicEqualArea=function(){return ze(He)}).raw=He,es.geo.albers=function(){return es.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},es.geo.albersUsa=function(){function t(t){var a=t[0],s=t[1];return e=null,i(a,s),e||(n(a,s),e)||r(a,s),e}var e,i,n,r,a=es.geo.albers(),s=es.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=es.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,i){e=[t,i]}};return t.invert=function(t){var e=a.scale(),i=a.translate(),n=(t[0]-i[0])/e,r=(t[1]-i[1])/e;return(r>=.12&&.234>r&&n>=-.425&&-.214>n?s:r>=.166&&.234>r&&n>=-.214&&-.115>n?o:a).invert(t)},t.stream=function(t){var e=a.stream(t),i=s.stream(t),n=o.stream(t);return{point:function(t,r){e.point(t,r),i.point(t,r),n.point(t,r)},sphere:function(){e.sphere(),i.sphere(),n.sphere()},lineStart:function(){e.lineStart(),i.lineStart(),n.lineStart()},lineEnd:function(){e.lineEnd(),i.lineEnd(),n.lineEnd()},polygonStart:function(){e.polygonStart(),i.polygonStart(),n.polygonStart()},polygonEnd:function(){e.polygonEnd(),i.polygonEnd(),n.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),o.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),o.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var d=a.scale(),c=+e[0],u=+e[1];return i=a.translate(e).clipExtent([[c-.455*d,u-.238*d],[c+.455*d,u+.238*d]]).stream(l).point,n=s.translate([c-.307*d,u+.201*d]).clipExtent([[c-.425*d+ks,u+.12*d+ks],[c-.214*d-ks,u+.234*d-ks]]).stream(l).point,r=o.translate([c-.205*d,u+.212*d]).clipExtent([[c-.214*d+ks,u+.166*d+ks],[c-.115*d-ks,u+.234*d-ks]]).stream(l).point,t},t.scale(1070)};var Io,Bo,Ro,Do,Oo,Uo,Lo={point:S,lineStart:S,lineEnd:S,polygonStart:function(){Bo=0,Lo.lineStart=Ve},polygonEnd:function(){Lo.lineStart=Lo.lineEnd=Lo.point=S,Io+=ps(Bo/2)}},qo={point:We,lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S},zo={point:Ye,lineStart:Ze,lineEnd:Je,polygonStart:function(){zo.lineStart=Xe},polygonEnd:function(){zo.point=Ye,zo.lineStart=Ze,zo.lineEnd=Je}};es.geo.path=function(){function t(t){return t&&("function"==typeof o&&a.pointRadius(+o.apply(this,arguments)),s&&s.valid||(s=r(a)),es.geo.stream(t,s)),a.result()}function e(){return s=null,t}var i,n,r,a,s,o=4.5;return t.area=function(t){return Io=0,es.geo.stream(t,r(Lo)),Io},t.centroid=function(t){return bo=_o=wo=xo=Co=Po=ko=To=Mo=0,es.geo.stream(t,r(zo)),Mo?[ko/Mo,To/Mo]:Po?[xo/Po,Co/Po]:wo?[bo/wo,_o/wo]:[NaN,NaN]},t.bounds=function(t){return Oo=Uo=-(Ro=Do=1/0),es.geo.stream(t,r(qo)),[[Ro,Do],[Oo,Uo]]},t.projection=function(t){return arguments.length?(r=(i=t)?t.stream||ei(t):y,e()):i},t.context=function(t){return arguments.length?(a=null==(n=t)?new Ge:new Qe(t),"function"!=typeof o&&a.pointRadius(o),e()):n},t.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(a.pointRadius(+e),+e),t):o},t.projection(es.geo.albersUsa()).context(null)},es.geo.transform=function(t){return{stream:function(e){var i=new ii(e);for(var n in t)i[n]=t[n];return i}}},ii.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},es.geo.projection=ri,es.geo.projectionMutator=ai,(es.geo.equirectangular=function(){return ri(oi)}).raw=oi.invert=oi,es.geo.rotation=function(t){function e(e){return e=t(e[0]*Is,e[1]*Is),e[0]*=Bs,e[1]*=Bs,e}return t=di(t[0]%360*Is,t[1]*Is,t.length>2?t[2]*Is:0),e.invert=function(e){return e=t.invert(e[0]*Is,e[1]*Is),e[0]*=Bs,e[1]*=Bs,e},e},li.invert=oi,es.geo.circle=function(){function t(){var t="function"==typeof n?n.apply(this,arguments):n,e=di(-t[0]*Is,-t[1]*Is,0).invert,r=[];return i(null,null,1,{point:function(t,i){r.push(t=e(t,i)),t[0]*=Bs,t[1]*=Bs}}),{type:"Polygon",coordinates:[r]}}var e,i,n=[0,0],r=6;return t.origin=function(e){return arguments.length?(n=e,t):n},t.angle=function(n){return arguments.length?(i=pi((e=+n)*Is,r*Is),t):e},t.precision=function(n){return arguments.length?(i=pi(e*Is,(r=+n)*Is),t):r},t.angle(90)},es.geo.distance=function(t,e){var i,n=(e[0]-t[0])*Is,r=t[1]*Is,a=e[1]*Is,s=Math.sin(n),o=Math.cos(n),l=Math.sin(r),d=Math.cos(r),c=Math.sin(a),u=Math.cos(a);return Math.atan2(Math.sqrt((i=u*s)*i+(i=d*c-l*u*o)*i),l*c+d*u*o)},es.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return es.range(Math.ceil(a/g)*g,r,g).map(h).concat(es.range(Math.ceil(d/v)*v,l,v).map(p)).concat(es.range(Math.ceil(n/f)*f,i,f).filter(function(t){return ps(t%g)>ks}).map(c)).concat(es.range(Math.ceil(o/m)*m,s,m).filter(function(t){return ps(t%v)>ks}).map(u))}var i,n,r,a,s,o,l,d,c,u,h,p,f=10,m=f,g=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(a).concat(p(l).slice(1),h(r).reverse().slice(1),p(d).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],d=+e[0][1],l=+e[1][1],a>r&&(e=a,a=r,r=e),d>l&&(e=d,d=l,l=e),t.precision(y)):[[a,d],[r,l]]},t.minorExtent=function(e){return arguments.length?(n=+e[0][0],i=+e[1][0],o=+e[0][1],s=+e[1][1],n>i&&(e=n,n=i,i=e),o>s&&(e=o,o=s,s=e),t.precision(y)):[[n,o],[i,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){return arguments.length?(f=+e[0],m=+e[1],t):[f,m]},t.precision=function(e){return arguments.length?(y=+e,c=mi(o,s,90),u=gi(n,i,y),h=mi(d,l,90),p=gi(a,r,y),t):y},t.majorExtent([[-180,-90+ks],[180,90-ks]]).minorExtent([[-180,-80-ks],[180,80+ks]])},es.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),i||r.apply(this,arguments)]}}var e,i,n=vi,r=yi;return t.distance=function(){return es.geo.distance(e||n.apply(this,arguments),i||r.apply(this,arguments))},t.source=function(i){return arguments.length?(n=i,e="function"==typeof i?null:i,t):n},t.target=function(e){return arguments.length?(r=e,i="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},es.geo.interpolate=function(t,e){return Ai(t[0]*Is,t[1]*Is,e[0]*Is,e[1]*Is)},es.geo.length=function(t){return Ho=0,es.geo.stream(t,Vo),Ho};var Ho,Vo={sphere:S,point:S,lineStart:Ni,lineEnd:S,polygonStart:S,polygonEnd:S},Wo=Si(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(es.geo.azimuthalEqualArea=function(){return ri(Wo)}).raw=Wo;var Go=Si(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(es.geo.azimuthalEquidistant=function(){return ri(Go)}).raw=Go,(es.geo.conicConformal=function(){return ze($i)}).raw=$i,(es.geo.conicEquidistant=function(){return ze(bi)}).raw=bi;var Ko=Si(function(t){return 1/t},Math.atan);(es.geo.gnomonic=function(){return ri(Ko)}).raw=Ko,_i.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Fs]},(es.geo.mercator=function(){return wi(_i)}).raw=_i;var Yo=Si(function(){return 1},Math.asin);(es.geo.orthographic=function(){return ri(Yo)}).raw=Yo;var Zo=Si(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(es.geo.stereographic=function(){return ri(Zo)}).raw=Zo,xi.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Fs]},(es.geo.transverseMercator=function(){var t=wi(xi),e=t.center,i=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?i([t[0],t[1],t.length>2?t[2]+90:90]):(t=i(),[t[0],t[1],t[2]-90])},i([0,0,90])}).raw=xi,es.geom={},es.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=xt(i),a=xt(n),s=t.length,o=[],l=[];for(e=0;s>e;e++)o.push([+r.call(this,t[e],e),+a.call(this,t[e],e),e]);for(o.sort(Ti),e=0;s>e;e++)l.push([o[e][0],-o[e][1]]);var d=ki(o),c=ki(l),u=c[0]===d[0],h=c[c.length-1]===d[d.length-1],p=[];for(e=d.length-1;e>=0;--e)p.push(t[o[d[e]][2]]);for(e=+u;e<c.length-h;++e)p.push(t[o[c[e]][2]]);return p}var i=Ci,n=Pi;return arguments.length?e(t):(e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e)},es.geom.polygon=function(t){return ys(t,Jo),t};var Jo=es.geom.polygon.prototype=[];Jo.area=function(){for(var t,e=-1,i=this.length,n=this[i-1],r=0;++e<i;)t=n,n=this[e],r+=t[1]*n[0]-t[0]*n[1];return.5*r},Jo.centroid=function(t){var e,i,n=-1,r=this.length,a=0,s=0,o=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++n<r;)e=o,o=this[n],i=e[0]*o[1]-o[0]*e[1],a+=(e[0]+o[0])*i,s+=(e[1]+o[1])*i;return[a*t,s*t]},Jo.clip=function(t){for(var e,i,n,r,a,s,o=ji(t),l=-1,d=this.length-ji(this),c=this[d-1];++l<d;){for(e=t.slice(),t.length=0,r=this[l],a=e[(n=e.length-o)-1],i=-1;++i<n;)s=e[i],Mi(s,c,r)?(Mi(a,c,r)||t.push(Ei(a,s,c,r)),t.push(s)):Mi(a,c,r)&&t.push(Ei(a,s,c,r)),a=s;o&&t.push(t[0]),c=r}return t};var Xo,Qo,tl,el,il,nl=[],rl=[];Li.prototype.prepare=function(){for(var t,e=this.edges,i=e.length;i--;)t=e[i].edge,t.b&&t.a||e.splice(i,1);return e.sort(zi),e.length},Qi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},tn.prototype={insert:function(t,e){var i,n,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=an(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)n=i.U,i===n.L?(r=n.R,r&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.R&&(nn(this,i),t=i,i=t.U),i.C=!1,n.C=!0,rn(this,n))):(r=n.L,r&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.L&&(rn(this,i),t=i,i=t.U),i.C=!1,n.C=!0,nn(this,n))),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,i,n,r=t.U,a=t.L,s=t.R;if(i=a?s?an(s):a:s,r?r.L===t?r.L=i:r.R=i:this._=i,a&&s?(n=i.C,i.C=t.C,i.L=a,a.U=i,i!==s?(r=i.U,i.U=t.U,t=i.R,r.L=t,i.R=s,s.U=i):(i.U=r,r=i,t=i.R)):(n=t.C,t=i),t&&(t.U=r),!n){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,nn(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,rn(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,nn(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,rn(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,nn(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,rn(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},es.geom.voronoi=function(t){function e(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],a=o[1][0],s=o[1][1];return sn(i(t),o).cells.forEach(function(i,o){var l=i.edges,d=i.site,c=e[o]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):d.x>=n&&d.x<=a&&d.y>=r&&d.y<=s?[[n,s],[a,s],[a,r],[n,r]]:[];c.point=t[o]}),e}function i(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/ks)*ks,y:Math.round(s(t,e)/ks)*ks,i:e}})}var n=Ci,r=Pi,a=n,s=r,o=al;return t?e(t):(e.links=function(t){return sn(i(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return sn(i(t)).cells.forEach(function(i,n){for(var r,a,s=i.site,o=i.edges.sort(zi),l=-1,d=o.length,c=o[d-1].edge,u=c.l===s?c.r:c.l;++l<d;)r=c,a=u,c=o[l].edge,u=c.l===s?c.r:c.l,n<a.i&&n<u.i&&ln(s,a,u)<0&&e.push([t[n],t[a.i],t[u.i]])}),e},e.x=function(t){return arguments.length?(a=xt(n=t),e):n},e.y=function(t){return arguments.length?(s=xt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(o=null==t?al:t,e):o===al?null:o},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):o===al?null:o&&o[1]},e)};var al=[[-1e6,-1e6],[1e6,1e6]];es.geom.delaunay=function(t){return es.geom.voronoi().triangles(t)},es.geom.quadtree=function(t,e,i,n,r){function a(t){function a(t,e,i,n,r,a,s,o){if(!isNaN(i)&&!isNaN(n))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(ps(l-i)+ps(c-n)<.01)d(t,e,i,n,r,a,s,o);else{var u=t.point;t.x=t.y=t.point=null,d(t,u,l,c,r,a,s,o),d(t,e,i,n,r,a,s,o)}else t.x=i,t.y=n,t.point=e}else d(t,e,i,n,r,a,s,o)}function d(t,e,i,n,r,s,o,l){var d=.5*(r+o),c=.5*(s+l),u=i>=d,h=n>=c,p=h<<1|u;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=un()),u?r=d:o=d,h?s=c:l=c,a(t,e,i,n,r,s,o,l)}var c,u,h,p,f,m,g,v,y,A=xt(o),N=xt(l);if(null!=e)m=e,g=i,v=n,y=r;else if(v=y=-(m=g=1/0),u=[],h=[],f=t.length,s)for(p=0;f>p;++p)c=t[p],c.x<m&&(m=c.x),c.y<g&&(g=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),u.push(c.x),h.push(c.y);else for(p=0;f>p;++p){var S=+A(c=t[p],p),$=+N(c,p);m>S&&(m=S),g>$&&(g=$),S>v&&(v=S),$>y&&(y=$),u.push(S),h.push($)}var b=v-m,_=y-g;b>_?y=g+b:v=m+_;var w=un();if(w.add=function(t){a(w,t,+A(t,++p),+N(t,p),m,g,v,y)},w.visit=function(t){hn(t,w,m,g,v,y)},w.find=function(t){return pn(w,t[0],t[1],m,g,v,y)},p=-1,null==e){for(;++p<f;)a(w,t[p],u[p],h[p],m,g,v,y);--p}else t.forEach(w.add);return u=h=t=c=null,w}var s,o=Ci,l=Pi;return(s=arguments.length)?(o=dn,l=cn,3===s&&(r=i,n=e,i=e=0),a(t)):(a.x=function(t){return arguments.length?(o=t,a):o},a.y=function(t){return arguments.length?(l=t,a):l},a.extent=function(t){return arguments.length?(null==t?e=i=n=r=null:(e=+t[0][0],i=+t[0][1],n=+t[1][0],r=+t[1][1]),a):null==e?null:[[e,i],[n,r]]},a.size=function(t){return arguments.length?(null==t?e=i=n=r=null:(e=i=0,n=+t[0],r=+t[1]),a):null==e?null:[n-e,r-i]},a)},es.interpolateRgb=fn,es.interpolateObject=mn,es.interpolateNumber=gn,es.interpolateString=vn;var sl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ol=new RegExp(sl.source,"g");es.interpolate=yn,es.interpolators=[function(t,e){var i=typeof e;return("string"===i?Js.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?fn:vn:e instanceof st?fn:Array.isArray(e)?An:"object"===i&&isNaN(e)?mn:gn)(t,e)}],es.interpolateArray=An;var ll=function(){return y},dl=es.map({linear:ll,poly:xn,quad:function(){return bn},cubic:function(){return _n},sin:function(){return Cn},exp:function(){return Pn},circle:function(){return kn},elastic:Tn,back:Mn,bounce:function(){return En}}),cl=es.map({"in":y,out:Sn,"in-out":$n,"out-in":function(t){return $n(Sn(t))}});es.ease=function(t){var e=t.indexOf("-"),i=e>=0?t.slice(0,e):t,n=e>=0?t.slice(e+1):"in";return i=dl.get(i)||ll,n=cl.get(n)||y,Nn(n(i.apply(null,is.call(arguments,1))))},es.interpolateHcl=jn,es.interpolateHsl=Fn,es.interpolateLab=In,es.interpolateRound=Bn,es.transform=function(t){var e=rs.createElementNS(es.ns.prefix.svg,"g");return(es.transform=function(t){if(null!=t){e.setAttribute("transform",t);var i=e.transform.baseVal.consolidate()}return new Rn(i?i.matrix:ul)})(t)},Rn.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ul={a:1,b:0,c:0,d:1,e:0,f:0};es.interpolateTransform=Ln,es.layout={},es.layout.bundle=function(){return function(t){for(var e=[],i=-1,n=t.length;++i<n;)e.push(Hn(t[i]));return e}},es.layout.chord=function(){function t(){var t,d,u,h,p,f={},m=[],g=es.range(a),v=[];for(i=[],
n=[],t=0,h=-1;++h<a;){for(d=0,p=-1;++p<a;)d+=r[h][p];m.push(d),v.push(es.range(a)),t+=d}for(s&&g.sort(function(t,e){return s(m[t],m[e])}),o&&v.forEach(function(t,e){t.sort(function(t,i){return o(r[e][t],r[e][i])})}),t=(Es-c*a)/t,d=0,h=-1;++h<a;){for(u=d,p=-1;++p<a;){var y=g[h],A=v[y][p],N=r[y][A],S=d,$=d+=N*t;f[y+"-"+A]={index:y,subindex:A,startAngle:S,endAngle:$,value:N}}n[y]={index:y,startAngle:u,endAngle:d,value:(d-u)/t},d+=c}for(h=-1;++h<a;)for(p=h-1;++p<a;){var b=f[h+"-"+p],_=f[p+"-"+h];(b.value||_.value)&&i.push(b.value<_.value?{source:_,target:b}:{source:b,target:_})}l&&e()}function e(){i.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var i,n,r,a,s,o,l,d={},c=0;return d.matrix=function(t){return arguments.length?(a=(r=t)&&r.length,i=n=null,d):r},d.padding=function(t){return arguments.length?(c=t,i=n=null,d):c},d.sortGroups=function(t){return arguments.length?(s=t,i=n=null,d):s},d.sortSubgroups=function(t){return arguments.length?(o=t,i=null,d):o},d.sortChords=function(t){return arguments.length?(l=t,i&&e(),d):l},d.chords=function(){return i||t(),i},d.groups=function(){return n||t(),n},d},es.layout.force=function(){function t(t){return function(e,i,n,r){if(e.point!==t){var a=e.cx-t.x,s=e.cy-t.y,o=r-i,l=a*a+s*s;if(l>o*o/g){if(f>l){var d=e.charge/l;t.px-=a*d,t.py-=s*d}return!0}if(e.point&&l&&f>l){var d=e.pointCharge/l;t.px-=a*d,t.py-=s*d}}return!e.charge}}function e(t){t.px=es.event.x,t.py=es.event.y,o.resume()}var i,n,r,a,s,o={},l=es.dispatch("start","tick","end"),d=[1,1],c=.9,u=hl,h=pl,p=-30,f=fl,m=.1,g=.64,v=[],A=[];return o.tick=function(){if((n*=.99)<.005)return l.end({type:"end",alpha:n=0}),!0;var e,i,o,u,h,f,g,y,N,S=v.length,$=A.length;for(i=0;$>i;++i)o=A[i],u=o.source,h=o.target,y=h.x-u.x,N=h.y-u.y,(f=y*y+N*N)&&(f=n*a[i]*((f=Math.sqrt(f))-r[i])/f,y*=f,N*=f,h.x-=y*(g=u.weight/(h.weight+u.weight)),h.y-=N*g,u.x+=y*(g=1-g),u.y+=N*g);if((g=n*m)&&(y=d[0]/2,N=d[1]/2,i=-1,g))for(;++i<S;)o=v[i],o.x+=(y-o.x)*g,o.y+=(N-o.y)*g;if(p)for(Jn(e=es.geom.quadtree(v),n,s),i=-1;++i<S;)(o=v[i]).fixed||e.visit(t(o));for(i=-1;++i<S;)o=v[i],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*c,o.y-=(o.py-(o.py=o.y))*c);l.tick({type:"tick",alpha:n})},o.nodes=function(t){return arguments.length?(v=t,o):v},o.links=function(t){return arguments.length?(A=t,o):A},o.size=function(t){return arguments.length?(d=t,o):d},o.linkDistance=function(t){return arguments.length?(u="function"==typeof t?t:+t,o):u},o.distance=o.linkDistance,o.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,o):h},o.friction=function(t){return arguments.length?(c=+t,o):c},o.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,o):p},o.chargeDistance=function(t){return arguments.length?(f=t*t,o):Math.sqrt(f)},o.gravity=function(t){return arguments.length?(m=+t,o):m},o.theta=function(t){return arguments.length?(g=t*t,o):Math.sqrt(g)},o.alpha=function(t){return arguments.length?(t=+t,n?n=t>0?t:0:t>0&&(l.start({type:"start",alpha:n=t}),es.timer(o.tick)),o):n},o.start=function(){function t(t,n){if(!i){for(i=new Array(l),o=0;l>o;++o)i[o]=[];for(o=0;c>o;++o){var r=A[o];i[r.source.index].push(r.target),i[r.target.index].push(r.source)}}for(var a,s=i[e],o=-1,d=s.length;++o<d;)if(!isNaN(a=s[o][t]))return a;return Math.random()*n}var e,i,n,l=v.length,c=A.length,f=d[0],m=d[1];for(e=0;l>e;++e)(n=v[e]).index=e,n.weight=0;for(e=0;c>e;++e)n=A[e],"number"==typeof n.source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(e=0;l>e;++e)n=v[e],isNaN(n.x)&&(n.x=t("x",f)),isNaN(n.y)&&(n.y=t("y",m)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof u)for(e=0;c>e;++e)r[e]=+u.call(this,A[e],e);else for(e=0;c>e;++e)r[e]=u;if(a=[],"function"==typeof h)for(e=0;c>e;++e)a[e]=+h.call(this,A[e],e);else for(e=0;c>e;++e)a[e]=h;if(s=[],"function"==typeof p)for(e=0;l>e;++e)s[e]=+p.call(this,v[e],e);else for(e=0;l>e;++e)s[e]=p;return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){return i||(i=es.behavior.drag().origin(y).on("dragstart.force",Gn).on("drag.force",e).on("dragend.force",Kn)),arguments.length?void this.on("mouseover.force",Yn).on("mouseout.force",Zn).call(i):i},es.rebind(o,l,"on")};var hl=20,pl=1,fl=1/0;es.layout.hierarchy=function(){function t(r){var a,s=[r],o=[];for(r.depth=0;null!=(a=s.pop());)if(o.push(a),(d=i.call(t,a,a.depth))&&(l=d.length)){for(var l,d,c;--l>=0;)s.push(c=d[l]),c.parent=a,c.depth=a.depth+1;n&&(a.value=0),a.children=d}else n&&(a.value=+n.call(t,a,a.depth)||0),delete a.children;return tr(r,function(t){var i,r;e&&(i=t.children)&&i.sort(e),n&&(r=t.parent)&&(r.value+=t.value)}),o}var e=nr,i=er,n=ir;return t.sort=function(i){return arguments.length?(e=i,t):e},t.children=function(e){return arguments.length?(i=e,t):i},t.value=function(e){return arguments.length?(n=e,t):n},t.revalue=function(e){return n&&(Qn(e,function(t){t.children&&(t.value=0)}),tr(e,function(e){var i;e.children||(e.value=+n.call(t,e,e.depth)||0),(i=e.parent)&&(i.value+=e.value)})),e},t},es.layout.partition=function(){function t(e,i,n,r){var a=e.children;if(e.x=i,e.y=e.depth*r,e.dx=n,e.dy=r,a&&(s=a.length)){var s,o,l,d=-1;for(n=e.value?n/e.value:0;++d<s;)t(o=a[d],i,l=o.value*n,r),i+=l}}function e(t){var i=t.children,n=0;if(i&&(r=i.length))for(var r,a=-1;++a<r;)n=Math.max(n,e(i[a]));return 1+n}function i(i,a){var s=n.call(this,i,a);return t(s[0],0,r[0],r[1]/e(s[0])),s}var n=es.layout.hierarchy(),r=[1,1];return i.size=function(t){return arguments.length?(r=t,i):r},Xn(i,n)},es.layout.pie=function(){function t(s){var o,l=s.length,d=s.map(function(i,n){return+e.call(t,i,n)}),c=+("function"==typeof n?n.apply(this,arguments):n),u=("function"==typeof r?r.apply(this,arguments):r)-c,h=Math.min(Math.abs(u)/l,+("function"==typeof a?a.apply(this,arguments):a)),p=h*(0>u?-1:1),f=(u-l*p)/es.sum(d),m=es.range(l),g=[];return null!=i&&m.sort(i===ml?function(t,e){return d[e]-d[t]}:function(t,e){return i(s[t],s[e])}),m.forEach(function(t){g[t]={data:s[t],value:o=d[t],startAngle:c,endAngle:c+=o*f+p,padAngle:h}}),g}var e=Number,i=ml,n=0,r=Es,a=0;return t.value=function(i){return arguments.length?(e=i,t):e},t.sort=function(e){return arguments.length?(i=e,t):i},t.startAngle=function(e){return arguments.length?(n=e,t):n},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(a=e,t):a},t};var ml={};es.layout.stack=function(){function t(o,l){if(!(h=o.length))return o;var d=o.map(function(i,n){return e.call(t,i,n)}),c=d.map(function(e){return e.map(function(e,i){return[a.call(t,e,i),s.call(t,e,i)]})}),u=i.call(t,c,l);d=es.permute(d,u),c=es.permute(c,u);var h,p,f,m,g=n.call(t,c,l),v=d[0].length;for(f=0;v>f;++f)for(r.call(t,d[0][f],m=g[f],c[0][f][1]),p=1;h>p;++p)r.call(t,d[p][f],m+=c[p-1][f][1],c[p][f][1]);return o}var e=y,i=lr,n=dr,r=or,a=ar,s=sr;return t.values=function(i){return arguments.length?(e=i,t):e},t.order=function(e){return arguments.length?(i="function"==typeof e?e:gl.get(e)||lr,t):i},t.offset=function(e){return arguments.length?(n="function"==typeof e?e:vl.get(e)||dr,t):n},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(r=e,t):r},t};var gl=es.map({"inside-out":function(t){var e,i,n=t.length,r=t.map(cr),a=t.map(ur),s=es.range(n).sort(function(t,e){return r[t]-r[e]}),o=0,l=0,d=[],c=[];for(e=0;n>e;++e)i=s[e],l>o?(o+=a[i],d.push(i)):(l+=a[i],c.push(i));return c.reverse().concat(d)},reverse:function(t){return es.range(t.length).reverse()},"default":lr}),vl=es.map({silhouette:function(t){var e,i,n,r=t.length,a=t[0].length,s=[],o=0,l=[];for(i=0;a>i;++i){for(e=0,n=0;r>e;e++)n+=t[e][i][1];n>o&&(o=n),s.push(n)}for(i=0;a>i;++i)l[i]=(o-s[i])/2;return l},wiggle:function(t){var e,i,n,r,a,s,o,l,d,c=t.length,u=t[0],h=u.length,p=[];for(p[0]=l=d=0,i=1;h>i;++i){for(e=0,r=0;c>e;++e)r+=t[e][i][1];for(e=0,a=0,o=u[i][0]-u[i-1][0];c>e;++e){for(n=0,s=(t[e][i][1]-t[e][i-1][1])/(2*o);e>n;++n)s+=(t[n][i][1]-t[n][i-1][1])/o;a+=s*t[e][i][1]}p[i]=l-=r?a/r*o:0,d>l&&(d=l)}for(i=0;h>i;++i)p[i]-=d;return p},expand:function(t){var e,i,n,r=t.length,a=t[0].length,s=1/r,o=[];for(i=0;a>i;++i){for(e=0,n=0;r>e;e++)n+=t[e][i][1];if(n)for(e=0;r>e;e++)t[e][i][1]/=n;else for(e=0;r>e;e++)t[e][i][1]=s}for(i=0;a>i;++i)o[i]=0;return o},zero:dr});es.layout.histogram=function(){function t(t,a){for(var s,o,l=[],d=t.map(i,this),c=n.call(this,d,a),u=r.call(this,c,d,a),a=-1,h=d.length,p=u.length-1,f=e?1:1/h;++a<p;)s=l[a]=[],s.dx=u[a+1]-(s.x=u[a]),s.y=0;if(p>0)for(a=-1;++a<h;)o=d[a],o>=c[0]&&o<=c[1]&&(s=l[es.bisect(u,o,1,p)-1],s.y+=f,s.push(t[a]));return l}var e=!0,i=Number,n=mr,r=pr;return t.value=function(e){return arguments.length?(i=e,t):i},t.range=function(e){return arguments.length?(n=xt(e),t):n},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return fr(t,e)}:xt(e),t):r},t.frequency=function(i){return arguments.length?(e=!!i,t):e},t},es.layout.pack=function(){function t(t,a){var s=i.call(this,t,a),o=s[0],l=r[0],d=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(o.x=o.y=0,tr(o,function(t){t.r=+c(t.value)}),tr(o,Nr),n){var u=n*(e?1:Math.max(2*o.r/l,2*o.r/d))/2;tr(o,function(t){t.r+=u}),tr(o,Nr),tr(o,function(t){t.r-=u})}return br(o,l/2,d/2,e?1:1/Math.max(2*o.r/l,2*o.r/d)),s}var e,i=es.layout.hierarchy().sort(gr),n=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(i){return arguments.length?(e=null==i||"function"==typeof i?i:+i,t):e},t.padding=function(e){return arguments.length?(n=+e,t):n},Xn(t,i)},es.layout.tree=function(){function t(t,r){var c=s.call(this,t,r),u=c[0],h=e(u);if(tr(h,i),h.parent.m=-h.z,Qn(h,n),d)Qn(u,a);else{var p=u,f=u,m=u;Qn(u,function(t){t.x<p.x&&(p=t),t.x>f.x&&(f=t),t.depth>m.depth&&(m=t)});var g=o(p,f)/2-p.x,v=l[0]/(f.x+o(f,p)/2+g),y=l[1]/(m.depth||1);Qn(u,function(t){t.x=(t.x+g)*v,t.y=t.depth*y})}return c}function e(t){for(var e,i={A:null,children:[t]},n=[i];null!=(e=n.pop());)for(var r,a=e.children,s=0,o=a.length;o>s;++s)n.push((a[s]=r={_:a[s],parent:e,children:(r=a[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return i.children[0]}function i(t){var e=t.children,i=t.parent.children,n=t.i?i[t.i-1]:null;if(e.length){kr(t);var a=(e[0].z+e[e.length-1].z)/2;n?(t.z=n.z+o(t._,n._),t.m=t.z-a):t.z=a}else n&&(t.z=n.z+o(t._,n._));t.parent.A=r(t,n,t.parent.A||i[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,i){if(e){for(var n,r=t,a=t,s=e,l=r.parent.children[0],d=r.m,c=a.m,u=s.m,h=l.m;s=Cr(s),r=xr(r),s&&r;)l=xr(l),a=Cr(a),a.a=t,n=s.z+u-r.z-d+o(s._,r._),n>0&&(Pr(Tr(s,t,i),t,n),d+=n,c+=n),u+=s.m,d+=r.m,h+=l.m,c+=a.m;s&&!Cr(a)&&(a.t=s,a.m+=u-c),r&&!xr(l)&&(l.t=r,l.m+=d-h,i=t)}return i}function a(t){t.x*=l[0],t.y=t.depth*l[1]}var s=es.layout.hierarchy().sort(null).value(null),o=wr,l=[1,1],d=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(d=null==(l=e)?a:null,t):d?null:l},t.nodeSize=function(e){return arguments.length?(d=null==(l=e)?null:a,t):d?l:null},Xn(t,s)},es.layout.cluster=function(){function t(t,a){var s,o=e.call(this,t,a),l=o[0],d=0;tr(l,function(t){var e=t.children;e&&e.length?(t.x=Er(e),t.y=Mr(e)):(t.x=s?d+=i(t,s):0,t.y=0,s=t)});var c=jr(l),u=Fr(l),h=c.x-i(c,u)/2,p=u.x+i(u,c)/2;return tr(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-h)/(p-h)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),o}var e=es.layout.hierarchy().sort(null).value(null),i=wr,n=[1,1],r=!1;return t.separation=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(r=null==(n=e),t):r?null:n},t.nodeSize=function(e){return arguments.length?(r=null!=(n=e),t):r?n:null},Xn(t,e)},es.layout.treemap=function(){function t(t,e){for(var i,n,r=-1,a=t.length;++r<a;)n=(i=t[r]).value*(0>e?0:e),i.area=isNaN(n)||0>=n?0:n}function e(i){var a=i.children;if(a&&a.length){var s,o,l,d=u(i),c=[],h=a.slice(),f=1/0,m="slice"===p?d.dx:"dice"===p?d.dy:"slice-dice"===p?1&i.depth?d.dy:d.dx:Math.min(d.dx,d.dy);for(t(h,d.dx*d.dy/i.value),c.area=0;(l=h.length)>0;)c.push(s=h[l-1]),c.area+=s.area,"squarify"!==p||(o=n(c,m))<=f?(h.pop(),f=o):(c.area-=c.pop().area,r(c,m,d,!1),m=Math.min(d.dx,d.dy),c.length=c.area=0,f=1/0);c.length&&(r(c,m,d,!0),c.length=c.area=0),a.forEach(e)}}function i(e){var n=e.children;if(n&&n.length){var a,s=u(e),o=n.slice(),l=[];for(t(o,s.dx*s.dy/e.value),l.area=0;a=o.pop();)l.push(a),l.area+=a.area,null!=a.z&&(r(l,a.z?s.dx:s.dy,s,!o.length),l.length=l.area=0);n.forEach(i)}}function n(t,e){for(var i,n=t.area,r=0,a=1/0,s=-1,o=t.length;++s<o;)(i=t[s].area)&&(a>i&&(a=i),i>r&&(r=i));return n*=n,e*=e,n?Math.max(e*r*f/n,n/(e*a*f)):1/0}function r(t,e,i,n){var r,a=-1,s=t.length,o=i.x,d=i.y,c=e?l(t.area/e):0;if(e==i.dx){for((n||c>i.dy)&&(c=i.dy);++a<s;)r=t[a],r.x=o,r.y=d,r.dy=c,o+=r.dx=Math.min(i.x+i.dx-o,c?l(r.area/c):0);r.z=!0,r.dx+=i.x+i.dx-o,i.y+=c,i.dy-=c}else{for((n||c>i.dx)&&(c=i.dx);++a<s;)r=t[a],r.x=o,r.y=d,r.dx=c,d+=r.dy=Math.min(i.y+i.dy-d,c?l(r.area/c):0);r.z=!1,r.dy+=i.y+i.dy-d,i.x+=c,i.dx-=c}}function a(n){var r=s||o(n),a=r[0];return a.x=0,a.y=0,a.dx=d[0],a.dy=d[1],s&&o.revalue(a),t([a],a.dx*a.dy/a.value),(s?i:e)(a),h&&(s=r),r}var s,o=es.layout.hierarchy(),l=Math.round,d=[1,1],c=null,u=Ir,h=!1,p="squarify",f=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(d=t,a):d},a.padding=function(t){function e(e){var i=t.call(a,e,e.depth);return null==i?Ir(e):Br(e,"number"==typeof i?[i,i,i,i]:i)}function i(e){return Br(e,t)}if(!arguments.length)return c;var n;return u=null==(c=t)?Ir:"function"==(n=typeof t)?e:"number"===n?(t=[t,t,t,t],i):i,a},a.round=function(t){return arguments.length?(l=t?Math.round:Number,a):l!=Number},a.sticky=function(t){return arguments.length?(h=t,s=null,a):h},a.ratio=function(t){return arguments.length?(f=t,a):f},a.mode=function(t){return arguments.length?(p=t+"",a):p},Xn(a,o)},es.random={normal:function(t,e){var i=arguments.length;return 2>i&&(e=1),1>i&&(t=0),function(){var i,n,r;do i=2*Math.random()-1,n=2*Math.random()-1,r=i*i+n*n;while(!r||r>1);return t+e*i*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=es.random.normal.apply(es,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=es.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,i=0;t>i;i++)e+=Math.random();return e}}},es.scale={};var yl={floor:y,ceil:y};es.scale.linear=function(){return zr([0,1],[0,1],yn,!1)};var Al={s:1,g:1,p:1,r:1,e:1};es.scale.log=function(){return Jr(es.scale.linear().domain([0,1]),10,!0,[1,10])};var Nl=es.format(".0e"),Sl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};es.scale.pow=function(){return Xr(es.scale.linear(),1,[0,1])},es.scale.sqrt=function(){return es.scale.pow().exponent(.5)},es.scale.ordinal=function(){return ta([],{t:"range",a:[[]]})},es.scale.category10=function(){return es.scale.ordinal().range($l)},es.scale.category20=function(){return es.scale.ordinal().range(bl)},es.scale.category20b=function(){return es.scale.ordinal().range(_l)},es.scale.category20c=function(){return es.scale.ordinal().range(wl)};var $l=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(At),bl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(At),_l=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(At),wl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(At);es.scale.quantile=function(){return ea([],[])},es.scale.quantize=function(){return ia(0,1,[0,1])},es.scale.threshold=function(){return na([.5],[0,1])},es.scale.identity=function(){return ra([0,1])},es.svg={},es.svg.arc=function(){function t(){var t=Math.max(0,+i.apply(this,arguments)),d=Math.max(0,+n.apply(this,arguments)),c=s.apply(this,arguments)-Fs,u=o.apply(this,arguments)-Fs,h=Math.abs(u-c),p=c>u?0:1;if(t>d&&(f=d,d=t,t=f),h>=js)return e(d,p)+(t?e(t,1-p):"")+"Z";var f,m,g,v,y,A,N,S,$,b,_,w,x=0,C=0,P=[];if((v=(+l.apply(this,arguments)||0)/2)&&(g=a===xl?Math.sqrt(t*t+d*d):+a.apply(this,arguments),p||(C*=-1),d&&(C=et(g/d*Math.sin(v))),t&&(x=et(g/t*Math.sin(v)))),d){y=d*Math.cos(c+C),A=d*Math.sin(c+C),N=d*Math.cos(u-C),S=d*Math.sin(u-C);var k=Math.abs(u-c-2*C)<=Ms?0:1;if(C&&ua(y,A,N,S)===p^k){var T=(c+u)/2;y=d*Math.cos(T),A=d*Math.sin(T),N=S=null}}else y=A=0;if(t){$=t*Math.cos(u-x),b=t*Math.sin(u-x),_=t*Math.cos(c+x),w=t*Math.sin(c+x);var M=Math.abs(c-u+2*x)<=Ms?0:1;if(x&&ua($,b,_,w)===1-p^M){var E=(c+u)/2;$=t*Math.cos(E),b=t*Math.sin(E),_=w=null}}else $=b=0;if((f=Math.min(Math.abs(d-t)/2,+r.apply(this,arguments)))>.001){m=d>t^p?0:1;var j=null==_?[$,b]:null==N?[y,A]:Ei([y,A],[_,w],[N,S],[$,b]),F=y-j[0],I=A-j[1],B=N-j[0],R=S-j[1],D=1/Math.sin(Math.acos((F*B+I*R)/(Math.sqrt(F*F+I*I)*Math.sqrt(B*B+R*R)))/2),O=Math.sqrt(j[0]*j[0]+j[1]*j[1]);if(null!=N){var U=Math.min(f,(d-O)/(D+1)),L=ha(null==_?[$,b]:[_,w],[y,A],d,U,p),q=ha([N,S],[$,b],d,U,p);f===U?P.push("M",L[0],"A",U,",",U," 0 0,",m," ",L[1],"A",d,",",d," 0 ",1-p^ua(L[1][0],L[1][1],q[1][0],q[1][1]),",",p," ",q[1],"A",U,",",U," 0 0,",m," ",q[0]):P.push("M",L[0],"A",U,",",U," 0 1,",m," ",q[0])}else P.push("M",y,",",A);if(null!=_){var z=Math.min(f,(t-O)/(D-1)),H=ha([y,A],[_,w],t,-z,p),V=ha([$,b],null==N?[y,A]:[N,S],t,-z,p);f===z?P.push("L",V[0],"A",z,",",z," 0 0,",m," ",V[1],"A",t,",",t," 0 ",p^ua(V[1][0],V[1][1],H[1][0],H[1][1]),",",1-p," ",H[1],"A",z,",",z," 0 0,",m," ",H[0]):P.push("L",V[0],"A",z,",",z," 0 0,",m," ",H[0])}else P.push("L",$,",",b)}else P.push("M",y,",",A),null!=N&&P.push("A",d,",",d," 0 ",k,",",p," ",N,",",S),P.push("L",$,",",b),null!=_&&P.push("A",t,",",t," 0 ",M,",",1-p," ",_,",",w);return P.push("Z"),P.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var i=sa,n=oa,r=aa,a=xl,s=la,o=da,l=ca;return t.innerRadius=function(e){return arguments.length?(i=xt(e),t):i},t.outerRadius=function(e){return arguments.length?(n=xt(e),t):n},t.cornerRadius=function(e){return arguments.length?(r=xt(e),t):r},t.padRadius=function(e){return arguments.length?(a=e==xl?xl:xt(e),t):a},t.startAngle=function(e){return arguments.length?(s=xt(e),t):s},t.endAngle=function(e){return arguments.length?(o=xt(e),t):o},t.padAngle=function(e){return arguments.length?(l=xt(e),t):l},t.centroid=function(){var t=(+i.apply(this,arguments)+ +n.apply(this,arguments))/2,e=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-Fs;return[Math.cos(e)*t,Math.sin(e)*t]},t};var xl="auto";es.svg.line=function(){return pa(y)};var Cl=es.map({linear:fa,"linear-closed":ma,step:ga,"step-before":va,"step-after":ya,basis:_a,"basis-open":wa,"basis-closed":xa,bundle:Ca,cardinal:Sa,"cardinal-open":Aa,"cardinal-closed":Na,monotone:ja});Cl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Pl=[0,2/3,1/3,0],kl=[0,1/3,2/3,0],Tl=[0,1/6,2/3,1/6];es.svg.line.radial=function(){var t=pa(Fa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},va.reverse=ya,ya.reverse=va,es.svg.area=function(){return Ia(y)},es.svg.area.radial=function(){var t=Ia(Fa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},es.svg.chord=function(){function t(t,o){var l=e(this,a,t,o),d=e(this,s,t,o);return"M"+l.p0+n(l.r,l.p1,l.a1-l.a0)+(i(l,d)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,d.r,d.p0)+n(d.r,d.p1,d.a1-d.a0)+r(d.r,d.p1,l.r,l.p0))+"Z"}function e(t,e,i,n){var r=e.call(t,i,n),a=o.call(t,r,n),s=l.call(t,r,n)-Fs,c=d.call(t,r,n)-Fs;return{r:a,a0:s,a1:c,p0:[a*Math.cos(s),a*Math.sin(s)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function i(t,e){return t.a0==e.a0&&t.a1==e.a1}function n(t,e,i){return"A"+t+","+t+" 0 "+ +(i>Ms)+",1 "+e}function r(t,e,i,n){return"Q 0,0 "+n}var a=vi,s=yi,o=Ba,l=la,d=da;return t.radius=function(e){return arguments.length?(o=xt(e),t):o},t.source=function(e){return arguments.length?(a=xt(e),t):a},t.target=function(e){return arguments.length?(s=xt(e),t):s},t.startAngle=function(e){return arguments.length?(l=xt(e),t):l},t.endAngle=function(e){return arguments.length?(d=xt(e),t):d},t},es.svg.diagonal=function(){function t(t,r){var a=e.call(this,t,r),s=i.call(this,t,r),o=(a.y+s.y)/2,l=[a,{x:a.x,y:o},{x:s.x,y:o},s];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=vi,i=yi,n=Ra;return t.source=function(i){return arguments.length?(e=xt(i),t):e},t.target=function(e){return arguments.length?(i=xt(e),t):i},t.projection=function(e){return arguments.length?(n=e,t):n},t},es.svg.diagonal.radial=function(){var t=es.svg.diagonal(),e=Ra,i=t.projection;return t.projection=function(t){return arguments.length?i(Da(e=t)):e},t},es.svg.symbol=function(){function t(t,n){return(Ml.get(e.call(this,t,n))||La)(i.call(this,t,n))}var e=Ua,i=Oa;return t.type=function(i){return arguments.length?(e=xt(i),t):e},t.size=function(e){return arguments.length?(i=xt(e),t):i},t};var Ml=es.map({circle:La,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*jl)),i=e*jl;return"M0,"+-e+"L"+i+",0 0,"+e+" "+-i+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/El),i=e*El/2;return"M0,"+i+"L"+e+","+-i+" "+-e+","+-i+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/El),i=e*El/2;return"M0,"+-i+"L"+e+","+i+" "+-e+","+i+"Z"}});es.svg.symbolTypes=Ml.keys();var El=Math.sqrt(3),jl=Math.tan(30*Is);$s.transition=function(t){for(var e,i,n=Fl||++Dl,r=Wa(t),a=[],s=Il||{time:Date.now(),ease:wn,delay:0,duration:250},o=-1,l=this.length;++o<l;){a.push(e=[]);for(var d=this[o],c=-1,u=d.length;++c<u;)(i=d[c])&&Ga(i,c,r,n,s),e.push(i)}return za(a,r,n)},$s.interrupt=function(t){return this.each(null==t?Bl:qa(Wa(t)))};var Fl,Il,Bl=qa(Wa()),Rl=[],Dl=0;Rl.call=$s.call,Rl.empty=$s.empty,Rl.node=$s.node,Rl.size=$s.size,es.transition=function(t,e){return t&&t.transition?Fl?t.transition(e):t:es.selection().transition(t)},es.transition.prototype=Rl,Rl.select=function(t){var e,i,n,r=this.id,a=this.namespace,s=[];t=P(t);for(var o=-1,l=this.length;++o<l;){s.push(e=[]);for(var d=this[o],c=-1,u=d.length;++c<u;)(n=d[c])&&(i=t.call(n,n.__data__,c,o))?("__data__"in n&&(i.__data__=n.__data__),Ga(i,c,a,r,n[a][r]),e.push(i)):e.push(null)}return za(s,a,r)},Rl.selectAll=function(t){var e,i,n,r,a,s=this.id,o=this.namespace,l=[];t=k(t);for(var d=-1,c=this.length;++d<c;)for(var u=this[d],h=-1,p=u.length;++h<p;)if(n=u[h]){a=n[o][s],i=t.call(n,n.__data__,h,d),l.push(e=[]);for(var f=-1,m=i.length;++f<m;)(r=i[f])&&Ga(r,f,o,s,a),e.push(r)}return za(l,o,s)},Rl.filter=function(t){var e,i,n,r=[];"function"!=typeof t&&(t=L(t));for(var a=0,s=this.length;s>a;a++){r.push(e=[]);for(var i=this[a],o=0,l=i.length;l>o;o++)(n=i[o])&&t.call(n,n.__data__,o,a)&&e.push(n)}return za(r,this.namespace,this.id)},Rl.tween=function(t,e){var i=this.id,n=this.namespace;return arguments.length<2?this.node()[n][i].tween.get(t):z(this,null==e?function(e){e[n][i].tween.remove(t)}:function(r){r[n][i].tween.set(t,e)})},Rl.attr=function(t,e){function i(){this.removeAttribute(o)}function n(){this.removeAttributeNS(o.space,o.local)}function r(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(o);return i!==t&&(e=s(i,t),function(t){this.setAttribute(o,e(t))})})}function a(t){return null==t?n:(t+="",function(){var e,i=this.getAttributeNS(o.space,o.local);return i!==t&&(e=s(i,t),function(t){this.setAttributeNS(o.space,o.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?Ln:yn,o=es.ns.qualify(t);return Ha(this,"attr."+t,e,o.local?a:r)},Rl.attrTween=function(t,e){function i(t,i){var n=e.call(this,t,i,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}}function n(t,i){var n=e.call(this,t,i,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}var r=es.ns.qualify(t);return this.tween("attr."+t,r.local?n:i)},Rl.style=function(t,i,n){function r(){this.style.removeProperty(t)}function a(i){return null==i?r:(i+="",function(){var r,a=e(this).getComputedStyle(this,null).getPropertyValue(t);return a!==i&&(r=yn(a,i),function(e){this.style.setProperty(t,r(e),n)})})}var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(i="");for(n in t)this.style(n,t[n],i);return this}n=""}return Ha(this,"style."+t,i,a)},Rl.styleTween=function(t,i,n){function r(r,a){var s=i.call(this,r,a,e(this).getComputedStyle(this,null).getPropertyValue(t));return s&&function(e){this.style.setProperty(t,s(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Rl.text=function(t){return Ha(this,"text",t,Va)},Rl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Rl.ease=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].ease:("function"!=typeof t&&(t=es.ease.apply(es,arguments)),z(this,function(n){n[i][e].ease=t}))},Rl.delay=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].delay:z(this,"function"==typeof t?function(n,r,a){n[i][e].delay=+t.call(n,n.__data__,r,a)}:(t=+t,function(n){n[i][e].delay=t}))},Rl.duration=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].duration:z(this,"function"==typeof t?function(n,r,a){n[i][e].duration=Math.max(1,t.call(n,n.__data__,r,a))}:(t=Math.max(1,t),function(n){n[i][e].duration=t}))},Rl.each=function(t,e){var i=this.id,n=this.namespace;if(arguments.length<2){var r=Il,a=Fl;try{Fl=i,z(this,function(e,r,a){Il=e[n][i],t.call(e,e.__data__,r,a)})}finally{Il=r,Fl=a}}else z(this,function(r){var a=r[n][i];(a.event||(a.event=es.dispatch("start","end","interrupt"))).on(t,e)});return this},Rl.transition=function(){for(var t,e,i,n,r=this.id,a=++Dl,s=this.namespace,o=[],l=0,d=this.length;d>l;l++){o.push(t=[]);for(var e=this[l],c=0,u=e.length;u>c;c++)(i=e[c])&&(n=i[s][r],Ga(i,c,s,a,{time:n.time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration})),t.push(i)}return za(o,s,a)},es.svg.axis=function(){function t(t){t.each(function(){var t,d=es.select(this),c=this.__chart__||i,u=this.__chart__=i.copy(),h=null==l?u.ticks?u.ticks.apply(u,o):u.domain():l,p=null==e?u.tickFormat?u.tickFormat.apply(u,o):y:e,f=d.selectAll(".tick").data(h,u),m=f.enter().insert("g",".domain").attr("class","tick").style("opacity",ks),g=es.transition(f.exit()).style("opacity",ks).remove(),v=es.transition(f.order()).style("opacity",1),A=Math.max(r,0)+s,N=Dr(u),S=d.selectAll(".domain").data([0]),$=(S.enter().append("path").attr("class","domain"),es.transition(S));m.append("line"),m.append("text");var b,_,w,x,C=m.select("line"),P=v.select("line"),k=f.select("text").text(p),T=m.select("text"),M=v.select("text"),E="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(t=Ka,b="x",w="y",_="x2",x="y2",k.attr("dy",0>E?"0em":".71em").style("text-anchor","middle"),$.attr("d","M"+N[0]+","+E*a+"V0H"+N[1]+"V"+E*a)):(t=Ya,b="y",w="x",_="y2",x="x2",k.attr("dy",".32em").style("text-anchor",0>E?"end":"start"),$.attr("d","M"+E*a+","+N[0]+"H0V"+N[1]+"H"+E*a)),C.attr(x,E*r),T.attr(w,E*A),P.attr(_,0).attr(x,E*r),M.attr(b,0).attr(w,E*A),u.rangeBand){var j=u,F=j.rangeBand()/2;c=u=function(t){return j(t)+F}}else c.rangeBand?c=u:g.call(t,u,c);m.call(t,c,u),v.call(t,u,u)})}var e,i=es.scale.linear(),n=Ol,r=6,a=6,s=3,o=[10],l=null;return t.scale=function(e){return arguments.length?(i=e,t):i},t.orient=function(e){return arguments.length?(n=e in Ul?e+"":Ol,t):n},t.ticks=function(){return arguments.length?(o=arguments,t):o},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(i){return arguments.length?(e=i,t):e},t.tickSize=function(e){var i=arguments.length;return i?(r=+e,a=+arguments[i-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(){return arguments.length&&t},t};var Ol="bottom",Ul={top:1,right:1,bottom:1,left:1};es.svg.brush=function(){function t(e){e.each(function(){var e=es.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),s=e.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=e.selectAll(".resize").data(m,y);o.exit().remove(),o.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ll[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",t.empty()?"none":null);var l,u=es.transition(e),h=es.transition(s);d&&(l=Dr(d),h.attr("x",l[0]).attr("width",l[1]-l[0]),n(u)),c&&(l=Dr(c),h.attr("y",l[0]).attr("height",l[1]-l[0]),r(u)),i(u)})}function i(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+u[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",u[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function r(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function a(){function a(){32==es.event.keyCode&&(k||(A=null,M[0]-=u[1],M[1]-=h[1],k=2),_())}function m(){32==es.event.keyCode&&2==k&&(M[0]+=u[1],M[1]+=h[1],k=0,_())}function g(){var t=es.mouse(S),e=!1;N&&(t[0]+=N[0],t[1]+=N[1]),k||(es.event.altKey?(A||(A=[(u[0]+u[1])/2,(h[0]+h[1])/2]),M[0]=u[+(t[0]<A[0])],M[1]=h[+(t[1]<A[1])]):A=null),C&&v(t,d,0)&&(n(w),e=!0),P&&v(t,c,1)&&(r(w),e=!0),e&&(i(w),b({type:"brush",mode:k?"move":"resize"}))}function v(t,e,i){var n,r,a=Dr(e),l=a[0],d=a[1],c=M[i],m=i?h:u,g=m[1]-m[0];return k&&(l-=c,d-=g+c),n=(i?f:p)?Math.max(l,Math.min(d,t[i])):t[i],k?r=(n+=c)+g:(A&&(c=Math.max(l,Math.min(d,2*A[i]-n))),n>c?(r=n,n=c):r=c),m[0]!=n||m[1]!=r?(i?o=null:s=null,m[0]=n,m[1]=r,!0):void 0}function y(){g(),w.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),es.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),b({type:"brushend"})}var A,N,S=this,$=es.select(es.event.target),b=l.of(S,arguments),w=es.select(S),x=$.datum(),C=!/^(n|s)$/.test(x)&&d,P=!/^(e|w)$/.test(x)&&c,k=$.classed("extent"),T=Y(S),M=es.mouse(S),E=es.select(e(S)).on("keydown.brush",a).on("keyup.brush",m);if(es.event.changedTouches?E.on("touchmove.brush",g).on("touchend.brush",y):E.on("mousemove.brush",g).on("mouseup.brush",y),w.interrupt().selectAll("*").interrupt(),k)M[0]=u[0]-M[0],M[1]=h[0]-M[1];else if(x){var j=+/w$/.test(x),F=+/^n/.test(x);N=[u[1-j]-M[0],h[1-F]-M[1]],M[0]=u[j],M[1]=h[F]}else es.event.altKey&&(A=M.slice());w.style("pointer-events","none").selectAll(".resize").style("display",null),es.select("body").style("cursor",$.style("cursor")),b({type:"brushstart"}),g()}var s,o,l=x(t,"brushstart","brush","brushend"),d=null,c=null,u=[0,0],h=[0,0],p=!0,f=!0,m=ql[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:u,y:h,i:s,j:o},i=this.__chart__||e;this.__chart__=e,Fl?es.select(this).transition().each("start.brush",function(){s=i.i,o=i.j,u=i.x,h=i.y,t({type:"brushstart"})}).tween("brush:brush",function(){var i=An(u,e.x),n=An(h,e.y);return s=o=null,function(r){u=e.x=i(r),h=e.y=n(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=e.i,o=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(d=e,m=ql[!d<<1|!c],t):d},t.y=function(e){return arguments.length?(c=e,m=ql[!d<<1|!c],t):c},t.clamp=function(e){return arguments.length?(d&&c?(p=!!e[0],f=!!e[1]):d?p=!!e:c&&(f=!!e),t):d&&c?[p,f]:d?p:c?f:null},t.extent=function(e){var i,n,r,a,l;return arguments.length?(d&&(i=e[0],
n=e[1],c&&(i=i[0],n=n[0]),s=[i,n],d.invert&&(i=d(i),n=d(n)),i>n&&(l=i,i=n,n=l),(i!=u[0]||n!=u[1])&&(u=[i,n])),c&&(r=e[0],a=e[1],d&&(r=r[1],a=a[1]),o=[r,a],c.invert&&(r=c(r),a=c(a)),r>a&&(l=r,r=a,a=l),(r!=h[0]||a!=h[1])&&(h=[r,a])),t):(d&&(s?(i=s[0],n=s[1]):(i=u[0],n=u[1],d.invert&&(i=d.invert(i),n=d.invert(n)),i>n&&(l=i,i=n,n=l))),c&&(o?(r=o[0],a=o[1]):(r=h[0],a=h[1],c.invert&&(r=c.invert(r),a=c.invert(a)),r>a&&(l=r,r=a,a=l))),d&&c?[[i,r],[n,a]]:d?[i,n]:c&&[r,a])},t.clear=function(){return t.empty()||(u=[0,0],h=[0,0],s=o=null),t},t.empty=function(){return!!d&&u[0]==u[1]||!!c&&h[0]==h[1]},es.rebind(t,l,"on")};var Ll={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ql=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],zl=oo.format=fo.timeFormat,Hl=zl.utc,Vl=Hl("%Y-%m-%dT%H:%M:%S.%LZ");zl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Za:Vl,Za.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Za.toString=Vl.toString,oo.second=Ot(function(t){return new lo(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),oo.seconds=oo.second.range,oo.seconds.utc=oo.second.utc.range,oo.minute=Ot(function(t){return new lo(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),oo.minutes=oo.minute.range,oo.minutes.utc=oo.minute.utc.range,oo.hour=Ot(function(t){var e=t.getTimezoneOffset()/60;return new lo(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),oo.hours=oo.hour.range,oo.hours.utc=oo.hour.utc.range,oo.month=Ot(function(t){return t=oo.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),oo.months=oo.month.range,oo.months.utc=oo.month.utc.range;var Wl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Gl=[[oo.second,1],[oo.second,5],[oo.second,15],[oo.second,30],[oo.minute,1],[oo.minute,5],[oo.minute,15],[oo.minute,30],[oo.hour,1],[oo.hour,3],[oo.hour,6],[oo.hour,12],[oo.day,1],[oo.day,2],[oo.week,1],[oo.month,1],[oo.month,3],[oo.year,1]],Kl=zl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Pe]]),Yl={range:function(t,e,i){return es.range(Math.ceil(t/i)*i,+e,i).map(Xa)},floor:y,ceil:y};Gl.year=oo.year,oo.scale=function(){return Ja(es.scale.linear(),Gl,Kl)};var Zl=Gl.map(function(t){return[t[0].utc,t[1]]}),Jl=Hl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Pe]]);Zl.year=oo.year.utc,oo.scale.utc=function(){return Ja(es.scale.linear(),Zl,Jl)},es.text=Ct(function(t){return t.responseText}),es.json=function(t,e){return Pt(t,"application/json",Qa,e)},es.html=function(t,e){return Pt(t,"text/html",ts,e)},es.xml=Ct(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define("$vendor/d3.min",es):"object"==typeof module&&module.exports&&(module.exports=es),this.d3=es}(),define("$app/ui/shared/with_d3_formatter",["$vendor/d3.min"],function(){function t(){this.formatMoney=d3.format(",.2f"),this.moneyFormatter=function(t){return"$"+this.formatComma(t/100)}.bind(this),this.formatComma=d3.format(",f"),this.commaFormatter=function(t){return t%1==0?this.formatComma(t):""}.bind(this),this.formatPercent=d3.format(".2%"),this.percentFormatter=function(t){return this.formatPercent(t)}.bind(this)}return t}),define("$app/ui/product/with_payment_blurb",["$app/ui/shared/with_d3_formatter","$app/utils/checkout"],function(t,e){function i(){this.defaultAttrs({paymentBlurbSelector:".js-payment-blurb",effectivePriceSelector:".js-price",taxAmountTextSelector:".js-tax-amount",vatCountryIndicatorSelector:".js-vat-country-choice-trigger",vatCountryChoiceSelector:".js-vat-country-choice",vatCountryChoiceSelectSelector:".js-vat-country-select",paymentBlurbTaxSuppressed:!1,totalPriceCents:0}),this.flashPrice=function(){var t=this.select("paymentBlurbSelector").find(this.attr.effectivePriceSelector);t.addClass("highlighted"),setTimeout(function(){t.removeClass("highlighted")}.bind(this),1e3)},this.updatePrice=function(t){this.select("paymentBlurbSelector").find(this.attr.effectivePriceSelector).text(t)},this.updateTax=function(t){this.select("paymentBlurbSelector").find(this.attr.taxAmountTextSelector)&&(this.select("paymentBlurbSelector").find(this.attr.taxAmountTextSelector).text(t),this.attr.requireCountryConfirmation&&(this.select("paymentBlurbSelector").find(this.attr.vatCountryIndicatorSelector).text(this.attr.taxCountry),this.select("vatCountryChoiceSelectSelector").val(this.attr.taxCountry)))},this.selectDataPropertyFromBlurb=function(t){var e=$(".js-payment-blurb");return e.size()>1?$(e[1]).data(t):$(e[0]).data(t)},this.formattedMoney=function(t){var e=this.isWholeNumber(t)?0:2;return accounting.formatMoney(t,{precision:e})},this.setPaymentBlurb=function(t,e){return 0==t?this.hidePaymentBlurb():(parseFloat(e)?this.updateTax(this.formattedMoney(e)):this.updateTax(this.formattedMoney(0)),this.updatePrice(this.formattedMoney(t)),this.select("paymentBlurbSelector").show(),void this.trigger("uiAnimatePaymentFormHeight",{animate:!0}))},this.isWholeNumber=function(t){var e=t.toFixed(2);return!parseInt(e.substring(e.length-2,e.length))},this.hidePaymentBlurb=function(){this.select("paymentBlurbSelector").hide(),this.trigger("uiAnimatePaymentFormHeight",{animate:!0})},this.ForeignToUSD=function(t,e){return e?parseFloat(t)/e:t},this.cleanedPrice=function(t){return t%1==0?t:t.toFixed(2)},this.singleUnitRate=function(t){return t?1:100},this.toDisplayCurrency=function(t,e,i){var n=this.singleUnitRate(e),r=1;return i&&(r=parseFloat(i)),parseFloat(this.cleanedPrice(this.ForeignToUSD(parseFloat(t)/n,r)))},this.toDisplayCurrencyCents=function(t,e,i){return parseFloat(this.cleanedPrice(100*this.toDisplayCurrency(t,e,i)))},this.initiatePriceInformationUpdate=function(t){if(!e.isUsingCheckout())if(this.attr.productsInBundle)for(var i=0;i<this.attr.productsInBundle.length;i++){var n=this.attr.productsInBundle[i];this.trigger("uiNeedsProductCustomerSurcharge",{externalId:n.externalId,permalink:n.permalink,priceCents:n.perceivedPriceCents,quantity:n.quantity,sellerId:this.attr.sellerId,postalCode:n.isPhysical?this.select("zipCodeSelector").val():"",country:n.isPhysical?this.select("countrySelector").val():n.taxCountry,isPhysical:n.isPhysical,isTaxExclusive:n.isTaxedExclusively,isPartOfBundle:!0})}else this.attr.isPhysical=this.select("paymentBlurbSelector").data("is-physical"),this.trigger("uiNeedsProductCustomerSurcharge",{externalId:this.attr.externalId,priceCents:this.attr.totalPriceCents,sellerId:this.attr.sellerId,postalCode:this.attr.isPhysical?this.select("zipCodeSelector").val():"",country:this.attr.isPhysical?this.select("countrySelector").val():this.attr.taxCountry,isPhysical:this.attr.isPhysical,isTaxExclusive:this.attr.isTaxedExclusively,productNode:this.$node,quantity:this.attr.quantity})},this.updateCustomerSurcharge=function(t,e){var i,n=0,r=0,a=0,s=0,o=0,l=!1;if(this.attr.productsInBundle)n=this.totalBundlePrice()+this.totalBundleShippingRate(),r=this.totalBundleTax(),a=this.bundleExclusiveTax(),o=this.bundleExclusiveVat(),s=this.bundleVat(),l=this.productsWithExchangeRates(),i=this.bundleTaxCountry();else{var d=this.selectDataPropertyFromBlurb("exchange-rate"),c=this.attr.isSingleUnit;this.attr.productInfo=e,this.attr.productInfo.externalId=this.attr.externalId,this.attr.productInfo.quantity=this.attr.quantity,this.attr.productInfo.unitPrice=this.attr.unitPrice,n=this.toDisplayCurrency(parseInt(e.price_cents)+parseInt(e.shipping_rate_cents),c,d),r=this.toDisplayCurrency(parseInt(e.tax_cents),c,d),a=e.is_price_tax_exclusive&&e.tax_info&&!e.tax_info.is_vat?this.toDisplayCurrency(parseInt(e.tax_cents),c,d):0,l=1!=d,s=e.tax_info&&e.tax_info.is_vat?this.toDisplayCurrency(parseInt(e.tax_cents),c,d):0,o=e.is_price_tax_exclusive?s:0,i=e.tax_info&&e.tax_info.country}this.attr.requireCountryConfirmation=s>0,i&&(this.attr.taxCountry=i),n+=a+o;var u=Math.floor(100*n);this.attr.totalTransactionCents!=u&&(this.attr.totalTransactionCents=u,this.trigger(this.node,"uiTotalPriceCentsChanged")),s>0?(this.select("paymentBlurbSelector").html(I18n.t("js.card_will_be_charged_with_price_including_vat_tax")),this.setPaymentBlurb(n,s)):r>0?(this.select("paymentBlurbSelector").html(I18n.t("js.card_will_be_charged_with_price_including_sales_tax")),this.setPaymentBlurb(n)):l||this.select("paymentBlurbSelector").is(":visible")||this.attr.productsInBundle||this.attr.isPayWhatYouWant||this.attr.offerCodeUsed?this.setPaymentBlurb(n):this.hidePaymentBlurb(),this.flashPrice(),this.trigger("uiShouldEnablePayButton")},this.selectVatCountry=function(t,e){if(this.attr.taxCountry=this.select("vatCountryChoiceSelectSelector").val(),this.attr.productsInBundle)for(var i=0;i<this.attr.productsInBundle.length;i++)this.attr.productsInBundle[i].taxCountry=this.attr.taxCountry;this.select("vatCountryIndicatorSelector").text(this.attr.taxCountry),this.initiatePriceInformationUpdate(),this.hideVatCountrySelector()},this.toggleVatCountrySelector=function(t){t&&t.preventDefault();var e=this.select("vatCountryChoiceSelector"),i=this.select("vatCountryIndicatorSelector");return 1==i.length&&e.css({top:i.position().top-e.outerHeight()+35,left:i.position().left-e.outerWidth()/2+i.width()/2}).toggleClass("showing"),!1},this.hideVatCountrySelector=function(t,e){this.select("vatCountryChoiceSelector").removeClass("showing")},this.showNewVatCountryOptions=function(t,e){if(e.is_tax_mismatch){setTimeout(function(){this.toggleVatCountrySelector()}.bind(this),1e3),this.select("vatCountryChoiceSelectSelector").find("option").each(function(){-1==$.inArray(this.value,[e.card_country,e.ip_country])&&this.remove()});var i=this.select("vatCountryChoiceSelectSelector").find("option:first").val();this.select("vatCountryChoiceSelectSelector").val(i),this.attr.taxCountry=i,this.initiatePriceInformationUpdate()}},this.after("initialize",function(){this.on("click",{vatCountryIndicatorSelector:this.toggleVatCountrySelector}),this.on("change",{vatCountryChoiceSelectSelector:this.selectVatCountry}),this.on(this.$node,"dataCustomerSurcharge",this.updateCustomerSurcharge),this.on(this.$node,"uiNeedsCustomerSurcharge",this.initiatePriceInformationUpdate),this.on(document,"dataPurchaseFail",this.showNewVatCountryOptions),this.on(document,"uiNeedsToHideVatCountrySelector",this.hideVatCountrySelector)})}return i}),define("$app/ui/product/with_multi_buy",["$app/utils/currency_utils"],function(t){function e(){this.defaultAttrs({isMultiBuyEnabled:!1,completedBundle:!1}),this.isMultiBuyable=function(){return this.attr.isMultiBuyEnabled&&!this.attr.completedBundle&&!this.attr.singleProductMode},this.completedBundle=function(t){this.attr.completedBundle=!0},this.addSelfToBundle=function(){var t=this.select("priceRangeSelector");"undefined"!=typeof t.val()&&(this.attr.priceToAddToProductBundle=this.attr.totalPriceCents/(this.attr.isSingleUnit?1:100)),this.attr.priceToAddToProductBundle||this.setPrice();var e={permalink:this.attr.permalink,externalId:this.attr.externalId,name:this.attr.name,currency:this.select("priceSelector").data("currency"),isSingleUnit:this.attr.isSingleUnit,price:this.attr.priceToAddToProductBundle,isRentalModeActive:this.attr.isRentalModeActive,shippingRequired:this.attr.shippingInfoRequired,isRecurringBilling:this.attr.isRecurringBilling,hasOfferCodeField:this.attr.hasOfferCodeField&&!this.attr.offerCodeUsed,offerCodeName:this.attr.offerCodeName,offerCodeUsed:this.attr.offerCodeUsed,selectedPriceInfo:this.attr.selectedPriceInfo,serializedForm:this.getSerializedFormExcludingCreditCard(),originalPriceCents:parseInt(this.attr.priceToAddToProductBundle*(this.attr.isSingleUnit?1:100)),perceivedPriceCents:parseInt(this.attr.priceToAddToProductBundle*(this.attr.isSingleUnit?1:100)),exchangeRate:this.attr.exchangeRate,priceRange:t.val(),isPreorder:this.attr.isPreorder,isPhysical:this.attr.isPhysical,isTaxedExclusively:this.attr.isTaxedExclusively,sellerId:this.attr.sellerId,variants:[],customFields:this.attr.customFields,quantity:this.attr.quantity,formattedPrice:this.attr.priceToAddToProductBundle%1==0?this.attr.priceToAddToProductBundle:this.attr.priceToAddToProductBundle.toFixed(2),showQuantity:this.attr.quantity>1,wasProductRecommended:this.attr.wasProductRecommended,recommendedBy:this.attr.recommendedBy};$.each(this.select("variantSelector"),function(t,i){e.variants.push($(i).val())}),this.trigger("addProductToBundle",e);var i=this.select("productSelector");i.addClass("to-animate-to-bundle"),setTimeout(function(){var t=i.height(),n=i.width(),r=i.offset().left;i.addClass("animate-to-bundle").css({top:30-t/2,left:$(window).width()-160-n/2-r}),this.trigger("uiAddProductToBundledList",e),setTimeout(function(){this.trigger("uiNeedsToHideProductOverlay")}.bind(this),1e3)}.bind(this),10)},this.after("initialize",function(){this.on(document,"completedBundle",this.completedBundle),this.attr.singleProductMode=$(".js-product-display").data("single-product-mode")})}return e}),define("$app/ui/product/with_offer_code",[],function(){function t(){this.defaultAttrs({offerCodeSelector:".offer_code_name",offerCodeFieldSelector:".offer_code_field",offerCodePSelector:".js-offer-code-p"}),this.setOfferCode=function(){var t=this.select("offerCodeSelector");this.attr.offerCodeUsed&&(this.attr.user.product.offer_code.is_valid?t.val(decodeURIComponent(this.attr.offerCodeName)):(t.val(this.select("offerCodeFieldSelector").val()),this.trigger("uiShowFlashMessage",{message:this.attr.user.product.offer_code.error_message})),this.setPrice())},this.updateOfferCode=function(t,e){if(this.attr.productsInBundle&&e.success){for(var i=0;i<this.attr.productsInBundle.length;i++)if(this.attr.productsInBundle[i].permalink===e.permalink){var n=this.attr.productsInBundle[i].originalPriceCents;n-=e.is_percent?(n*(e.offer_code_amount/100)).toFixed():e.offer_code_amount*this.attr.productsInBundle[i].quantity,this.attr.productsInBundle[i].perceivedPriceCents=n,this.attr.productsInBundle[i].offerCodeName=e.name||this.attr.offerCodeName,this.attr.productsInBundle[i].hasOfferCodeField=!0}this.updateBundleButton()}else e.permalink==this.attr.permalink&&(this.attr.user.product.offer_code.is_valid=e.success,this.attr.user.product.offer_code.is_valid?(this.attr.user.product.offer_code.amount=e.offer_code_amount,this.attr.user.product.offer_code.is_percent=e.is_percent):(this.attr.user.product.offer_code.amount=0,this.trigger("uiShowFlashMessage",{message:e.error_message})),this.setPrice());this.trigger("uiShouldEnablePayButton")},this.removeLoadingIndicator=function(){this.select("offerCodeFieldSelector").removeClass("loading")},this.scheduleUpdateOfferCodeName=function(){0!=this.select("offerCodeFieldSelector").val().length?(this.select("offerCodeFieldSelector").addClass("loading"),this.trigger("uiShouldDisablePayButton")):this.removeLoadingIndicator(),this.delay(function(){this.attr.productsInBundle?this.updateOfferCodeNameForBundle():this.updateOfferCodeNameForProduct()}.bind(this),0)},this.updateOfferCodeNameForBundle=function(){this.setOfferCodeName(this.select("offerCodeFieldSelector").val()),this.delay(function(){if(this.attr.offerCodeUsed)for(var t=0;t<this.attr.productsInBundle.length;t++)this.trigger("uiNeedsToGetOfferCode",{offerCode:this.attr.offerCodeName,permalink:this.attr.productsInBundle[t].permalink})}.bind(this),2e3)},this.updateOfferCodeNameForProduct=function(){this.setOfferCodeName(this.select("offerCodeFieldSelector").val()),this.attr.offerCodeUsed||this.setPrice(),this.delay(function(){this.attr.offerCodeUsed&&this.trigger("uiNeedsToGetOfferCode",{offerCode:this.attr.offerCodeName,permalink:this.attr.permalink})}.bind(this),2e3)},this.setOfferCodeName=function(t){this.attr.usingSetOfferCode=!0,this.attr.offerCodeName=t,this.select("offerCodeSelector").val(this.attr.offerCodeName),this.attr.offerCodeUsed=!!this.attr.offerCodeName},this.delay=function(){var t=0;return function(e,i){clearTimeout(t),t=setTimeout(e,i)}}(),this.isOfferCodeApplicable=function(){return this.attr.offerCodeUsed&&this.attr.user.product.offer_code.is_valid},this.getOfferCodeNameFromUrl=function(){var t=location.pathname.match(/\/.*\/.*\/(.*)\//);return t||(t=location.pathname.match(/\/.*\/.*\/(.*)/)),t?t[1]:null},this.isUsingPresetOfferCode=function(){return!this.attr.usingSetOfferCode&&this.isOfferCodeApplicable()},this.after("initialize",function(){this.on(document,"dataOfferCode",this.updateOfferCode),this.on(document,"dataOfferCode",this.removeLoadingIndicator),this.on("keyup",{offerCodeFieldSelector:this.scheduleUpdateOfferCodeName}),this.on("paste",{offerCodeFieldSelector:this.scheduleUpdateOfferCodeName}),this.attr.offerCodeUsed&&this.select("offerCodePSelector").remove()})}return t}),define("$app/ui/product/with_price",["flight/lib/component"],function(){function t(){this.defaultAttrs({perceivedPriceCentsSelector:'input[name="perceived_price_cents"]'}),this.setPrice=function(){var t,e,i,n=0;this.attr.isRecurringBilling&&this.attr.selectedPriceInfo?(t=this.attr.selectedPriceInfo.price_cents/(this.attr.isSingleUnit?1:100),e=this.attr.selectedPriceInfo.price_cents):this.attr.isRentalModeActive?(t=this.attr.rentalPrice,e=this.attr.rentalPriceCents):(t=this.attr.price,e=this.attr.priceCents),$.each(this.attr.selectedPriceChanges,function(){this[0]&&(t+=this[0]),this[1]&&(e+=this[1])}),this.attr.isPayWhatYouWant&&(e=this.customizedPriceCents()),this.isOfferCodeApplicable()&&(n=t*this.attr.quantity,i=e,this.attr.user.product.offer_code.is_percent?(t-=(t*(this.attr.user.product.offer_code.amount/100)).toFixed(this.attr.isSingleUnit?0:2),i-=(e*(this.attr.user.product.offer_code.amount/100)).toFixed()):(t-=this.attr.user.product.offer_code.amount/(this.attr.isSingleUnit?1:100),i-=this.attr.user.product.offer_code.amount),this.isUsingPresetOfferCode()&&this.attr.isPayWhatYouWant||(e=i)),this.attr.unitPrice=Math.max(e,0),t=Math.max(t,0)*this.attr.quantity,e=Math.max(e,0)*(this.attr.isPayWhatYouWant?1:this.attr.quantity),this.attr.totalPrice=t,this.attr.totalPriceCents=e,this.attr.zeroPlusEnabled=0==this.attr.totalPrice&&this.attr.isPayWhatYouWant,this.setOldPrice(n),this.setPriceTag(t),!this.isMultiBuyable()||"undefined"!=typeof this.attr.priceToAddToProductBundle&&"undefined"!=typeof this.select("priceRangeSelector").val()||(this.attr.priceToAddToProductBundle=t),this.select("perceivedPriceCentsSelector").val(e),this.setPriceRange(t),this.setCreditCardFormVisibility(t),this.trigger("uiShouldDisablePayButton"),this.initiatePriceInformationUpdate(),this.attr.isRecurringBilling&&this.attr.selectedPriceInfo&&this.trigger("uiToUpdateChargeOccurrenceMessage",t)},this.evaluateCreditCardVisibilty=function(t){this.setCreditCardFormVisibility(this.attr.totalPriceCents)},this.setOldPrice=function(t){this.isOfferCodeApplicable()?this.showOldPrice(t):this.hideOldPrice()},this.after("initialize",function(){this.on(document,"uiNeedsToUpdatePriceDueToPurchaseModeChange",this.setPrice),this.on(document,"uiNeedsToEvaluateCreditCardFormVisibility",this.evaluateCreditCardVisibilty)})}return t}),define("$app/utils/with_social_share",[],function(){function t(){this.getTwitterShareUrl=function(t){return"https://twitter.com/intent/tweet?text="+encodeURI(t)}}return t}),function(t,e){t.fn.jPlayer=function(i){var n="string"==typeof i,r=Array.prototype.slice.call(arguments,1),a=this,i=!n&&r.length?t.extend.apply(null,[!0,i].concat(r)):i;return n&&"_"===i.charAt(0)?a:(n?this.each(function(){var n=t.data(this,"jPlayer"),s=n&&t.isFunction(n[i])?n[i].apply(n,r):n;return s!==n&&s!==e?(a=s,!1):void 0}):this.each(function(){var e=t.data(this,"jPlayer");e?e.option(i||{}):t.data(this,"jPlayer",new t.jPlayer(i,this))}),a)},t.jPlayer=function(e,i){if(arguments.length){this.element=t(i),this.options=t.extend(!0,{},this.options,e);var n=this;this.element.bind("remove.jPlayer",function(){n.destroy()}),this._init()}},t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={ready:"jPlayer_ready",flashreset:"jPlayer_flashreset",resize:"jPlayer_resize",repeat:"jPlayer_repeat",click:"jPlayer_click",error:"jPlayer_error",warning:"jPlayer_warning",loadstart:"jPlayer_loadstart",progress:"jPlayer_progress",suspend:"jPlayer_suspend",abort:"jPlayer_abort",emptied:"jPlayer_emptied",stalled:"jPlayer_stalled",play:"jPlayer_play",pause:"jPlayer_pause",loadedmetadata:"jPlayer_loadedmetadata",loadeddata:"jPlayer_loadeddata",waiting:"jPlayer_waiting",playing:"jPlayer_playing",canplay:"jPlayer_canplay",canplaythrough:"jPlayer_canplaythrough",seeking:"jPlayer_seeking",seeked:"jPlayer_seeked",timeupdate:"jPlayer_timeupdate",ended:"jPlayer_ended",ratechange:"jPlayer_ratechange",durationchange:"jPlayer_durationchange",volumechange:"jPlayer_volumechange"},t.jPlayer.htmlEvent="loadstart,abort,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,ratechange".split(","),t.jPlayer.pause=function(){t.each(t.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""},t.jPlayer.convertTime=function(e){var i=new Date(1e3*e),n=i.getUTCHours(),e=i.getUTCMinutes(),i=i.getUTCSeconds(),n=t.jPlayer.timeFormat.padHour&&10>n?"0"+n:n,e=t.jPlayer.timeFormat.padMin&&10>e?"0"+e:e,i=t.jPlayer.timeFormat.padSec&&10>i?"0"+i:i;return(t.jPlayer.timeFormat.showHour?n+t.jPlayer.timeFormat.sepHour:"")+(t.jPlayer.timeFormat.showMin?e+t.jPlayer.timeFormat.sepMin:"")+(t.jPlayer.timeFormat.showSec?i+t.jPlayer.timeFormat.sepSec:"")},t.jPlayer.uaBrowser=function(t){var t=t.toLowerCase(),e=/(opera)(?:.*version)?[ \/]([\w.]+)/,i=/(msie) ([\w.]+)/,n=/(mozilla)(?:.*? rv:([\w.]+))?/,t=/(webkit)[ \/]([\w.]+)/.exec(t)||e.exec(t)||i.exec(t)||t.indexOf("compatible")<0&&n.exec(t)||[];return{browser:t[1]||"",version:t[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),i=/(android)/,n=/(mobile)/,t=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(e)||[],e=/(ipad|playbook)/.exec(e)||!n.exec(e)&&i.exec(e)||[];return t[1]&&(t[1]=t[1].replace(/\s/g,"_")),{platform:t[1]||"",tablet:e[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var i=t.jPlayer.uaBrowser(navigator.userAgent);i.browser&&(t.jPlayer.browser[i.browser]=!0,t.jPlayer.browser.version=i.version),i=t.jPlayer.uaPlatform(navigator.userAgent),i.platform&&(t.jPlayer.platform[i.platform]=!0,t.jPlayer.platform.mobile=!i.tablet,t.jPlayer.platform.tablet=!!i.tablet),t.jPlayer.prototype={count:0,version:{script:"2.1.0",needFlash:"2.1.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:.8,muted:!1,wmode:"opaque",backgroundColor:"black",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},fullScreen:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){t(this).jPlayer("play")}):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullScreen:{msie:/msie [0-6]/,ipad:/ipad.*?os [0-4]/,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3](?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/,playbook:/playbook/},verticalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,flash:!0},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"}},_init:function(){var i=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.internal.domNode=this.element.get(0),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),function(e,n){var r=n.replace(/^\s+|\s+$/g,"");if(i.format[r]){var a=!1;t.each(i.formats,function(t,e){return r===e?(a=!0,!1):void 0}),a||i.formats.push(r)}}),t.each(this.options.solution.toLowerCase().split(","),function(e,n){var r=n.replace(/^\s+|\s+$/g,"");if(i.solution[r]){var a=!1;t.each(i.solutions,function(t,e){return r===e?(a=!0,!1):void 0}),a||i.solutions.push(r)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"Jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,function(t,n){i.options[t]!==e&&(i.element.bind(n+".jPlayer",i.options[t]),i.options[t]=e)}),this.require.audio=!1,this.require.video=!1,t.each(this.formats,function(t,e){i.require[i.format[e].media]=!0}),this.options=this.require.video?t.extend(!0,{},this.optionsVideo,this.options):t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullScreen=this._uaBlocklist(this.options.noFullScreen),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!i.status.video||i.status.waitForPlay)&&i.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){i._trigger(t.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10),this.html.canPlay={},this.flash.canPlay={},t.each(this.formats,function(t,e){i.html.canPlay[e]=i.html[i.format[e].media].available&&""!==i.htmlElement[i.format[e].media].canPlayType(i.format[e].codec),i.flash.canPlay[e]=i.format[e].flashCanPlay&&i.flash.available}),this.html.desired=!1,this.flash.desired=!1,t.each(this.solutions,function(e,n){if(0===e)i[n].desired=!0;else{var r=!1,a=!1;t.each(i.formats,function(t,e){i[i.solutions[0]].canPlay[e]&&("video"===i.format[e].media?a=!0:r=!0)}),i[n].desired=i.require.audio&&!r||i.require.video&&!a}}),this.html.support={},this.flash.support={},t.each(this.formats,function(t,e){i.html.support[e]=i.html.canPlay[e]&&i.html.desired,i.flash.support[e]=i.flash.canPlay[e]&&i.flash.desired}),this.html.used=!1,this.flash.used=!1,t.each(this.solutions,function(e,n){t.each(i.formats,function(t,e){return i[n].support[e]?(i[n].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var n,r="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.browser.msie&&Number(t.browser.version)<=8){r=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+r+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'],n=document.createElement('<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0"></object>');for(var a=0;a<r.length;a++)n.appendChild(document.createElement(r[a]))}else a=function(t,e,i){var n=document.createElement("param");n.setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)},n=document.createElement("object"),n.setAttribute("id",this.internal.flash.id),n.setAttribute("data",this.internal.flash.swf),n.setAttribute("type","application/x-shockwave-flash"),n.setAttribute("width","1"),n.setAttribute("height","1"),a(n,"flashvars",r),a(n,"allowscriptaccess","always"),a(n,"bgcolor",this.options.backgroundColor),a(n,"wmode",this.options.wmode);this.element.append(n),this.internal.flash.jq=t(n)}this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({
width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){i._trigger(t.jPlayer.event.click)}))),this.options.emulateHtml&&this._emulateHtmlBridge(),this.html.used&&!this.flash.used&&setTimeout(function(){i.internal.ready=!0,i.version.flash="n/a",i._trigger(t.jPlayer.event.repeat),i._trigger(t.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this._updateInterface(),this._updateButtons(!1),this._updateAutohide(),this._updateVolume(this.options.volume),this._updateMute(this.options.muted),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_uaBlocklist:function(e){var i=navigator.userAgent.toLowerCase(),n=!1;return t.each(e,function(t,e){return e&&e.test(i)?(n=!0,!1):void 0}),n},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullScreen=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,i){var n=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,e.addEventListener("progress",function(){i.gate&&(n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.progress))},!1),e.addEventListener("timeupdate",function(){i.gate&&(n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.timeupdate))},!1),e.addEventListener("durationchange",function(){i.gate&&(n.status.duration=this.duration,n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.durationchange))},!1),e.addEventListener("play",function(){i.gate&&(n._updateButtons(!0),n._html_checkWaitForPlay(),n._trigger(t.jPlayer.event.play))},!1),e.addEventListener("playing",function(){i.gate&&(n._updateButtons(!0),n._seeked(),n._trigger(t.jPlayer.event.playing))},!1),e.addEventListener("pause",function(){i.gate&&(n._updateButtons(!1),n._trigger(t.jPlayer.event.pause))},!1),e.addEventListener("waiting",function(){i.gate&&(n._seeking(),n._trigger(t.jPlayer.event.waiting))},!1),e.addEventListener("seeking",function(){i.gate&&(n._seeking(),n._trigger(t.jPlayer.event.seeking))},!1),e.addEventListener("seeked",function(){i.gate&&(n._seeked(),n._trigger(t.jPlayer.event.seeked))},!1),e.addEventListener("volumechange",function(){i.gate&&(n.options.volume=e.volume,n.options.muted=e.muted,n._updateMute(),n._updateVolume(),n._trigger(t.jPlayer.event.volumechange))},!1),e.addEventListener("suspend",function(){i.gate&&(n._seeked(),n._trigger(t.jPlayer.event.suspend))},!1),e.addEventListener("ended",function(){i.gate&&(t.jPlayer.browser.webkit||(n.htmlElement.media.currentTime=0),n.htmlElement.media.pause(),n._updateButtons(!1),n._getHtmlStatus(e,!0),n._updateInterface(),n._trigger(t.jPlayer.event.ended))},!1),e.addEventListener("error",function(){i.gate&&(n._updateButtons(!1),n._seeked(),n.status.srcSet)&&(clearTimeout(n.internal.htmlDlyCmdId),n.status.waitForLoad=!0,n.status.waitForPlay=!0,n.status.video&&!n.status.nativeVideoControls&&n.internal.video.jq.css({width:"0px",height:"0px"}),n._validString(n.status.media.poster)&&!n.status.nativeVideoControls&&n.internal.poster.jq.show(),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n._error({type:t.jPlayer.error.URL,context:n.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL}))},!1),t.each(t.jPlayer.htmlEvent,function(r,a){e.addEventListener(this,function(){i.gate&&n._trigger(t.jPlayer.event[a])},!1)})},_getHtmlStatus:function(t,e){var i=0,n=0,r=0,a=0;t.duration&&(this.status.duration=t.duration),i=t.currentTime,n=this.status.duration>0?100*i/this.status.duration:0,"object"==typeof t.seekable&&t.seekable.length>0?(r=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,a=100*t.currentTime/t.seekable.end(t.seekable.length-1)):(r=100,a=n),e&&(n=a=i=0),this.status.seekPercent=r,this.status.currentPercentRelative=a,this.status.currentPercentAbsolute=n,this.status.currentTime=i,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,i,n){e=t.Event(e),e.jPlayer={},e.jPlayer.version=t.extend({},this.version),e.jPlayer.options=t.extend(!0,{},this.options),e.jPlayer.status=t.extend(!0,{},this.status),e.jPlayer.html=t.extend(!0,{},this.html),e.jPlayer.flash=t.extend(!0,{},this.flash),i&&(e.jPlayer.error=t.extend({},i)),n&&(e.jPlayer.warning=t.extend({},n)),this.element.trigger(e)},jPlayerFlashEvent:function(e,i){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var n=this.status.currentTime,r=this.status.paused;this.setMedia(this.status.media),n>0&&(r?this.pause(n):this.play(n))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=i.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:this._getFlashStatus(i),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.timeupdate:this._getFlashStatus(i),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:i.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t!==e&&(this.status.paused=!t,this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide()))),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullScreen?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullScreen?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&this.css.jq.playBar.width(this.status.currentPercentRelative+"%"),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(t.jPlayer.convertTime(this.status.currentTime)),this.css.jq.duration.length&&this.css.jq.duration.text(t.jPlayer.convertTime(this.status.duration))},_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.flash.active=!1},setMedia:function(e){var i=this,n=!1,r=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),t.each(this.formats,function(r,a){var s="video"===i.format[a].media;return t.each(i.solutions,function(t,r){if(i[r].support[a]&&i._validString(e[a])){var o="html"===r;return s?(o?(i.html.video.gate=!0,i._html_setVideo(e),i.html.active=!0):(i.flash.gate=!0,i._flash_setVideo(e),i.flash.active=!0),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i.status.video=!0):(o?(i.html.audio.gate=!0,i._html_setAudio(e),i.html.active=!0):(i.flash.gate=!0,i._flash_setAudio(e),i.flash.active=!0),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.hide(),i.status.video=!1),n=!0,!1}}),n?!1:void 0}),n?(this.status.nativeVideoControls&&this.html.video.gate||!this._validString(e.poster)||(r?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface()):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},play:function(t){t="number"==typeof t?t:NaN,this.status.srcSet?this.html.active?this._html_play(t):this.flash.active&&this._flash_play(t):this._urlNotSetError("play")},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:NaN,this.status.srcSet?this.html.active?this._html_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},pauseOthers:function(){var e=this;t.each(this.instances,function(t,i){e.element!==i&&i.data("jPlayer").status.srcSet&&i.jPlayer("pause")})},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(e){this.options.muted=e,this.html.used&&this._html_mute(e),this.flash.used&&this._flash_mute(e),!this.html.video.gate&&!this.html.audio.gate&&(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){t=t===e?!0:!!t,this._muted(t)},unmute:function(t){t=t===e?!0:!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_volume(e),this.flash.used&&this._flash_volume(e),!this.html.video.gate&&!this.html.audio.gate&&(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(t){if(this.css.jq.volumeBar.length){var e=this.css.jq.volumeBar.offset(),i=t.pageX-e.left,n=this.css.jq.volumeBar.width(),t=this.css.jq.volumeBar.height()-t.pageY+e.top,e=this.css.jq.volumeBar.height();this.options.verticalVolume?this.volume(t/e):this.volume(i/n)}this.options.muted&&this._muted(!1)},volumeBarValue:function(t){this.volumeBar(t)},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var i=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,function(t,e){i._cssSelector(t,e)})},_cssSelector:function(e,i){var n=this;"string"==typeof i?t.jPlayer.prototype.options.cssSelector[e]?(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=i,this.css.cs[e]=this.options.cssSelectorAncestor+" "+i,this.css.jq[e]=i?t(this.css.cs[e]):[],this.css.jq[e].length&&this.css.jq[e].bind("click.jPlayer",function(i){return n[e](i),t(this).blur(),!1}),i&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:i,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},seekBar:function(t){if(this.css.jq.seekBar){var e=this.css.jq.seekBar.offset(),t=t.pageX-e.left,e=this.css.jq.seekBar.width();this.playHead(100*t/e)}},playBar:function(t){this.seekBar(t)},repeat:function(){this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},currentTime:function(){},duration:function(){},gui:function(){},noSolution:function(){},option:function(i,n){var r=i;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof i){var a=i.split(".");if(n===e){for(var r=t.extend(!0,{},this.options),s=0;s<a.length;s++){if(r[a[s]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:i,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;r=r[a[s]]}return r}for(var s=r={},o=0;o<a.length;o++)o<a.length-1?(s[a[o]]={},s=s[a[o]]):s[a[o]]=n}return this._setOptions(r),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(e,i){var n=this;switch(e){case"volume":this.volume(i);break;case"muted":this._muted(i);break;case"cssSelectorAncestor":this._cssSelectorAncestor(i);break;case"cssSelector":t.each(i,function(t,e){n._cssSelector(t,e)});break;case"fullScreen":this.options[e]!==i&&(this._removeUiClass(),this.options[e]=i,this._refreshSize());break;case"size":!this.options.fullScreen&&this.options[e].cssClass!==i.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],i),this._refreshSize();break;case"sizeFull":this.options.fullScreen&&this.options[e].cssClass!==i.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],i),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],i),this._updateAutohide();break;case"loop":this._loop(i);break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],i),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullScreen":this.options[e]=t.extend({},this.options[e],i),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullScreen=this._uaBlocklist(this.options.noFullScreen),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],i),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==i&&((this.options[e]=i)?this._emulateHtmlBridge():this._destroyHtmlBridge())}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullScreen?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e=function(){t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout(function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)},t.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullScreen&&this.options.autohide.full||!this.options.fullScreen&&this.options.autohide.restored?(this.element.bind("mousemove.jPlayer.jPlayerAutohide",e),this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",e),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(){this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_html_initMedia:function(){this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setAudio:function(e){var i=this;t.each(this.formats,function(t,n){return i.html.support[n]&&e[n]?(i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1):void 0}),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia()},_html_setVideo:function(e){var i=this;t.each(this.formats,function(t,n){return i.html.support[n]&&e[n]?(i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1):void 0}),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(e.poster)?e.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia()},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id===this.internal.video.id&&!this.status.nativeVideoControls&&this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this;if(this._html_load(),this.htmlElement.media.play(),!isNaN(t))try{this.htmlElement.media.currentTime=t}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.play(t)},100))}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this;if(t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),this.htmlElement.media.pause(),!isNaN(t))try{this.htmlElement.media.currentTime=t}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.pause(t)},100))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this;this._html_load();try{if("object"==typeof this.htmlElement.media.seekable&&this.htmlElement.media.seekable.length>0)this.htmlElement.media.currentTime=t*this.htmlElement.media.seekable.end(this.htmlElement.media.seekable.length-1)/100;else{if(!(this.htmlElement.media.duration>0)||isNaN(this.htmlElement.media.duration))throw"e";this.htmlElement.media.currentTime=t*this.htmlElement.media.duration/100}}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.playHead(t)},100))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_volume:function(t){this.html.audio.available&&(this.htmlElement.audio.volume=t),this.html.video.available&&(this.htmlElement.video.volume=t)},_html_mute:function(t){this.html.audio.available&&(this.htmlElement.audio.muted=t),this.html.video.available&&(this.htmlElement.video.muted=t)},_flash_setAudio:function(e){var i=this;try{t.each(this.formats,function(t,n){if(i.flash.support[n]&&e[n]){switch(n){case"m4a":case"fla":i._getMovie().fl_setAudio_m4a(e[n]);break;case"mp3":i._getMovie().fl_setAudio_mp3(e[n])}return i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(n){this._flashError(n)}},_flash_setVideo:function(e){var i=this;try{t.each(this.formats,function(t,n){if(i.flash.support[n]&&e[n]){switch(n){case"m4v":case"flv":i._getMovie().fl_setVideo_m4v(e[n])}return i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(n){this._flashError(n)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(e){this._flashError(e)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(e){this._flashError(e)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_checkForFlash:function(t){var e,i=!1;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+t),i=!0}catch(n){}else navigator.plugins&&navigator.mimeTypes.length>0&&(e=navigator.plugins["Shockwave Flash"])&&navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")>=t&&(i=!0);return i},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,i){return e>t?e:t>i?i:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var i;i=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[i],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[i]+e.message,hint:t.jPlayer.errorHint[i]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n\n"+e.message:"")+(e.hint?"\n\n"+e.hint:"")+"\n\nContext: "+e.context)},_warning:function(i){this._trigger(t.jPlayer.event.warning,e,i),this.options.warningAlerts&&this._alert("Warning!"+(i.message?"\n\n"+i.message:"")+(i.hint?"\n\n"+i.hint:"")+"\n\nContext: "+i.context)},_alert:function(t){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),function(t,i){e.internal.domNode[i]=function(t){e[i](t)}}),t.each(t.jPlayer.event,function(i,n){var r=!0;t.each(t.jPlayer.reservedEvent.split(/\s+/g),function(t,e){return e===i?r=!1:void 0}),r&&e.element.bind(n+".jPlayer.jPlayerHtml",function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(i,!1,!0),e.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),function(t,i){e.internal.domNode[i]=e.status[i]}),t.each(t.jPlayer.emulateOptions.split(/\s+/g),function(t,i){e.internal.domNode[i]=e.options[i]})},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml"),t.each((t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions).split(/\s+/g),function(t,i){delete e.internal.domNode[i]})}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}(jQuery),define("$vendor/jquery.jplayer.min",function(){}),define("$app/ui/shared/with_player",["$vendor/jquery.jplayer.min"],function(){function t(){this.onPlay=function(){},this.onPause=function(){},this.onTimeUpdate=function(){},this.onEnded=function(){},this.play=function(){this.select("playerSelector").jPlayer("play")},this.pause=function(){this.select("playerSelector").jPlayer("pause")},this.getContentTypeFromUrl=function(){return this.attr.audioUrl.split("?")[0].split(".").pop()},this.initializePlayer=function(){var t=this.select("playerSelector");this.attr.audioUrl=t.data("url"),this.attr.audioUrl&&""!=this.attr.audioUrl&&(t.jPlayer({ready:function(t){this.select("playerSelector").jPlayer("setMedia",{mp3:this.attr.audioUrl,wav:this.attr.audioUrl,m4a:this.attr.audioUrl})}.bind(this),preload:"none",swfPath:"/js",supplied:this.getContentTypeFromUrl()}),t.bind($.jPlayer.event.play,this.onPlay.bind(this)),t.bind($.jPlayer.event.pause,this.onPause.bind(this)),t.bind($.jPlayer.event.timeupdate,this.onTimeUpdate.bind(this)),t.bind($.jPlayer.event.ended,this.onEnded.bind(this)))}}return t}),define("$app/ui/shared/with_math",[],function(){function t(){this.getAverage=function(t){if(!(t instanceof Array)||0==t.length)return null;var e=0;return $.each(t,function(t,i){e+=i}),e/t.length},this.getMedian=function(t){if(!(t instanceof Array)||0==t.length)return null;var e=Math.floor(t.length/2),i=t.sort(this.ascendingNumericSort);return t.length%2==0?(i[e]+i[e-1])/2:i[e]},this.ascendingNumericSort=function(t,e){return t-e},this.polarToCartesian=function(t,e){var i=e*Math.PI/180,n=t*Math.cos(i),r=t*(Math.sin(i)+1);return n+" "+r}}return t}),define("$app/ui/shared/with_audio_player",["flight/lib/compose","$app/ui/shared/with_player","$app/ui/shared/with_math"],function(t,e,i){function n(){t.mixin(this,[e,i]),this.defaultAttrs({playerContainerSelector:".js-audio-player",playerSelector:".js-audio-player .player",audioProgressSelector:".js-audio-player .audio-progress",playButtonSelector:".js-audio-player .play-button",pauseButtonSelector:".js-audio-player .pause-button",circleProgressSelector:".js-audio-player .circle-progress",textProgressSelector:".js-audio-player .progress-text",playerOutsideContainerSelector:".js-audio-player-container"}),this.stopAudio=function(t){"stopPreviews"==t.data&&this.pause()},this.togglePlayAndPause=function(t){t&&t.preventDefault(),this.select("playButtonSelector").is(":visible")?(this.trigger("pauseAudioPlayers"),this.playAudio()):this.pauseAudio()},this.playAudio=function(t){t&&t.preventDefault();var e=this.select("playerOutsideContainerSelector").data("url-redirect-id"),i=this.select("playerOutsideContainerSelector").data("product-file-id"),n=this.select("playerOutsideContainerSelector").data("purchase-id");this.trigger("uiNeedsToTrackConsumptionEvent",{eventType:"listen",platform:"web",urlRedirectId:e,productFileId:i,purchaseId:n}),this.play()},this.pauseAudio=function(t){t&&t.preventDefault(),this.pause()},this.around("onPlay",function(){this.select("pauseButtonSelector").show(),this.select("playButtonSelector").hide()}),this.around("onPause",function(){this.select("playButtonSelector").show(),
this.select("pauseButtonSelector").hide()}),this.around("onTimeUpdate",function(t,e){if(e.jPlayer.status.duration>0){var i=e.jPlayer.status.currentTime/e.jPlayer.status.duration,n="0";i>.5&&(n="1"),this.select("circleProgressSelector").attr("d","M 40 3 a 37 37 0 "+n+" 1 "+this.polarToCartesian(37,360*i-90)),this.select("textProgressSelector").text($.jPlayer.convertTime(e.jPlayer.status.currentTime)+"/"+$.jPlayer.convertTime(e.jPlayer.status.duration)),this.trigger("uiUpdateReceiptHeight"),this.trigger("uiAnimatePaymentFormHeight",{animate:!1})}}),this.around("onEnded",function(){this.select("playButtonSelector").show(),this.select("pauseButtonSelector").hide();var t=this.select("playerSelector").parents().andSelf().nextAll().find(".js-listen-trigger").andSelf().filter(".js-listen-trigger");$(t[0]).click()}),this.initializeAudioPlayer=function(){this.initializePlayer()},this.after("initialize",function(){window.addEventListener?window.addEventListener("message",this.stopAudio.bind(this)):window.attachEvent("message",this.stopAudio.bind(this)),this.on("click",{playerContainerSelector:this.togglePlayAndPause})})}return n}),define("$app/ui/shared/with_listen",["flight/lib/compose","$app/ui/shared/with_audio_player"],function(t,e){function i(){t.mixin(this,[e]),this.defaultAttrs({listenTriggerSelector:".js-listen-trigger",audioPlayerSelector:".js-audio-player"}),this.showAndStartAudioPlayer=function(t,e){this.trigger("pauseAudioPlayers"),this.select("listenTriggerSelector").hide(),this.select("audioPlayerSelector").hasClass("button-block")?this.select("audioPlayerSelector").removeClass("hidden"):this.select("audioPlayerSelector").css("display","inline-block"),this.playAudio()},this.pauseAudioPlayer=function(){this.pauseAudio()},this.after("initialize",function(){this.initializeAudioPlayer(),this.on(document,"pauseAudioPlayers",this.pauseAudioPlayer),this.on("click",{listenTriggerSelector:this.showAndStartAudioPlayer})})}return i}),define("$app/templates/helpers/t",["hbs/handlebars"],function(t){function e(t,e){return t="js."+t,void 0!==e.hash?I18n.t(t,e.hash):I18n.t(t)}return t.registerHelper("t",e),e}),define("hbs!$app/templates/receipt_entry",["hbs","hbs/handlebars","./helpers/t"],function(t,e){var i=e.template({1:function(t,e,i,n){var r;return'  <li class="receipt-entry purchase_error js-receipt-entry-failed">\n    <span class="purchase_failed_notice">'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"purchase_failed",{name:"t",hash:{},data:n}))+'</span>\n    <h2 class="product-name">'+this.escapeExpression((r=null!=(r=e.name||(null!=t?t.name:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"name",hash:{},data:n}):r))+'</h2>\n    <p class="purchase_error_message">'+this.escapeExpression((r=null!=(r=e.error_message||(null!=t?t.error_message:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"error_message",hash:{},data:n}):r))+"</p>\n  </li>\n"},3:function(t,e,i,n){var r,a;return'  <li class="receipt-entry js-receipt-entry-successful">\n    <span class="receipt-price">'+this.escapeExpression((a=null!=(a=e.price||(null!=t?t.price:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"price",hash:{},data:n}):a))+'</span>\n    <div class="product-details">\n      <h2 class="product-name">'+this.escapeExpression((a=null!=(a=e.name||(null!=t?t.name:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"name",hash:{},data:n}):a))+" "+this.escapeExpression((a=null!=(a=e.variants_displayable||(null!=t?t.variants_displayable:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"variants_displayable",hash:{},data:n}):a))+" "+(null!=(r=e["if"].call(t,null!=t?t.show_quantity:t,{name:"if",hash:{},fn:this.program(4,n,0),inverse:this.noop,data:n}))?r:"")+"</h2>\n"+(null!=(r=e["if"].call(t,null!=t?t.is_redirect_ready:t,{name:"if",hash:{},fn:this.program(6,n,0),inverse:this.noop,data:n}))?r:"")+(null!=(r=e["if"].call(t,null!=t?t.custom_delivery_url:t,{name:"if",hash:{},fn:this.program(18,n,0),inverse:this.noop,data:n}))?r:"")+(null!=(r=e["if"].call(t,null!=t?t.is_recurring_billing:t,{name:"if",hash:{},fn:this.program(20,n,0),inverse:this.noop,data:n}))?r:"")+(null!=(r=e["if"].call(t,null!=t?t.is_open_in_appable:t,{name:"if",hash:{},fn:this.program(24,n,0),inverse:this.noop,data:n}))?r:"")+(null!=(r=e["if"].call(t,null!=t?t.license_key:t,{name:"if",hash:{},fn:this.program(26,n,0),inverse:this.noop,data:n}))?r:"")+(null!=(r=e["if"].call(t,null!=t?t.is_gift_sender_purchase:t,{name:"if",hash:{},fn:this.program(28,n,0),inverse:this.program(33,n,0),data:n}))?r:"")+(null!=(r=e["if"].call(t,null!=t?t.is_gift_receiver_purchase:t,{name:"if",hash:{},fn:this.program(36,n,0),inverse:this.noop,data:n}))?r:"")+"      "+(null!=(r=e["if"].call(t,null!=t?t.test_purchase_notice:t,{name:"if",hash:{},fn:this.program(38,n,0),inverse:this.noop,data:n}))?r:"")+"\n    </div>\n  </li>\n"+(null!=(r=e["if"].call(t,null!=t?t.has_shipping_to_show:t,{name:"if",hash:{},fn:this.program(40,n,0),inverse:this.noop,data:n}))?r:"")+(null!=(r=e["if"].call(t,null!=t?t.has_sales_tax_to_show:t,{name:"if",hash:{},fn:this.program(42,n,0),inverse:this.noop,data:n}))?r:"")},4:function(t,e,i,n){var r;return'<span class="quantity">\xd7 '+this.escapeExpression((r=null!=(r=e.quantity||(null!=t?t.quantity:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"quantity",hash:{},data:n}):r))+"</span>"},6:function(t,e,i,n){var r;return null!=(r=e["if"].call(t,null!=t?t.has_multiple_files:t,{name:"if",hash:{},fn:this.program(7,n,0),inverse:this.program(9,n,0),data:n}))?r:""},7:function(t,e,i,n){var r;return'          <a href="'+this.escapeExpression((r=null!=(r=e.redirect_url||(null!=t?t.redirect_url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"redirect_url",hash:{},data:n}):r))+'" class="button button-default button-small js-track-product-click-event" data-product-event-name="receipt_view_product" target="_blank">'+this.escapeExpression((r=null!=(r=e.view_files_button_text||(null!=t?t.view_files_button_text:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"view_files_button_text",hash:{},data:n}):r))+"</a>\n"},9:function(t,e,i,n){var r;return(null!=(r=e["if"].call(t,null!=t?t.is_streamable:t,{name:"if",hash:{},fn:this.program(10,n,0),inverse:this.noop,data:n}))?r:"")+(null!=(r=e["if"].call(t,null!=t?t.is_readable:t,{name:"if",hash:{},fn:this.program(12,n,0),inverse:this.noop,data:n}))?r:"")+(null!=(r=e["if"].call(t,null!=t?t.is_listenable:t,{name:"if",hash:{},fn:this.program(14,n,0),inverse:this.noop,data:n}))?r:"")+(null!=(r=e["if"].call(t,null!=t?t.is_downloadable:t,{name:"if",hash:{},fn:this.program(16,n,0),inverse:this.noop,data:n}))?r:"")},10:function(t,e,i,n){var r;return'            <a href="'+this.escapeExpression((r=null!=(r=e.stream_url||(null!=t?t.stream_url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"stream_url",hash:{},data:n}):r))+'" class="button button-default button-small js-track-product-click-event" data-product-event-name="receipt_streaming" target="_blank">'+this.escapeExpression((r=null!=(r=e.stream_button_text||(null!=t?t.stream_button_text:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"stream_button_text",hash:{},data:n}):r))+"</a>\n"},12:function(t,e,i,n){var r;return'            <a href="'+this.escapeExpression((r=null!=(r=e.read_url||(null!=t?t.read_url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"read_url",hash:{},data:n}):r))+'" class="button button-default button-small js-track-product-click-event" data-product-event-name="receipt_read" target="_blank">'+this.escapeExpression((r=null!=(r=e.read_button_text||(null!=t?t.read_button_text:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"read_button_text",hash:{},data:n}):r))+"</a>\n"},14:function(t,e,i,n){var r;return'            <div class="js-audio-player-container" data-url-redirect-id="'+this.escapeExpression((r=null!=(r=e.url_redirect_external_id||(null!=t?t.url_redirect_external_id:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"url_redirect_external_id",hash:{},data:n}):r))+'" data-product-file-id="'+this.escapeExpression((r=null!=(r=e.product_file_external_id||(null!=t?t.product_file_external_id:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"product_file_external_id",hash:{},data:n}):r))+'" data-purchase-id="'+this.escapeExpression((r=null!=(r=e.id||(null!=t?t.id:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"id",hash:{},data:n}):r))+'">\n              <a href="#" class="button button-default button-small js-track-product-click-event js-listen-trigger" data-product-event-name="receipt_listen">'+this.escapeExpression((r=null!=(r=e.listen_button_text||(null!=t?t.listen_button_text:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"listen_button_text",hash:{},data:n}):r))+'</a>\n\n              <div class="js-audio-player button button-small button-default soft-hidden">\n                <div class="player" data-url="'+this.escapeExpression((r=null!=(r=e.listen_url||(null!=t?t.listen_url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"listen_url",hash:{},data:n}):r))+'"></div>\n                <a class="play-button media-control">\u25b6</a>\n                <a class="pause-button media-control">\u2759\u2759</a>\n                <span class="audio-progress progress-text"></span>\n              </div>\n            </div>\n'},16:function(t,e,i,n){var r;return'            <a href="'+this.escapeExpression((r=null!=(r=e.redirect_url||(null!=t?t.redirect_url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"redirect_url",hash:{},data:n}):r))+'" class="button button-default button-small js-track-product-click-event" data-product-event-name="receipt_download" target="_blank">'+this.escapeExpression((r=null!=(r=e.download_button_text||(null!=t?t.download_button_text:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"download_button_text",hash:{},data:n}):r))+"</a>\n"},18:function(t,e,i,n){var r;return'        <a href="'+this.escapeExpression((r=null!=(r=e.custom_delivery_url||(null!=t?t.custom_delivery_url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"custom_delivery_url",hash:{},data:n}):r))+'" class="button button-default button-small js-track-product-click-event js-custom-delivery-url" data-product-event-name="receipt_click_custom_delivery_url" target="_blank"></a>\n'},20:function(t,e,i,n){var r,a;return(null!=(r=e["if"].call(t,null!=t?t.immediate_installments:t,{name:"if",hash:{},fn:this.program(21,n,0),inverse:this.noop,data:n}))?r:"")+'        <a href="'+this.escapeExpression((a=null!=(a=e.library_url||(null!=t?t.library_url:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"library_url",hash:{},data:n}):a))+'" class="button button-default button-small js-track-product-click-event js-library-url" data-product-event-name="receipt_library" target="_blank">'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"library_button_text",{name:"t",hash:{},data:n}))+"</a>\n"},21:function(t,e,i,n){var r;return'          <div class="immediate-installments">\n            <p><strong>'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"view_latest_updates",{name:"t",hash:{},data:n}))+"</strong></p>\n"+(null!=(r=e.each.call(t,null!=t?t.immediate_installments:t,{name:"each",hash:{},fn:this.program(22,n,0),inverse:this.noop,data:n}))?r:"")+"          </div>\n"},22:function(t,e,i,n){var r;return'              <a href="'+this.escapeExpression((r=null!=(r=e.link||(null!=t?t.link:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"link",hash:{},data:n}):r))+'" class="js-track-product-click-event js-view-immediate-installment" target="_blank">'+this.escapeExpression((r=null!=(r=e.name||(null!=t?t.name:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"name",hash:{},data:n}):r))+"</a>\n"},24:function(t,e,i,n){var r;return'        <a href="#" class="button button-default button-small js-track-product-click-event js-mobile-app-popover-trigger"\n           data-receipt="true" data-email="'+this.escapeExpression((r=null!=(r=e.email||(null!=t?t.email:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"email",hash:{},data:n}):r))+'" data-has-purchaser="'+this.escapeExpression((r=null!=(r=e.account_by_this_email_exists||(null!=t?t.account_by_this_email_exists:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"account_by_this_email_exists",hash:{},data:n}):r))+'"\n           data-product-event-name="receipt_open_in_app">'+this.escapeExpression((r=null!=(r=e.open_in_app_text||(null!=t?t.open_in_app_text:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"open_in_app_text",hash:{},data:n}):r))+"</a>\n"},26:function(t,e,i,n){var r;return"        <p class='license-key-container'>"+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"your_license_key_title",{name:"t",hash:{},data:n}))+"</p>\n        <p class='license-key'>"+this.escapeExpression((r=null!=(r=e.license_key||(null!=t?t.license_key:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"license_key",hash:{},data:n}):r))+"</p>\n"},28:function(t,e,i,n){var r,a;return"        <p>"+this.escapeExpression((a=null!=(a=e.gift_sender_text||(null!=t?t.gift_sender_text:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"gift_sender_text",hash:{},data:n}):a))+"</p>\n"+(null!=(r=e["if"].call(t,null!=t?t.has_files:t,{name:"if",hash:{},fn:this.program(29,n,0),inverse:this.program(31,n,0),data:n}))?r:"")},29:function(t,e,i,n){return"          <p>"+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"emailed_gift_notice",{name:"t",hash:{},data:n}))+"</p>\n"},31:function(t,e,i,n){return"          <p>"+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"emailed_gift_notice_physical",{name:"t",hash:{},data:n}))+"</p>\n"},33:function(t,e,i,n){var r;return"        "+(null!=(r=e["if"].call(t,null!=t?t.extra_purchase_notice:t,{name:"if",hash:{},fn:this.program(34,n,0),inverse:this.noop,data:n}))?r:"")+"\n"},34:function(t,e,i,n){var r,a;return"<p>"+(null!=(a=null!=(a=e.extra_purchase_notice||(null!=t?t.extra_purchase_notice:t))?a:e.helperMissing,r="function"==typeof a?a.call(t,{name:"extra_purchase_notice",hash:{},data:n}):a)?r:"")+"</p>"},36:function(t,e,i,n){var r;return"        <p>"+this.escapeExpression((r=null!=(r=e.gift_receiver_text||(null!=t?t.gift_receiver_text:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"gift_receiver_text",hash:{},data:n}):r))+"</p>\n"},38:function(t,e,i,n){var r;return"<p>"+this.escapeExpression((r=null!=(r=e.test_purchase_notice||(null!=t?t.test_purchase_notice:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"test_purchase_notice",hash:{},data:n}):r))+"</p>"},40:function(t,e,i,n){var r;return'    <li class="receipt-entry">\n      <span class="receipt-price">'+this.escapeExpression((r=null!=(r=e.shipping_amount||(null!=t?t.shipping_amount:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"shipping_amount",hash:{},data:n}):r))+'</span>\n      <div class="product-details">\n        <h2 class="product-name">'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"shipping",{name:"t",hash:{},data:n}))+"</h2>\n      </div>\n    </li>\n"},42:function(t,e,i,n){var r;return'    <li class="receipt-entry">\n      <span class="receipt-price">'+this.escapeExpression((r=null!=(r=e.sales_tax_amount||(null!=t?t.sales_tax_amount:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"sales_tax_amount",hash:{},data:n}):r))+'</span>\n      <div class="product-details">\n        <h2 class="product-name">'+this.escapeExpression((r=null!=(r=e.sales_tax_label||(null!=t?t.sales_tax_label:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"sales_tax_label",hash:{},data:n}):r))+"</h2>\n      </div>\n    </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return null!=(r=e["if"].call(t,null!=t?t.error_message:t,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.program(3,n,0),data:n}))?r:""},useData:!0});return e.registerPartial("$app/templates/receipt_entry",i),i}),define("hbs!$app/templates/total_receipt_entry",["hbs","hbs/handlebars","./helpers/t"],function(t,e){var i=e.template({1:function(t,e,i,n){var r;return'  <li class="receipt-entry">\n    <span class="receipt-price">'+this.escapeExpression((r=null!=(r=e.total_price_including_tax_and_shipping||(null!=t?t.total_price_including_tax_and_shipping:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"total_price_including_tax_and_shipping",hash:{},data:n}):r))+'</span>\n    <div class="product-details">\n      <h2 class="product-name">'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"total_amount",{name:"t",hash:{},data:n}))+"</h2>\n    </div>\n  </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return null!=(r=e["if"].call(t,null!=t?t.has_sales_tax_or_shipping_to_show:t,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:""},useData:!0});return e.registerPartial("$app/templates/total_receipt_entry",i),i}),define("$app/templates/helpers/t_upcase",["hbs/handlebars"],function(t){function e(t,e){return t="js."+t,void 0==e?I18n.t(t).toUpperCase():I18n.t(t,e).toUpperCase()}return t.registerHelper("t_upcase",e),e}),define("$app/ui/product/with_receipt",["flight/lib/compose","$app/utils/with_url","$app/utils/with_social_share","$app/ui/shared/with_listen","$app/ui/product/with_credit_card_on_payment_form","hbs!$app/templates/receipt_entry","hbs!$app/templates/total_receipt_entry","$app/templates/helpers/t","$app/templates/helpers/t_upcase"],function(t,e,i,n,r,a,s){function o(){t.mixin(this,[e,i,n,r]),this.defaultAttrs({receiptContainerSelector:".receipt_container",receiptSelector:".receipt",receiptEntriesSelector:".receipt-entries",receiptEntryFailedSelector:".js-receipt-entry-failed",receiptEntrySuccessfulSelector:".js-receipt-entry-successful",emailReceiptFormSelector:".email-receipt-form",emailedLinkNoticeSelector:".emailed-link-notice",receiptPriceSelector:".receipt-price",receiptShadowSelector:".receipt_shadow",customTextSelector:".js-receipt-custom-text",receiptCreateUserMsgSelector:".receipt_create_user_p",userPurchaseIdSelector:".user_purchase_id",createAccountOrAddToLibraryButtonSelector:".create-account-or-add-to-library-button",userEmailSelector:".user_email",userExpDateSelector:".user_exp_date",userNumberSelector:".user_number",userCvcSelector:".user_cvc",userAddPurchaseToExistingAccountSelector:".user_add_purchase_to_existing_account",twitterSelector:".js-twitter-share-trigger",facebookSelector:".js-facebook-share-trigger",viewReceiptSelector:".js-view-receipt-container",receiptTwitterShareSelector:".receipt_container .js-twitter-share-trigger",receiptFacebookShareSelector:".receipt_container .js-facebook-share-trigger",passwordFieldSelector:".js-password-field",libraryUrlSelector:".js-library-url",customDeliveryUrlSelector:".js-custom-delivery-url",customDeliveryRedirectDelayInSeconds:5}),this.setReceipt=function(){if(!this.attr.onUserProfile||!this.$node.parents(".gridster").length){var t=this.select("receiptSelector");this.select("receiptContainerSelector").css({position:"absolute",visibility:"hidden",display:"block"});var e=t.height()+30;this.select("receiptContainerSelector").css({position:"relative",visibility:"visible",display:"none"}),t.css({marginTop:-e})}},this.showReceipt=function(t){var e=this.select("receiptContainerSelector"),i=this.select("receiptSelector"),n=this.select("purchaseFormSelector"),r=this.select("payButtonContainerSelector"),a=this.select("receiptShadowSelector"),s=this.select("changedMindButtonSelector");this.setPaymentFormHeight(this.select("paymentFormSelector").outerHeight()),t?(n.slideUp(),s.fadeOut(),e.animate({"margin-top":0}),r.slideUp(function(){a.animate({opacity:1},600,"linear"),i.animate({"margin-top":3},600,"swing").animate({"margin-top":0},200,"linear")}),e.height(i.height()+45).show(),this.select("paymentFormSelector").animate({height:e.height()+45})):(s.hide(),n.hide(),e.show(),i.show(),e.css({"margin-top":0}),r.hide(),a.css({opacity:1}),i.css({"margin-top":0}),e.height(i.height()+45).show()),this.attr.isShowingReceipt=!0,this.startRedirect()},this.performRedirect=function(){clearInterval(this.redirectTimer),this.select("customDeliveryUrlSelector").text(I18n.t("js.custom_delivery_prompt"));var t=this.select("customDeliveryUrlSelector").attr("href");this.attr.isOverlayPage?this.trigger("uiNeedsToRedirectOverlayFromReceipt",{url:t}):window.location.href=t},this.showRedirectCountdown=function(){this.select("customDeliveryUrlSelector").text(I18n.t("js.custom_delivery_redirect",{seconds:this.attr.customDeliveryRedirectDelayInSeconds}))},this.startRedirect=function(){0===this.select("receiptEntryFailedSelector").length&&1===this.select("receiptEntrySuccessfulSelector").length&&1===this.select("customDeliveryUrlSelector").length?(this.showRedirectCountdown(),this.redirectTimer=setInterval(function(){this.attr.customDeliveryRedirectDelayInSeconds-=1,this.showRedirectCountdown(),this.attr.customDeliveryRedirectDelayInSeconds<=0&&this.performRedirect()}.bind(this),1e3)):this.select("customDeliveryUrlSelector").text(I18n.t("js.custom_delivery_prompt"))},this.showCheckEmailReceipt=function(){this.select("receiptEntriesSelector").text(I18n.t("js.purchase_processing_check_email_notice")),this.showReceipt(!0)},this.hideReceipt=function(t){var e=this.select("receiptContainerSelector"),i=this.select("receiptSelector"),n=this.select("purchaseFormSelector"),r=this.select("payButtonContainerSelector"),a=this.select("payButtonSelector"),s=this.select("receiptShadowSelector"),o=this.select("changedMindButtonSelector");t?(o.fadeIn(),e.hide(),n.show(),r.show(),this.attr.purchaseWasGift?(this.toggleGiftPaymentForm(!1),this.select("paymentFormSelector").stop()):this.select("paymentFormSelector").animate({height:this.select("paymentContainerSelector").outerHeight()}),e.show(),n.hide(),r.hide(),a.text(a.data("default")),s.animate({opacity:0},600,"linear"),i.animate({"margin-top":-(i.height()+45)},600,"swing"),setTimeout(function(){n.show().css({position:"relative",top:-(n.height()+40)}),e.animate({"margin-top":20}),r.show(),n.animate({top:0}),e.height("auto").hide()},600)):(o.show(),n.show(),r.show(),this.select("paymentFormSelector").height(this.getPaymentFormHeight()),i.show(),e.css({"margin-top":20}),s.css({opacity:0}),i.css({"margin-top":-(i.height()+45)}),e.hide().height("auto")),this.attr.isShowingReceipt=!1},this.setPasswordPromptForAccountCreationInReceipt=function(){this.select("receiptCreateUserMsgSelector").text(I18n.t("js.enter_pwd_to_create_account_free"))},this.fillReceiptWithPurchaseDetails=function(t){this.select("userPurchaseIdSelector").val(t.id),this.select("parentIdSelector").val(t.id),t.name=this.attr.name,this.select("receiptEntriesSelector").html(a(t)+s(t)),this.attr.user.purchase.parent_id=t.id,t.is_following&&this.showFollowing(),this.attr.user.is_logged_in||this.attr.payingWithPayPal&&this.attr.implementationInUse==this.attr.PayPalImplementations.NATIVE?this.select("emailReceiptFormSelector").hide():t.account_by_this_email_exists&&(this.select("userAddPurchaseToExistingAccountSelector").val(!0),this.select("receiptCreateUserMsgSelector").text(I18n.t("js.add_to_library_prompt")),this.select("createAccountOrAddToLibraryButtonSelector").text(I18n.t("js.add_to_library_button_title")),this.select("emailReceiptFormSelector").show()),this.initializeAudioPlayer()},this.createAccountOrAddToLibrary=function(t){return t.preventDefault(),this.select("userAddPurchaseToExistingAccountSelector").val()?this.addPurchaseToLibrary():this.createAccount(),!1},this.addPurchaseToLibrary=function(){var t=this.select("createAccountOrAddToLibraryButtonSelector");t.data("default",t.text()),t.text(I18n.t("js.adding")),this.trigger("uiNeedsToAddPurchaseToLibrary",{permalink:this.attr.permalink,serializedForm:this.select("emailReceiptFormSelector").serialize()})},this.createAccount=function(){var t=this.select("createAccountOrAddToLibraryButtonSelector");this.select("userEmailSelector").val(this.select("emailSelector").val()),t.data("default",t.text()),t.text("..."),this.isCreditCardFormInUse()?this.getCardParams(function(t){this.createAccountWithCardParams(t.cardParams)}.bind(this)):this.createAccountWithCardParams({})},this.createAccountWithCardParams=function(t){var e=this.select("emailReceiptFormSelector").serialize()+"&"+$.param({user:t});this.trigger("uiNeedsToCreateAccount",{permalink:this.attr.permalink,serializedForm:e})},this.reloadPage=function(t,e){this.attr.preventReload||this.attr.permalink==e.permalink&&location.reload(!0)},this.showAccountCreationError=function(t,e){if(this.attr.permalink==e.permalink){var i=this.select("createAccountOrAddToLibraryButtonSelector");this.select("receiptCreateUserMsgSelector").text(e.message).addClass("error"),i.text(i.data("default"))}},this.redirectToLibrary=function(t,e){this.attr.permalink==e.permalink&&(window.location=e.redirect_location)},this.showAddToLibraryError=function(t,e){if(this.attr.permalink==e.permalink){var i=this.select("createAccountOrAddToLibraryButtonSelector");this.select("receiptCreateUserMsgSelector").text(e.message).addClass("error"),i.text(i.data("default"))}},this.updateSocialShareTextForProductBundle=function(t){var e=window.location.host+window.location.pathname,i=this.select("facebookSelector"),n=this.select("twitterSelector");if(this.attr.isOverlayPage&&(e=this.attr.overlayPageShareUrl||[window.location.host,"l",this.attr.productsInBundle[0].permalink].join("/")),i.data("url",e),2==t.length){var r=I18n.t("js.twitter_share_text_for_multi_buy.counting",{name:t[0],another_name:t[1],count:1,url:e});n.attr("href",this.getTwitterShareUrl(r))}else if(t.length>0){var r=I18n.t("js.twitter_share_text_for_multi_buy.counting",{name:t[0],count:t.length-1,url:e});n.attr("href",this.getTwitterShareUrl(r))}else n.hide(),i.hide()},this.showFollowing=function(){this.trigger("uiShowFollowing")},this.updateCustomText=function(t,e){if(e.text.length>0){var i=$("<div></div>").text(e.text).html();this.select("customTextSelector").html("<p>"+i.replace(/\n/g,"</p><p>")+"</p>"),this.select("customTextSelector").show()}else this.select("customTextSelector").hide();var n=this.select("receiptContainerSelector"),r=this.select("receiptSelector");n.height(r.height()+45).show(),this.select("paymentFormSelector").stop().animate({height:n.height()+45})},this.initializeModalShareURLs=function(){var t=this.select("receiptTwitterShareSelector"),e=this.select("receiptFacebookShareSelector"),i=this.getUrlParams().source_url;"undefined"!=typeof i&&t.length>0&&e.length>0&&(t.attr("href",t.attr("href").replace(/%20.*$/,"%20"+i)),e.attr("data-url",i))},this.hideReceiptWithoutAnimation=function(t){return t.preventDefault(),this.hideReceipt(!1),!1},this.showReceiptExample=function(t,e){return t.preventDefault(),this.select("receiptContainerSelector").fadeIn(),this.fillReceiptWithPurchaseDetails(e),this.attr.onUserProfile||this.trigger("uiSetTwitterSharingUrlForPurchase",{url:e.twitter_share_url,text:e.twitter_share_text}),this.attr.isShowingPaymentForm?this.showReceipt(!0):(this.showReceipt(!1),this.switchToPaymentForm(!0)),!1},this.updateReceiptHeight=function(){this.showReceipt(!1)},this.showMobileAppPopover=function(){this.select("productInformationSelector").hide(),this.select("previewContainerSelector").hide(),this.select("paymentFormSelector").css({overflow:"visible"}),this.select("productSelector").css({overflow:"visible"}),this.select("productMainSelector").css({overflow:"visible"}),this.select("receiptContainerSelector").css({overflow:"visible"})},this.hideMobileAppPopover=function(){this.select("productInformationSelector").show(),this.select("previewContainerSelector").show(),this.select("paymentFormSelector").css({overflow:"hidden"}),this.select("productSelector").css({overflow:"hidden"}),this.select("productMainSelector").css({overflow:"hidden"}),this.select("receiptContainerSelector").css({overflow:"hidden"})},this.setOverlayPageShareUrl=function(t,e){this.attr.isOverlayPage=!0,e.url&&(this.attr.overlayPageShareUrl=e.url)},this.after("initialize",function(){this.on(document,"dataAccount",this.reloadPage),this.on(document,"dataFailedToCreateAccount",this.showAccountCreationError),this.on(document,"dataPurchaseAddedToLibrary",this.redirectToLibrary),this.on(document,"dataFailedToAddPurchaseToLibrary",this.showAddToLibraryError),this.on(document,"uiUpdateReceiptCustomText",this.updateCustomText),this.on(document,"uiShowReceipt",this.showReceiptExample),this.on(document,"uiUpdateReceiptHeight",this.updateReceiptHeight),this.on(document,"uiHideReceipt",this.hideReceipt),this.on(document,"uiHideReceiptWithoutAnimation",this.hideReceiptWithoutAnimation),this.on(document,"uiNeedsToDisplayMobileAppPopover",this.showMobileAppPopover),this.on(document,"uiNeedsToHideMobileAppPopover",this.hideMobileAppPopover),this.on(document,"uiSetOverlayPageShareUrl",this.setOverlayPageShareUrl),this.on("click",{createAccountOrAddToLibraryButtonSelector:this.createAccountOrAddToLibrary}),this.attr.isModal&&this.initializeModalShareURLs()})}return o}),define("$app/ui/product/with_subscription",[],function(){function t(){this.defaultAttrs({subscriptionNoticeSelector:".subscription-notice",passwordSelector:".password",passwordPSelector:".js-password-p"}),this.setSubscriptionNotice=function(){var t=this.select("subscriptionNoticeSelector");t.find("strong").text(t.data("logged-in-notice"))},this.checkIfReadyToSubscribe=function(){var t=this.select("passwordSelector");if(0!=t.length){var e=this.select("emailSelector").val().length>0&&t.val().length>0;e?this.makeCreditCardUsable():this.makeCreditCardNotUsable()}},this.after("initialize",function(){this.on("keyup",{emailSelector:this.checkIfReadyToSubscribe,passwordSelector:this.checkIfReadyToSubscribe})})}return t}),define("$app/ui/product/with_quantity",[],function(){function t(){this.defaultAttrs({decreaseQuantitySelector:".js-decrease-quantity-trigger",increaseQuantitySelector:".js-increase-quantity-trigger",quantityIndicatorSelector:".js-quantity-indicator",quantitySelector:".js-quantity-selector",quantityInputSelector:".js-quantity",quantity:1}),this.decreaseQuantity=function(t){return t.preventDefault(),this.attr.quantity>1&&this.attr.quantity--,this.updateQuantityUI(),!1},this.increaseQuantity=function(t){return t.preventDefault(),this.allowIncreasingOfQuantity()&&this.attr.quantity++,this.updateQuantityUI(),!1},this.validateProductQuantity=function(){return!this.attr.user.product.remaining||this.attr.quantity<=this.attr.user.product.remaining},this.validateVariantQuantity=function(){if(this.select("variantSelector").length){var t=this.select("variantSelector").find(":selected").data("quantity-left");return!t||this.attr.quantity<=t}return!0},this.allowIncreasingOfQuantity=function(){var t=this.select("variantSelector").find(":selected").data("quantity-left");return this.attr.user.product.remaining&&this.attr.quantity==this.attr.user.product.remaining?!1:t&&this.attr.quantity==t?!1:!0},this.validateQuantity=function(){return 0==this.select("quantitySelector").length?!0:this.validateProductQuantity()&&this.validateVariantQuantity()?!0:(this.select("quantitySelector").addClass("error"),this.select("quantityIndicatorSelector").addClass("error"),this.trigger("uiShowFlashMessage",{message:I18n.t("js.exceeding_quantity")}),!1)},this.updateQuantityUI=function(){this.resetQuantityButtonsAndLabels(),this.select("quantityInputSelector").val(this.attr.quantity),this.select("quantityIndicatorSelector").text(this.attr.quantity),1==this.attr.quantity&&this.select("decreaseQuantitySelector").addClass("disabled"),this.allowIncreasingOfQuantity()||this.select("increaseQuantitySelector").addClass("disabled"),this.setPrice()},this.resetQuantityUI=function(){this.attr.quantity=1,this.updateQuantityUI()},this.resetQuantityButtonsAndLabels=function(){this.select("quantitySelector").removeClass("error"),this.select("quantityIndicatorSelector").removeClass("error"),this.select("decreaseQuantitySelector").removeClass("disabled"),this.select("increaseQuantitySelector").removeClass("disabled")},this.after("initialize",function(){this.on(document,"uiShouldResetQuantityUI",this.resetQuantityUI),this.on("click",{decreaseQuantitySelector:this.decreaseQuantity,increaseQuantitySelector:this.increaseQuantity})})}return t}),define("hbs!$app/templates/variant_category",["hbs","hbs/handlebars"],function(t,e){var i=e.template({1:function(t,e,i,n){var r;return"<option disabled selected>"+this.escapeExpression((r=null!=(r=e.name||(null!=t?t.name:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"name",hash:{},data:n}):r))+"</option>"},3:function(t,e,i,n){var r;return null!=(r=e["if"].call(t,null!=t?t.sold_out:t,{
name:"if",hash:{},fn:this.program(4,n,0),inverse:this.program(6,n,0),data:n}))?r:""},4:function(t,e,i,n){var r;return'      <option disabled class="disabled">'+this.escapeExpression((r=null!=(r=e.displayable||(null!=t?t.displayable:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"displayable",hash:{},data:n}):r))+"</option>\n"},6:function(t,e,i,n){var r;return'      <option data-price-offset-cents="'+this.escapeExpression((r=null!=(r=e.price_difference_cents||(null!=t?t.price_difference_cents:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"price_difference_cents",hash:{},data:n}):r))+'" data-price-offset="'+this.escapeExpression((r=null!=(r=e.price_difference_in_currency_units||(null!=t?t.price_difference_in_currency_units:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"price_difference_in_currency_units",hash:{},data:n}):r))+'" data-quantity-left="'+this.escapeExpression((r=null!=(r=e.quantity_left||(null!=t?t.quantity_left:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"quantity_left",hash:{},data:n}):r))+'" value="'+this.escapeExpression((r=null!=(r=e.id||(null!=t?t.id:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"id",hash:{},data:n}):r))+'">'+this.escapeExpression((r=null!=(r=e.displayable||(null!=t?t.displayable:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"displayable",hash:{},data:n}):r))+"</option>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r,a;return'<select class="variant js-variant appearance-none required" data-var="'+this.escapeExpression((a=null!=(a=e.i||(null!=t?t.i:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"i",hash:{},data:n}):a))+'" name="variants['+this.escapeExpression((a=null!=(a=e.i||(null!=t?t.i:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"i",hash:{},data:n}):a))+']">\n  '+(null!=(r=e["if"].call(t,null!=t?t.name:t,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:"")+"\n"+(null!=(r=e.each.call(t,null!=t?t.options:t,{name:"each",hash:{},fn:this.program(3,n,0),inverse:this.noop,data:n}))?r:"")+"</select>\n"},useData:!0});return e.registerPartial("$app/templates/variant_category",i),i}),define("$app/ui/product/with_variants",["hbs!$app/templates/variant_category"],function(t){function e(){this.defaultAttrs({variantSelectionSelector:".js-variant-selection",variantSelector:".js-variant",selectedPriceChanges:[]}),this.setVariants=function(){if(this.attr.user.product.variants){if(this.select("variantSelector").remove(),this.attr.user.product.variants.skus&&this.attr.user.product.variants.skus.length>0){var e={name:this.attr.user.product.variants.skus_title,options:this.attr.user.product.variants.skus,i:0},i=t(e),n=this.select("variantSelectionSelector");n.append(i)}else $.each(this.attr.user.product.variants.categories,function(e,i){var n=t(i),r=this.select("variantSelectionSelector");r.append(n)}.bind(this));this.attr.variantSelectionRequired&&(this.select("variantSelector").addClass("error"),delete this.attr.variantSelectionRequired);var r=this.select("variantSelector").find(":selected");r.length>0&&(this.attr.selectedPriceChanges[r.parent().data("var")]=[r.data("price-offset"),r.data("price-offset-cents")]),this.attr.variantsHaveBeenShown=!0,this.setPrice()}},this.updateVariantSelection=function(t){var e=$(t.target||t.srcElement);e.removeClass("error"),this.updateSelectedPriceChanges(e),this.setPrice(),this.trigger("uiShouldResetQuantityUI")},this.updateSelectedPriceChanges=function(t){this.attr.selectedPriceChanges[t.data("var")]=[t.find(":selected").data("price-offset"),t.find(":selected").data("price-offset-cents")]},this.after("initialize",function(){this.on("change",{variantSelector:this.updateVariantSelection})})}return e}),define("$app/ui/product/with_click_event_tracking",[],function(){function t(){this.defaultAttrs({trackProductClickEventSelector:".js-track-product-click-event"}),this.trackProductClickEvent=function(t){this.trigger("uiNeedsToTrackProductSpecificEvent",{name:$(t.target).data("product-event-name"),permalink:this.attr.permalink})},this.after("initialize",function(){this.on("click",{trackProductClickEventSelector:this.trackProductClickEvent})})}return t}),define("$app/ui/shared/with_video_player",["jwplayer"],function(t){function e(){this.defaultAttrs({videoPlayerContainerSelector:".js-video-player-container",videoPlayerSelector:".js-video-player-container .js-player",fakeVideoUrlGuidForObfuscation:"ef64f2fef0d6c776a337050020423fc0"}),this.stopVideo=function(e){this.attr.videoPlayerName&&"stopPreviews"==e.data&&t(this.attr.videoPlayerName).pause(!0)},this.initializeVideoPlayer=function(e){var i=this.select("videoPlayerContainerSelector");if(i.data("url")&&""!==i.data("url")){this.attr.videoPlayerName=this.select("videoPlayerSelector").attr("id");var n=i.data("url"),r=i.data("guid"),a={width:e&&e.width?e.width:"100%",height:e&&e.height?e.height:"100%"};n=n.replace(this.attr.fakeVideoUrlGuidForObfuscation,r),i.data("smil-url")?(a.playlist=[{sources:[{file:i.data("smil-url")},{file:n}]}],a.rtmp={bufferlength:4}):i.data("playlist-url")?a.playlist=[{sources:[{file:i.data("playlist-url")},{file:n}],tracks:i.data("subtitle-urls")}]:a.file=n,t(this.attr.videoPlayerName).setup(a)}},this.after("initialize",function(){window.addEventListener?window.addEventListener("message",this.stopVideo.bind(this)):window.attachEvent("message",this.stopVideo.bind(this))})}return e}),define("hbs!$app/templates/preview",["hbs","hbs/handlebars","./helpers/t"],function(t,e){var i=e.template({1:function(t,e,i,n){var r;return'  <div class="audio-preview-container">\n    <div class="audio-player js-audio-player">\n      <div class="player" data-url="'+this.escapeExpression((r=null!=(r=e.url||(null!=t?t.url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"url",hash:{},data:n}):r))+'"></div>\n      <a class="play-button media-control jp-play">'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"play",{name:"t",hash:{},data:n}))+'</a>\n      <a class="pause-button media-control jp-pause">'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"pause",{name:"t",hash:{},data:n}))+'</a>\n      <div class="audio-progress">\n        <svg height="80" version="1.1" width="80" xmlns="http://www.w3.org/2000/svg">\n          <path class="circle-progress" d="M 40 3 a 37 37 0 0 1 0 0" fill="none" opacity="1" stroke-width="5" stroke="#aaa" style="opacity: 1;"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n'},3:function(t,e,i,n){var r,a;return'  <div class="image-preview-container">\n    <img class="preview" src="'+this.escapeExpression((a=null!=(a=e.url||(null!=t?t.url:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"url",hash:{},data:n}):a))+'" itemprop="image"'+(null!=(r=e["if"].call(t,null!=t?t.width:t,{name:"if",hash:{},fn:this.program(4,n,0),inverse:this.noop,data:n}))?r:"")+"></img>\n  </div>\n"},4:function(t,e,i,n){var r;return' style="max-width: '+this.escapeExpression((r=null!=(r=e.width||(null!=t?t.width:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"width",hash:{},data:n}):r))+'px;"'},6:function(t,e,i,n){var r;return'  <div class="oembed-preview-container">\n    <iframe class="js-oembed-iframe" width="'+this.escapeExpression((r=null!=(r=e.width||(null!=t?t.width:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"width",hash:{},data:n}):r))+'" height="'+this.escapeExpression((r=null!=(r=e.height||(null!=t?t.height:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"height",hash:{},data:n}):r))+'" data-oembed-url="'+this.escapeExpression((r=null!=(r=e.url||(null!=t?t.url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"url",hash:{},data:n}):r))+'" allowfullscreen="true" frameborder="0"></iframe>\n  </div>\n'},8:function(t,e,i,n){var r;return'  <div class="video-preview-container js-video-player-container" data-url="'+this.escapeExpression((r=null!=(r=e.url||(null!=t?t.url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"url",hash:{},data:n}):r))+'" data-width="'+this.escapeExpression((r=null!=(r=e.width||(null!=t?t.width:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"width",hash:{},data:n}):r))+'" data-height="'+this.escapeExpression((r=null!=(r=e.height||(null!=t?t.height:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"height",hash:{},data:n}):r))+'">\n    <div id="video-player" class="js-player"></div>\n  </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return(null!=(r=e["if"].call(t,null!=t?t.audio_preview:t,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:"")+"\n"+(null!=(r=e["if"].call(t,null!=t?t.image_preview:t,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.noop,data:n}))?r:"")+"\n"+(null!=(r=e["if"].call(t,null!=t?t.oembed_preview:t,{name:"if",hash:{},fn:this.program(6,n,0),inverse:this.noop,data:n}))?r:"")+"\n"+(null!=(r=e["if"].call(t,null!=t?t.video_preview:t,{name:"if",hash:{},fn:this.program(8,n,0),inverse:this.noop,data:n}))?r:"")},useData:!0});return e.registerPartial("$app/templates/preview",i),i}),function(){define("$app/ui/shared/with_preview",["flight/lib/compose","hbs!$app/templates/preview","$app/ui/shared/with_audio_player","$app/ui/shared/with_video_player","$app/templates/helpers/t"],function(t,e,i,n){function r(){t.mixin(this,[i,n]),this.defaultAttrs({defaultImageWidth:1005,iframeSelector:".js-oembed-iframe",multiPreviewContainerSelector:".js-preview-container",previewArrowSelector:".js-preview-arrow",previewArrowVisibleSelector:".js-preview-arrow.showing",previewContentSelector:".js-preview-content",previewImageSelector:"img.preview",previewPickerSelector:".js-preview-picker",previewPickerItemSelector:".js-preview-picker-item"}),this.addOrientationChangeListeners=function(){this.attr.isMobile&&$.each(["portrait","landscape"],function(t,e){window.matchMedia("(orientation: "+e+")").addListener(function(t){t.matches&&this.showPreview()}.bind(this))}.bind(this))},this.getDimensions=function(){var t=this.$node.parent().width()/this.attr.activePreview.native_width,e={width:this.attr.activePreview.width,height:this.attr.activePreview.height};return 1>t&&this.attr.activePreview&&!this.attr.isFixedHeight&&(e.width=this.attr.activePreview.native_width*t,e.height=this.attr.activePreview.native_height*t),e},this.initializePreviewMediaPlayer=function(){this.attr.activePreview&&("audio"===this.attr.activePreview.type?this.initializePlayer():"video"===this.attr.activePreview.type&&this.initializeVideoPlayer({height:this.select("multiPreviewContainerSelector").height(),width:this.select("multiPreviewContainerSelector").width()}))},this.initializePreview=function(){this.attr.activePreviewId=this.select("multiPreviewContainerSelector").data("active-preview-id"),this.attr.productPermalink=this.select("multiPreviewContainerSelector").data("product-permalink"),this.attr.assetPreviews=this.select("multiPreviewContainerSelector").data("asset-previews"),this.setActivePreview(),this.attr.activePreview&&this.showPreview()},this.keyAction=function(t){!$(t.target).filter("input, [data-medium-element]").length&&this.attr.onProductPage&&(37===t.which&&this.attr.activePreviewIndex>0?(this.attr.activePreviewId=this.attr.assetPreviews[this.attr.activePreviewIndex-1].id,this.showPreview()):39===t.which&&this.attr.activePreviewIndex<this.attr.assetPreviews.length-1&&(this.attr.activePreviewId=this.attr.assetPreviews[this.attr.activePreviewIndex+1].id,this.showPreview()))},this.pauseVideo=function(){this.toggleVideo(!1)},this.playVideo=function(){this.toggleVideo(!0)},this.populateOembedUrl=function(){var t=this.select("previewContentSelector").find("iframe");t.data("oembed-url")&&!t.attr("src")&&t.attr("src",t.data("oembed-url"))},this.populatePreview=function(){if(!this.attr.activePreviewId)return void this.select("multiPreviewContainerSelector").css({background:"",height:""}).addClass("default-preview");this.select("multiPreviewContainerSelector").removeClass("default-preview"),$(".product.popped .preview-container").css({height:""});var t=this.getDimensions(),i={width:"auto",height:"auto"},n="",r=this.$node.width()>this.attr.defaultImageWidth?this.attr.activePreview.original_url:this.attr.activePreview.url;"image"===this.attr.activePreview.type&&this.attr.isImageAsBackground?(i=$.extend(i,{"background-repeat":"no-repeat","background-position":"top center","background-image":"url("+r+")","background-size":"cover"}),this.attr.isMobile&&$.extend(i,t),(this.attr.isFixedHeight||this.$node.parents(".gridster").length)&&$.extend(i,{width:"100%",height:"100%"})):(i.background="","image"===this.attr.activePreview.type&&(i.height=t.height),this.attr.isContainerBound&&(t={width:"100%",height:"100%"},$.extend(i,t)),n=e($.extend({},this.attr.activePreview,t))),this.select("previewContentSelector").html(n),this.select("multiPreviewContainerSelector").css(i),"image"!==this.attr.activePreview.type||this.attr.isOverlayPage||$(".product.popped .preview-container").css({height:this.attr.activePreview.height}),this.readyPreview()},this.populatePreviewFlipper=function(){if(!this.attr.assetPreviews||this.attr.assetPreviews.length<=1||this.select("previewArrowSelector").length<1)return void this.select("previewArrowSelector").removeClass("showing");var t=this.select("previewArrowSelector").filter(".previous"),e=this.select("previewArrowSelector").filter(".next");0===this.attr.activePreviewIndex?t.removeClass("showing").removeData("asset-preview-id"):t.addClass("showing").data("asset-preview-id",this.attr.assetPreviews[this.attr.activePreviewIndex-1].id),this.attr.activePreviewIndex>=this.attr.assetPreviews.length-1?e.removeClass("showing").removeData("asset-preview-id"):e.addClass("showing").data("asset-preview-id",this.attr.assetPreviews[this.attr.activePreviewIndex+1].id)},this.populatePreviewPicker=function(){var t=this.select("previewPickerSelector");t.addClass("empty").empty(),t.length&&($.each(this.attr.assetPreviews,function(t,e){var i=$("<li>",{"class":"js-preview-picker-item","data-asset-preview-id":e.id});e.id===this.attr.activePreviewId&&i.addClass("active"),this.select("previewPickerSelector").append(i)}.bind(this)),this.attr.assetPreviews.length>1&&(t.removeClass("empty").show(),this.select("multiPreviewContainerSelector").addClass("has-multiple-previews")))},this.readyPreview=function(){this.initializePreviewMediaPlayer(),this.populatePreviewPicker(),this.populatePreviewFlipper(),this.updateCurrentProductPageTabHeight(),this.populateOembedUrl()},this.selectPreview=function(t,e){t&&t.stopPropagation(),this.attr.activePreviewId=$(e.el).data("asset-preview-id"),this.showPreview()},this.setActivePreview=function(){delete this.attr.activePreviewIndex,delete this.attr.activePreview,this.attr.assetPreviews&&$.each(this.attr.assetPreviews,function(t,e){return e.id===this.attr.activePreviewId?(this.attr.activePreviewIndex=t,this.attr.activePreview=e,this.attr.activePreview[this.attr.activePreview.type+"_preview"]=!0,!1):void 0}.bind(this))},this.showPreview=function(t,e){if(e){if(e.updatedPermalink&&e.updatedPermalink!==this.attr.productPermalink)return;this.attr.activePreviewId=e.active_preview_id,this.attr.assetPreviews=e.asset_previews}this.select("multiPreviewContainerSelector").removeClass("uploading"),this.select("uploadURLInputSelector").val(""),this.setActivePreview(),this.populatePreview(),this.updateCurrentProductPageTabHeight()},this.toggleVideo=function(t){var e=this.select("iframeSelector")[0],i=null;e&&(e.src.match(/vimeo/)?i={method:t?"play":"pause"}:e.src.match(/youtube/)&&(i={event:"command",func:t?"playVideo":"pauseVideo",args:""}),i&&e.contentWindow.postMessage(JSON.stringify(i),"*"))},this.updateCurrentProductPageTabHeight=function(){this.trigger("uiUpdateCurrentProductPageTabHeight")},this.after("initialize",function(){this.attr.onProductPage=this.$node.parents("form#edit-link-form, body#product_page").length>0,this.attr.isFixedHeight=this.select("multiPreviewContainerSelector").hasClass("js-fixed-preview-height"),this.attr.isImageAsBackground=this.$node.hasClass("image-as-background"),this.attr.isOverlayPage=this.$node.parents("#overlay-page").length>0,this.attr.isContainerBound=this.$node.parents(".gridster").length>0||this.$node.parents("#download-page").length>0,this.on("click",{previewArrowVisibleSelector:this.selectPreview,previewPickerItemSelector:this.selectPreview}),this.on(document,"keydown",this.keyAction),this.on(document,"showPreview",this.showPreview),this.on(document,"uiNeedsToPauseVideo",this.pauseVideo),this.addOrientationChangeListeners(),this.initializePreview()})}return r})}(),define("$app/ui/product/product",["flight/lib/component","$app/ui/product/with_product_main","$app/ui/product/with_payment_form","$app/ui/product/with_facebook_login","$app/ui/product/with_payment_blurb","$app/ui/product/with_multi_buy","$app/ui/product/with_offer_code","$app/ui/product/with_price","$app/ui/product/with_receipt","$app/ui/product/with_subscription","$app/ui/product/with_quantity","$app/ui/product/with_variants","$app/ui/product/with_click_event_tracking","$app/ui/shared/with_audio_player","$app/ui/shared/with_video_player","$app/ui/shared/with_preview","$app/utils/with_url"],function(t,e,i,n,r,a,s,o,l,d,c,u,h,p,f,m,g){function v(){this.defaultAttrs({productSelector:".product",isShowingPaymentForm:!1,isCurrentUserSet:!1,isCustomerSurchargeSet:!1,slideAnimationSpeed:400,isProductDisabled:!1,hasViewIncremented:!1,isMobile:!1,isModal:!1,isEmbed:!1,isOutboundEmbed:!1,incrementViewCountOnInit:!1,onUserProfile:!1,onProductPage:!1,isDemo:!1,wasProductRecommended:!1}),this.switchToPaymentForm=function(t){t=t&&!this.attr.isMobile;var e=t?"animate":"css",i=this.getPaymentFormHeight(),n=function(){this.attr.isAnimatingPaymentForm=!1}.bind(this);t&&(this.attr.isAnimatingPaymentForm=!0),this.updateDefaultHeight(),this.select("productMainSelector")[e]({height:0},this.attr.slideAnimationSpeed),this.select("paymentFormSelector")[e]({height:i},this.attr.slideAnimationSpeed,null,n),this.attr.isShowingPaymentForm=!0,this.trigger("uiPaymentFormShown")},this.switchToProductMain=function(t){var e=t&&!this.attr.isMobile?"animate":"css",i=this.select("productMainSelector").height(),n=this.select("productMainSelector");n.css("height","auto");var r=n.height();this.attr.defaultProductMainHeight=r,this.updateDefaultHeight(),this.select("paymentFormSelector")[e]({height:0},this.attr.slideAnimationSpeed),this.select("productMainSelector").height(i),n[e]({height:r},{duration:this.attr.slideAnimationSpeed,complete:function(){n.css("height","auto").removeAttr("height")}}),this.attr.isShowingPaymentForm=!1,this.trigger("uiProductMainShown")},this.animatePaymentFormHeight=function(t,e){this.attr.isShowingPaymentForm&&this.switchToPaymentForm(e.animate)},this.setCustomerSurcharge=function(){this.attr.isCustomerSurchargeSet=!0,this.triggerPaymentFormIfWanted()},this.setOverlayOfferCode=function(){var t=this.attr.user&&this.attr.user.product&&this.attr.user.product.offer_code;if(this.attr.overlayOfferCode&&t&&t.is_valid){var e=$.extend({name:this.attr.overlayOfferCode,offer_code_amount:t.amount,permalink:this.attr.permalink,success:!0},t);this.trigger("uiNeedsToAddOfferCodeToBundle",e)}},this.setOverlayUrlParams=function(){this.attr.overlayUrlParams&&this.trigger("uiUpdateUrlParameters",this.attr.overlayUrlParams)},this.setCurrentUserInfo=function(t,e){this.attr.permalink===e.permalink&&(this.attr.user=e,this.setOfferCode(),this.setOverlayOfferCode(),this.setOverlayUrlParams(),this.attr.isCurrentUserSet||(this.setRemaining(),this.setTerritoryBlockedNotice(),this.setCreditCard(),this.setPreviewProcessing(),this.setLoginInfo(),this.setShippingInfo(),this.setVariants(),this.setReceipt(),this.setEmail(),this.setAlreadyBought(),this.attr.isCurrentUserSet=!0),this.attr.canGift&&this.getUrlParams().gift&&this.showGiftInputs(),this.triggerPaymentOptionUpdate(),this.triggerPaymentFormIfWanted())},this.triggerPaymentFormIfWanted=function(){!this.attr.wantThis&&!this.getUrlParams().wanted||this.attr.user.purchase.redirect_token||this.attr.isProductDisabled||!this.attr.isCustomerSurchargeSet||!this.attr.isCurrentUserSet||this.attr.onUserProfile||(this.showPaymentFormIfPossible(null,!1),this.attr.wantThis=!1)},this.triggerPaymentOptionUpdate=function(){this.attr.isRecurringBilling&&$.each(["monthy","quarterly","biannually","yearly"],function(t,e){(this.attr.overlayPaymentOption===e||this.getUrlParams()[e])&&this.updatePaymentOptionSelection(e)}.bind(this))},this.incrementViewCountIfNotDoneYet=function(){this.attr.hasViewIncremented||(this.trigger("uiNeedsToTrackViewEvent",{permalink:this.attr.permalink,wasProductRecommended:!!this.attr.wasProductRecommended,recommendedBy:this.attr.recommendedBy}),this.attr.hasViewIncremented=!0)},this.setPayButtonText=function(){var t=this.attr.isRentalModeActive?I18n.t("js.rent_prompt"):I18n.t("js.pay_prompt");this.select("payButtonSelector").text(t),this.select("payButtonSelector").data("default",t)},this.initializeProduct=function(){if(this.attr.onUserProfile||(this.setCardSaveRequired(this.productNeedsCardSaved()),this.trigger("uiSetPermalinkForSharing",{permalink:this.attr.permalink})),this.$node.data("product-info")){var t=this.$node.data("product-info");t.permalink=this.attr.permalink,this.setCurrentUserInfo({},t)}else this.trigger("uiNeedsToGetCurrentUserInfo",{permalink:this.attr.permalink,offerCodeName:this.attr.offerCodeName});this.attr.incrementViewCountOnInit&&this.incrementViewCountIfNotDoneYet()},this.productNeedsCardSaved=function(){return this.attr.isRecurringBilling||this.attr.isPreorder},this.teardownProduct=function(){this.teardown()},this.triggerECommerceView=function(){this.trigger("uiNeedsToTrackECommerceView",{externalId:this.attr.externalId,name:this.attr.name,vertical:this.attr.vertical,price:this.attr.priceCents,currency:this.attr.currency})},this.checkRetargeting=function(){this.attr.retargetingEnabled&&(this.trigger("uiNeedsToEnableRetargeting"),this.attr.onProductPage&&this.triggerECommerceView())},this.determineRecommendedValues=function(){this.attr.recommendedBy?this.attr.wasProductRecommended=!0:this.getUrlParams().recommended_by?(this.attr.wasProductRecommended=!0,this.attr.recommendedBy=this.getUrlParams().recommended_by.match(/[a-zA-Z]+/)[0]):this.attr.overlayRecommendedBy&&(this.attr.wasProductRecommended=!0,this.attr.recommendedBy=this.attr.overlayRecommendedBy)},this.setupGoogleAnalytics=function(){var t=this.select("productSelector").data("seller-google-analytics-id"),e=this.select("productSelector").data("seller-google-analytics-cross-domains");t&&(this.trigger("uiNeedsToStartTrackingForSellerGoogleAnalytics",{googleAnalyticsId:t,googleAnalyticsCrossDomains:e}),(this.attr.onProductPage||this.attr.onOverlayPage)&&this.trigger("uiNeedsToTrackActivityWithSellerGoogleAnalytics",{permalink:this.attr.permalink,action:"viewed"}))},this.after("initialize",function(){this.determineRecommendedValues(),this.attr.onOverlayPage=this.$node.parents("body#overlay-page").length>0,this.attr.user={product:{offer_code:{}},purchase:{}},this.attr.permalink=this.select("productSelector").data("unique-permalink"),this.attr.externalId=this.select("productSelector").data("external-id"),this.attr.name=this.select("productSelector").data("name"),this.attr.isPayWhatYouWant=1==this.select("priceRangeSelector").length,this.attr.offerCodeName=this.attr.overlayOfferCode||this.getOfferCodeNameFromUrl(),this.attr.offerCodeUsed=!!this.attr.offerCodeName,this.attr.shippingCents=0,this.attr.isSingleUnit=this.select("priceSelector").data("single-unit"),this.attr.hasVariants=!!this.select("productSelector").data("has-variants"),this.attr.hasOfferCodeField=this.select("offerCodeFieldSelector").length>0,this.attr.isPreorder=!!this.select("productSelector").data("is-preorder"),this.attr.isPhysical=!!this.select("productSelector").data("is-physical"),this.attr.isRecurringBilling=this.select("productSelector").data("subscription"),this.attr.shippingInfoRequired=this.select("productSelector").data("shipping-info-required"),this.attr.priceCents=parseInt(this.select("productSelector").data("price-cents")),this.attr.currency=this.select("productSelector").data("currency"),this.attr.price=this.attr.isSingleUnit?this.attr.priceCents:this.attr.priceCents/100,this.attr.purchaseType=this.select("productSelector").data("purchase-type"),this.attr.isRentalModeActive="rent_only"===this.attr.purchaseType,this.attr.exchangeRate=this.select("productSelector").data("exchange-rate"),this.attr.isProductDisabled=this.select("notForSaleNoticeSelector").is(":visible"),this.attr.zeroPlusEnabled=0==parseFloat(this.select("priceRangeSelector").data("min-price")),this.attr.isTaxedExclusively=!!this.select("productSelector").data("taxed-exclusively"),this.attr.sellerId=this.select("productSelector").data("seller-id"),this.attr.retargetingEnabled=this.select("productSelector").data("retargeting"),this.attr.vertical=this.select("productSelector").data("vertical"),this.attr.customFields=this.select("productSelector").data("custom-fields"),"buy_only"!==this.attr.purchaseType&&(this.attr.rentalPriceCents=parseInt(this.select("productSelector").data("rental-price-cents")),this.attr.rentalPrice=this.attr.isSingleUnit?this.attr.rentalPriceCents:this.attr.rentalPriceCents/100),this.attr.isRecurringBilling&&(this.attr.selectedPriceInfo=this.select("productSelector").data("selected-price-info")),this.setupGoogleAnalytics(),this.checkRetargeting(),this.on(document,"uiTeardownProductComponent",this.teardownProduct),this.on(document,"dataCurrentUserInfo",this.setCurrentUserInfo),this.on(document,"dataCustomerSurcharge",this.setCustomerSurcharge),this.on(document,"uiAnimatePaymentFormHeight",this.animatePaymentFormHeight),this.on(document,"uiCheckRetargeting",this.checkRetargeting),this.on(document,"uiTriggerECommerceView",this.triggerECommerceView),this.initializeProduct(),this.initializeAudioPlayer(),this.initializeVideoPlayer()})}return t(v,e,i,n,r,a,s,o,l,d,c,u,h,p,f,m,g)}),define("$app/ui/product/recommendations",["flight/lib/component","$app/ui/product/product"],function(t,e){function i(){this.defaultAttrs({recommendedBlurbContainerSelector:".js-recommendations-container",productsListSelector:".js-recommendations-list"}),this.showRecommendationsWithDelay=function(t,e){setTimeout(function(){this.$node.addClass("showing-recommendations"),this.showRecommendations(e)}.bind(this),3e3)},this.showRecommendations=function(t){if(this.attr.productPreviews=t.product_previews,0!=this.attr.productPreviews.length){for(var e=0;e<this.attr.productPreviews.length;e++){var i=$('<li class="product-row">'+this.attr.productPreviews[e]+"</li>");this.select("productsListSelector").append(i)}this.select("recommendedBlurbContainerSelector").addClass("showing"),this.trigger("uiNeedsToShowBuyerMenu"),this.select("productsListSelector").show()}},this.after("initialize",function(){this.on(document,"dataRecommendedProducts",this.showRecommendationsWithDelay)})}return t(i)}),define("$app/ui/shared/with_follow",[],function(){function t(){this.defaultAttrs({followUserContainerSelector:".js-follow-container",followUserOneClickButtonSelector:".js-follow-user-one-click-trigger",followUserFormSelector:".js-follow-user-form",followUserEmailSelector:".js-follow-user-email",followUserButtonSelector:".js-follow-user-trigger",followUserSpinnerSelector:".js-follow-spinner-button",unfollowUserButtonSelector:".js-unfollow-user-trigger",checkHTML:'<i class="gi gi-check"></i>'}),this.followUser=function(t){return t.preventDefault(),this.select("followUserOneClickButtonSelector").is(":visible")?(this.select("followUserOneClickButtonSelector").text(I18n.t("js.following_creator")),this.trigger("uiNeedsToFollowUser",{seller_id:this.$node.data("user-id")})):this.select("followUserFormSelector").length&&this.validateForm(this.select("followUserFormSelector"))?(this.select("followUserButtonSelector").hide(),this.select("followUserSpinnerSelector").removeClass("hidden"),this.trigger("uiNeedsToFollowUser",{email:this.select("followUserEmailSelector").val(),seller_id:this.$node.data("user-id")})):(this.select("followUserFormSelector").removeClass("shake"),setTimeout(function(){this.select("followUserFormSelector").addClass("shake")}.bind(this),0)),!1},this.unfollowUser=function(t){return t.preventDefault(),this.select("unfollowUserButtonSelector").text(I18n.t("js.unfollowing")+"..."),this.trigger("uiNeedsToUnfollowUser",{follower_id:this.select("unfollowUserButtonSelector").data("follower-id")}),!1},this.showUnfollowing=function(t,e){var i=this.select("unfollowUserButtonSelector");e.id==i.data("follower-id")&&i.html(this.attr.checkHTML).addClass("done").prop("disabled",!0)},this.showFollowing=function(){this.select("followUserOneClickButtonSelector").is(":visible")?this.select("followUserOneClickButtonSelector").html(this.attr.checkHTML).addClass("done").prop("disabled",!0):(this.select("followUserSpinnerSelector").html(this.attr.checkHTML).prop("disabled",!0),this.select("followUserFormSelector").addClass("done"))},this.updateFollowCallToAction=function(t,e){this.select("followUserButtonSelector").text(I18n.t("js."+e.follow_call_to_action))},this.after("initialize",function(){this.on("click",{followUserButtonSelector:this.followUser,followUserOneClickButtonSelector:this.followUser,unfollowUserButtonSelector:this.unfollowUser}),this.on(document,"uiShowFollowing",this.showFollowing),this.on(document,"uiShowUnfollowing",this.showUnfollowing),this.on(document,"uiShouldUpdateFollowCallToAction",this.updateFollowCallToAction)})}return t}),define("$app/ui/product/seller",["flight/lib/component","$app/ui/shared/with_follow","$app/ui/shared/with_form_base"],function(t,e,i){function n(){this.showFollowForm=function(t,e){e.card&&"test"===e.card.credit||(e.email?this.select("followUserButtonSelector").data("email",e.email).show():(this.select("followUserFormSelector").show(),this.select("followUserOneClickButtonSelector").hide()),this.select("followUserContainerSelector").show())},this.showFollowState=function(t,e){e.is_following&&this.showFollowing()},this.after("initialize",function(){this.on(document,"uiShowFollowing",this.showFollowing),this.on(document,"uiShowUnfollowing",this.showUnfollowing),this.on(document,"uishowFollowForm",this.showFollowForm),this.on(document,"dataCurrentUserInfo",this.showFollowForm),this.on(document,"dataCurrentUserInfo",this.showFollowState)})}return t(n,e,i)}),define("$app/ui/product/embed",["flight/lib/component","$app/utils/with_url"],function(t,e){function i(){this.defaultAttrs({poweredByFooterSelector:".js-powered-by-footer",productSelector:".js-product",iFrameVerticalSpacing:50,resizeInterval:10}),this.scrollToTopOfEmbed=function(){this.sendMessage("scrollToTop")},this.sendMessage=function(t,e){if("undefined"==typeof e&&(e={}),!this.attr.messagedHeight||this.attr.messagedHeight!==e.height){e.id=this.select("productSelector").data("general-permalink");var i=this.select("productSelector").data("unique-permalink");i!==e.id&&(e.unique_id=i);var n=JSON.stringify({type:"GumroadEmbedMessage",action:t,args:e});window.parent.postMessage(n,"*"),"setHeight"===t&&(this.attr.messagedHeight=e.height)}},this.startResizer=function(){var t=this.select("productSelector"),e=this.select("poweredByFooterSelector").outerHeight();this.resizeTimer=setInterval(function(){if(!t.is(":animated")){var i=t.outerHeight()+e+this.attr.iFrameVerticalSpacing;this.sendMessage("setHeight",{height:i+"px"})}}.bind(this),this.attr.resizeInterval)},this.after("initialize",function(){this.$node.addClass("is-embed"),this.on(document,"uiScrollToTopOfEmbed",this.scrollToTopOfEmbed),this.startResizer()})}return t(i,e)}),define("$app/ui/product/modal",["flight/lib/component"],function(t){function e(){this.defaultAttrs({isModalSelector:".is_modal",productSelector:".js-main-product-row",loginSelector:"#login",authModalsSelector:".gr-modal"}),this.closeIfBackgroundIsClicked=function(t){var e=this.select("productSelector"),i=this.select("loginSelector"),n=this.select("authModalsSelector");if(-1==$(t.target).parents().index(e)&&-1==$(t.target).parents().index(i)&&-1==$(t.target).parents().index(n)){var r=""==document.referrer?"*":document.referrer;parent.postMessage("close",r)}},this.after("initialize",function(){this.$node.addClass("is-modal"),this.select("isModalSelector").val(!0),this.on("click",this.closeIfBackgroundIsClicked)})}return t(e)}),define("$app/utils/zero_clipboard",[],function(){var t={hookZeroClipboard:function(t,e,i){return i?{}:(ZeroClipboard.config({swfPath:"/ZeroClipboard.swf"}),void t.each(function(){var t=$(this),i=new ZeroClipboard(t);i.on("ready",function(){window.zeroClipboardLoaded=!0,i.on("mouseover",function(){t.tipsy("show")}),
i.on("mouseout",function(){t.tipsy("hide")}),i.on("aftercopy",function(){t.attr("title",t.data("copied")).tipsy("show"),t.on("mouseout",function(){t.attr("title",t.data("copy")).tipsy("hide")})}),void 0!==e&&e()})}))}};return t}),define("hbs!$app/templates/customization_modules_list_entry",["hbs","hbs/handlebars"],function(t,e){var i=e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return'<li><a href="'+this.escapeExpression((r=null!=(r=e.url||(null!=t?t.url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"url",hash:{},data:n}):r))+'">'+this.escapeExpression((r=null!=(r=e.name||(null!=t?t.name:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"name",hash:{},data:n}):r))+"</a></li>\n"},useData:!0});return e.registerPartial("$app/templates/customization_modules_list_entry",i),i}),jQuery&&function(t){t.extend(t.fn,{miniColors:function(e,i){var n=function(e,i,n){var r=N(e.val())||"ffffff",a=w(r),d=S(a),c=parseFloat(e.attr("data-opacity")).toFixed(2);c>1&&(c=1),0>c&&(c=0);var u=t('<a class="miniColors-trigger" style="background-color: #'+r+'" href="#"></a>');u.insertAfter(e),u.wrap('<span class="miniColors-triggerWrap"></span>'),i.opacity&&u.css("backgroundColor","rgba("+d.r+", "+d.g+", "+d.b+", "+c+")"),e.addClass("miniColors").data("original-maxlength",e.attr("maxlength")||null).data("original-autocomplete",e.attr("autocomplete")||null).data("letterCase","uppercase"===i.letterCase?"uppercase":"lowercase").data("opacity",i.opacity?!0:!1).data("alpha",c).data("trigger",u).data("hsb",a).data("change",i.change?i.change:null).data("close",i.close?i.close:null).data("open",i.open?i.open:null).attr("maxlength",7).attr("autocomplete","off").val("#"+m(r,i.letterCase)),(i.readonly||e.prop("readonly"))&&e.prop("readonly",!0),(i.disabled||e.prop("disabled"))&&s(e),u.on("click.miniColors",function(t){t.preventDefault(),""===e.val()&&e.val("#"),o(e)}),e.on("focus.miniColors",function(t){""===e.val()&&e.val("#"),o(e)}),e.on("blur.miniColors",function(t){var i=N(x(e.data("hsb")));e.val(i?"#"+m(i,e.data("letterCase")):"")}),e.on("keydown.miniColors",function(t){9===t.keyCode&&l(e)}),e.on("keyup.miniColors",function(t){f(e)}),e.on("change",function(t){f(e)}),e.on("paste.miniColors",function(t){setTimeout(function(){f(e)},5)})},r=function(e){l(),e=t(e),e.data("trigger").parent().remove(),e.attr("autocomplete",e.data("original-autocomplete")).attr("maxlength",e.data("original-maxlength")).removeData().removeClass("miniColors").off(".miniColors"),t(document).off(".miniColors")},a=function(t){t.prop("disabled",!1).data("trigger").parent().removeClass("disabled")},s=function(t){l(t),t.prop("disabled",!0).data("trigger").parent().addClass("disabled")},o=function(e){if(e.prop("disabled"))return!1;l();var i=t('<div class="miniColors-selector"></div>');i.append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>').append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"><div class="miniColors-colorPicker-inner"></div></div>').css("display","none").addClass(e.attr("class")),e.data("opacity")&&i.addClass("opacity").prepend('<div class="miniColors-opacity"><div class="miniColors-opacityPicker"></div></div>');var n=e.data("hsb");i.find(".miniColors-colors").css("backgroundColor","#"+x({h:n.h,s:100,b:100})).end().find(".miniColors-opacity").css("backgroundColor","#"+x({h:n.h,s:n.s,b:n.b})).end();var r=e.data("colorPosition");r||(r=g(n)),i.find(".miniColors-colorPicker").css("top",r.y+"px").css("left",r.x+"px");var a=e.data("huePosition");a||(a=v(n)),i.find(".miniColors-huePicker").css("top",a+"px");var s=e.data("opacityPosition");s||(s=y(e.attr("data-opacity"))),i.find(".miniColors-opacityPicker").css("top",s+"px"),e.data("selector",i).data("huePicker",i.find(".miniColors-huePicker")).data("opacityPicker",i.find(".miniColors-opacityPicker")).data("colorPicker",i.find(".miniColors-colorPicker")).data("mousebutton",0),t("BODY").append(i);var o=e.data("trigger"),h=!e.is(":visible"),p=h?o.offset().top+o.outerHeight():e.offset().top+e.outerHeight(),f=h?o.offset().left:e.offset().left,m=i.outerWidth(),A=i.outerHeight(),N=o.outerWidth(),$=o.outerHeight(),b=t(window).height(),_=t(window).width(),w=t(window).scrollTop(),C=t(window).scrollLeft();p+A>b+w&&(p=p-A-$),f+m>_+C&&(f=f-m+N),i.css({top:p,left:f}).fadeIn(100),i.on("selectstart",function(){return!1}),(!t.browser.msie||t.browser.msie&&t.browser.version>=9)&&t(window).on("resize.miniColors",function(t){l(e)}),t(document).on("mousedown.miniColors touchstart.miniColors",function(i){e.data("mousebutton",1);var n=t(i.target).parents().andSelf();return n.hasClass("miniColors-colors")&&(i.preventDefault(),e.data("moving","colors"),d(e,i)),n.hasClass("miniColors-hues")&&(i.preventDefault(),e.data("moving","hues"),c(e,i)),n.hasClass("miniColors-opacity")&&(i.preventDefault(),e.data("moving","opacity"),u(e,i)),n.hasClass("miniColors-selector")?void i.preventDefault():void(n.hasClass("miniColors")||l(e))}).on("mouseup.miniColors touchend.miniColors",function(t){t.preventDefault(),e.data("mousebutton",0).removeData("moving")}).on("mousemove.miniColors touchmove.miniColors",function(t){t.preventDefault(),1===e.data("mousebutton")&&("colors"===e.data("moving")&&d(e,t),"hues"===e.data("moving")&&c(e,t),"opacity"===e.data("moving")&&u(e,t))}),e.data("open")&&e.data("open").call(e.get(0),"#"+x(n),t.extend(S(n),{a:parseFloat(e.attr("data-opacity"))}))},l=function(e){e||(e=t(".miniColors")),e.each(function(){var i=t(this).data("selector");t(this).removeData("selector"),t(i).fadeOut(100,function(){if(e.data("close")){var i=e.data("hsb"),n=x(i);e.data("close").call(e.get(0),"#"+n,t.extend(S(i),{a:parseFloat(e.attr("data-opacity"))}))}t(this).remove()})}),t(document).off(".miniColors")},d=function(t,e){var i=t.data("colorPicker");i.hide();var n={x:e.pageX,y:e.pageY};e.originalEvent.changedTouches&&(n.x=e.originalEvent.changedTouches[0].pageX,n.y=e.originalEvent.changedTouches[0].pageY),n.x=n.x-t.data("selector").find(".miniColors-colors").offset().left-6,n.y=n.y-t.data("selector").find(".miniColors-colors").offset().top-6,n.x<=-5&&(n.x=-5),n.x>=144&&(n.x=144),n.y<=-5&&(n.y=-5),n.y>=144&&(n.y=144),t.data("colorPosition",n),i.css("left",n.x).css("top",n.y).show();var r=Math.round(.67*(n.x+5));0>r&&(r=0),r>100&&(r=100);var a=100-Math.round(.67*(n.y+5));0>a&&(a=0),a>100&&(a=100);var s=t.data("hsb");s.s=r,s.b=a,p(t,s,!0)},c=function(t,e){var i=t.data("huePicker");i.hide();var n=e.pageY;e.originalEvent.changedTouches&&(n=e.originalEvent.changedTouches[0].pageY),n=n-t.data("selector").find(".miniColors-colors").offset().top-1,-1>=n&&(n=-1),n>=149&&(n=149),t.data("huePosition",n),i.css("top",n).show();var r=Math.round(2.4*(150-n-1));0>r&&(r=0),r>360&&(r=360);var a=t.data("hsb");a.h=r,p(t,a,!0)},u=function(t,e){var i=t.data("opacityPicker");i.hide();var n=e.pageY;e.originalEvent.changedTouches&&(n=e.originalEvent.changedTouches[0].pageY),n=n-t.data("selector").find(".miniColors-colors").offset().top-1,-1>=n&&(n=-1),n>=149&&(n=149),t.data("opacityPosition",n),i.css("top",n).show();var r=parseFloat((150-n-1)/150).toFixed(2);0>r&&(r=0),r>1&&(r=1),t.data("alpha",r).attr("data-opacity",r),p(t,t.data("hsb"),!0)},p=function(e,i,n){e.data("hsb",i);var r=x(i),a=t(e.data("selector"));n&&e.val("#"+m(r,e.data("letterCase"))),a.find(".miniColors-colors").css("backgroundColor","#"+x({h:i.h,s:100,b:100})).end().find(".miniColors-opacity").css("backgroundColor","#"+r).end();var s=S(i);if(e.data("trigger").css("backgroundColor","#"+r),e.data("opacity")&&e.data("trigger").css("backgroundColor","rgba("+s.r+", "+s.g+", "+s.b+", "+e.attr("data-opacity")+")"),e.data("change")){if(r+","+e.attr("data-opacity")===e.data("lastChange"))return;e.data("change").call(e.get(0),"#"+r,t.extend(S(i),{a:parseFloat(e.attr("data-opacity"))})),e.data("lastChange",r+","+e.attr("data-opacity"))}},f=function(e){e.val("#"+A(e.val()));var i=N(e.val());if(!i)return!1;var n=w(i),r=g(n),a=t(e.data("colorPicker"));a.css("top",r.y+"px").css("left",r.x+"px"),e.data("colorPosition",r);var s=v(n),o=t(e.data("huePicker"));o.css("top",s+"px"),e.data("huePosition",s);var l=y(e.attr("data-opacity")),d=t(e.data("opacityPicker"));return d.css("top",l+"px"),e.data("opacityPosition",l),p(e,n),!0},m=function(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()},g=function(t){var e=Math.ceil(t.s/.67);0>e&&(e=0),e>150&&(e=150);var i=150-Math.ceil(t.b/.67);return 0>i&&(i=0),i>150&&(i=150),{x:e-5,y:i-5}},v=function(t){var e=150-t.h/2.4;return 0>e&&(h=0),e>150&&(h=150),e},y=function(t){var e=150*t;return 0>e&&(e=0),e>150&&(e=150),150-e},A=function(t){return t.replace(/[^A-F0-9]/gi,"")},N=function(t){return(t=A(t))?(3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),6===t.length?t:null):null},S=function(t){var e={},i=Math.round(t.h),n=Math.round(255*t.s/100),r=Math.round(255*t.b/100);if(0===n)e.r=e.g=e.b=r;else{var a=r,s=(255-n)*r/255,o=(a-s)*(i%60)/60;360===i&&(i=0),60>i?(e.r=a,e.b=s,e.g=s+o):120>i?(e.g=a,e.b=s,e.r=a-o):180>i?(e.g=a,e.r=s,e.b=s+o):240>i?(e.b=a,e.r=s,e.g=a-o):300>i?(e.b=a,e.g=s,e.r=s+o):360>i?(e.r=a,e.g=s,e.b=a-o):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},$=function(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(i,function(t,e){1===e.length&&(i[t]="0"+e)}),i.join("")},b=function(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}},_=function(t){var e={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),r=n-i;return e.b=n,e.s=0!==n?255*r/n:0,0!==e.s?t.r===n?e.h=(t.g-t.b)/r:t.g===n?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e},w=function(t){var e=_(b(t));return 0===e.s&&(e.h=360),e},x=function(t){return $(S(t))};switch(e){case"readonly":return t(this).each(function(){t(this).hasClass("miniColors")&&t(this).prop("readonly",i)}),t(this);case"disabled":return t(this).each(function(){t(this).hasClass("miniColors")&&(i?s(t(this)):a(t(this)))}),t(this);case"value":if(void 0===i){if(!t(this).hasClass("miniColors"))return;var C=t(this),P=N(C.val());return P?"#"+m(P,C.data("letterCase")):null}return t(this).each(function(){t(this).hasClass("miniColors")&&(t(this).val(i),f(t(this)))}),t(this);case"opacity":if(void 0===i){if(!t(this).hasClass("miniColors"))return;return t(this).data("opacity")?parseFloat(t(this).attr("data-opacity")):null}return t(this).each(function(){t(this).hasClass("miniColors")&&(0>i&&(i=0),i>1&&(i=1),t(this).attr("data-opacity",i).data("alpha",i),f(t(this)))}),t(this);case"destroy":return t(this).each(function(){t(this).hasClass("miniColors")&&r(t(this))}),t(this);default:return e||(e={}),t(this).each(function(){"input"===t(this)[0].tagName.toLowerCase()&&(t(this).data("trigger")||n(t(this),e,i))}),t(this)}}})}(jQuery),define("$vendor/jquery.miniColors",function(){}),define("$app/ui/shared/customization_modules_container",["flight/lib/component","$app/ui/shared/with_navigation","$app/utils/zero_clipboard","hbs!$app/templates/customization_modules_list_entry","$vendor/jquery.miniColors"],function(t,e,i,n){function r(){this.defaultAttrs({popoverTriggerSelector:".js-popover-trigger",popoverSelector:".js-popover",displayedProductsPopoverSelector:".js-displayed-products-popover",displayedProductsPopoverTriggerSelector:".js-displayed-products-popover-trigger",stylePopoverSelector:".js-style-popover",stylePopoverTriggerSelector:".js-style-popover-trigger",picturePopoverSelector:".js-picture-popover",picturePopoverTriggerSelector:".js-picture-popover-trigger",purchaseFlowPopoverSelector:".js-purchase-flow-popover",purchaseFlowPopoverTriggerSelector:".js-purchase-flow-popover-trigger",connectionsPopoverSelector:".js-connections-popover",connectionsPopoverTriggerSelector:".js-connections-popover-trigger",followFormPopoverSelector:".js-follow-form-popover",followFormPopoverTriggerSelector:".js-follow-form-popover-trigger",togglePreviewModeTriggerSelector:".js-preview-toggle",followCallToActionSelectSelector:".js-follow-cta-select",previewEmbedContainerSelector:".js-embed-preview-container",copyEmbedFormTriggerSelector:".js-copy-embed-form-trigger",embedFormCodeSelector:".js-embed-form-code",embedFormContainerSelector:".js-embed-form-container",navSelector:".js-navigation",onProductPage:!1}),this.showCustomizationModules=function(t,i){this.attr.onProductPage&&(this.$node.addClass("showing"),$(".wrapper").addClass("showing-customization-bar"),i.core_nav_html&&(this.$node.prepend(i.core_nav_html),e.teardownAll(),e.attachTo(this.attr.navSelector,{isOwner:this.attr.isOwner}),this.$node.addClass("showing-core-nav"),$(".wrapper").addClass("showing-core-nav"),this.trigger("uiShouldShowEditing")))},this.togglePopover=function(t,e){var i=e.hasClass("showing");this.select("popoverSelector").removeClass("showing"),this.select("popoverTriggerSelector").removeClass("active"),i||(e.addClass("showing"),t.addClass("active"))},this.hidePicturePopover=function(){this.select("picturePopoverTriggerSelector").removeClass("active"),this.select("picturePopoverSelector").removeClass("showing")},this.toggleDisplayedProductsPopover=function(t){t.preventDefault(),this.togglePopover(this.select("displayedProductsPopoverTriggerSelector"),this.select("displayedProductsPopoverSelector"))},this.togglePicturePopover=function(t){t.preventDefault(),this.togglePopover(this.select("picturePopoverTriggerSelector"),this.select("picturePopoverSelector"))},this.toggleStylePopover=function(t){t.preventDefault(),this.togglePopover(this.select("stylePopoverTriggerSelector"),this.select("stylePopoverSelector"))},this.togglePurchaseFlowPopover=function(t){t.preventDefault(),this.togglePopover(this.select("purchaseFlowPopoverTriggerSelector"),this.select("purchaseFlowPopoverSelector"))},this.toggleConnectionsPopover=function(t){t.preventDefault(),this.togglePopover(this.select("connectionsPopoverTriggerSelector"),this.select("connectionsPopoverSelector"))},this.toggleFollowFormPopover=function(t){t.preventDefault(),this.togglePopover(this.select("followFormPopoverTriggerSelector"),this.select("followFormPopoverSelector"))},this.hideFollowFormPopover=function(t){t.preventDefault();var e=this.select("followFormPopoverSelector");e.hasClass("showing")&&this.togglePopover(e,this.select("followFormPopoverSelector"))},this.togglePreviewMode=function(){this.select("popoverSelector").removeClass("showing"),this.select("popoverTriggerSelector").removeClass("active"),this.select("togglePreviewModeTriggerSelector").attr("checked")?(this.$node.removeClass("showing-core-nav"),$(".wrapper").removeClass("showing-core-nav"),this.trigger("uiShouldHideEditing")):(this.$node.addClass("showing-core-nav"),$(".wrapper").addClass("showing-core-nav"),this.trigger("uiShouldShowEditing"))},this.followCallToActionChanged=function(){var t=this.select("followCallToActionSelectSelector").find(":selected").val();this.select("previewEmbedContainerSelector").find("button").text(I18n.t("js."+t)),this.trigger("uiShouldUpdateFollowCallToAction",{follow_call_to_action:t}),this.updateEmbedFormCode()},this.copyEmbedFormCode=function(t){t.preventDefault()},this.updateEmbedFormCode=function(){this.select("embedFormCodeSelector").text(this.select("embedFormContainerSelector").html().trim().replace(/div/g,"form"))},this.after("initialize",function(){this.on(document,"dataCustomizationModules",this.showCustomizationModules),this.on(document,"dataProfilePicture",this.hidePicturePopover),this.on(document,"uiShouldHideFollowFormPopover",this.hideFollowFormPopover),this.on("click",{picturePopoverTriggerSelector:this.togglePicturePopover,purchaseFlowPopoverTriggerSelector:this.togglePurchaseFlowPopover,stylePopoverTriggerSelector:this.toggleStylePopover,displayedProductsPopoverTriggerSelector:this.toggleDisplayedProductsPopover,connectionsPopoverTriggerSelector:this.toggleConnectionsPopover,followFormPopoverTriggerSelector:this.toggleFollowFormPopover,copyEmbedFormTriggerSelector:this.copyEmbedFormCode}),this.on("change",{togglePreviewModeTriggerSelector:this.togglePreviewMode,followCallToActionSelectSelector:this.followCallToActionChanged}),this.attr.isOwner&&(this.trigger("uiShouldShowEditing"),i.hookZeroClipboard(this.select("copyEmbedFormTriggerSelector")),this.updateEmbedFormCode())})}return t(r)}),define("$app/utils/file",[],function(){var t={getReadableFileSize:function(t){return t>=1073741824?t=(t/1073741824).toFixed(1)+" GB":t>=1048576?t=(t/1048576).toFixed(1)+" MB":t>=1024?t=(t/1024).toFixed(1)+" KB":t>1?t+=" bytes":1==t?t+=" byte":t="0 byte",t},getFullFileSizeString:function(e){return t.getReadableFileSize(e)},getS3Key:function(t,e,i,n){var r=n+"/"+i+"/";return r+t+"/original/"+e},getGuidBase:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx"},getGuidLength:function(){return t.getGuidBase().length},generateGuid:function(){return t.getGuidBase().replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})},getFileExtension:function(t){return/(?:\.([^.]+))?$/.exec(t)[1]},determineS3BucketForForm:function(t){var e=t.data("s3-url");if(e){var i=e.split("/");return i[i.length-1]}throw"Could not determine S3 bucket, please make sure to set data-s3-url on your uploader form element"},determineAWSAccessKeyIdForForm:function(t){var e=t.data("aws-access-key-id");if(e)return e;throw"Could not determine AWSAccessKeyId, please make sure to set aws-access-key-id on your uploader form element"},determineUserExternalIdForForm:function(t){var e=t.data("user-external-id");if(e)return e;throw"Could not determine user external id, please make sure to set data-user-external-id on your uploader form element"}};return t}),define("$app/utils/mimetypes",[],function(){var t={ez:"application/andrew-inset",aw:"application/applixware",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomsvc:"application/atomsvc+xml",ccxml:"application/ccxml+xml",cu:"application/cu-seeme",davmount:"application/davmount+xml",ecma:"application/ecmascript",emma:"application/emma+xml",epub:"application/epub+zip",pfr:"application/font-tdpfr",stk:"application/hyperstudio",jar:"application/java-archive",ser:"application/java-serialized-object","class":"application/java-vm",js:"application/javascript",json:"application/json",lostxml:"application/lost+xml",hqx:"application/mac-binhex40",cpt:"application/mac-compactpro",mrc:"application/marc","ma,nb,mb":"application/mathematica",mathml:"application/mathml+xml",mbox:"application/mbox",mscml:"application/mediaservercontrol+xml",mp4s:"application/mp4","doc,dot":"application/msword",mxf:"application/mxf",oda:"application/oda",opf:"application/oebps-package+xml",ogx:"application/ogg","onetoc,onetoc2,onetmp,onepkg":"application/onenote",xer:"application/patch-ops-error+xml",pdf:"application/pdf",pgp:"application/pgp-encrypted","asc,sig":"application/pgp-signature",prf:"application/pics-rules",p10:"application/pkcs10","p7m,p7c":"application/pkcs7-mime",p7s:"application/pkcs7-signature",cer:"application/pkix-cert",crl:"application/pkix-crl",pkipath:"application/pkix-pkipath",pki:"application/pkixcmp",pls:"application/pls+xml","ai,eps,ps":"application/postscript",cww:"application/prs.cww",rdf:"application/rdf+xml",rif:"application/reginfo+xml",rnc:"application/relax-ng-compact-syntax",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rs:"application/rls-services+xml",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",spq:"application/scvp-vp-request",spp:"application/scvp-vp-response",sdp:"application/sdp",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",shf:"application/shf+xml","smi,smil":"application/smil+xml",rq:"application/sparql-query",srx:"application/sparql-results+xml",gram:"application/srgs",grxml:"application/srgs+xml",ssml:"application/ssml+xml",plb:"application/vnd.3gpp.pic-bw-large",psb:"application/vnd.3gpp.pic-bw-small",pvb:"application/vnd.3gpp.pic-bw-var",tcap:"application/vnd.3gpp2.tcap",pwn:"application/vnd.3m.post-it-notes",aso:"application/vnd.accpac.simply.aso",imp:"application/vnd.accpac.simply.imp",acu:"application/vnd.acucobol","atc,acutc":"application/vnd.acucorp",air:"application/vnd.adobe.air-application-installer-package+zip",xdp:"application/vnd.adobe.xdp+xml",xfdf:"application/vnd.adobe.xfdf",azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azw:"application/vnd.amazon.ebook",acc:"application/vnd.americandynamics.acc",ami:"application/vnd.amiga.ami",apk:"application/vnd.android.package-archive",cii:"application/vnd.anser-web-certificate-issue-initiation",fti:"application/vnd.anser-web-funds-transfer-initiation",atx:"application/vnd.antix.game-component",mpkg:"application/vnd.apple.installer+xml",swi:"application/vnd.arastra.swi",aep:"application/vnd.audiograph",mpm:"application/vnd.blueice.multipass",bmi:"application/vnd.bmi",rep:"application/vnd.businessobjects",cdxml:"application/vnd.chemdraw+xml",mmd:"application/vnd.chipnuts.karaoke-mmd",cdy:"application/vnd.cinderella",cla:"application/vnd.claymore","c4g,c4d,c4f,c4p,c4u":"application/vnd.clonk.c4group",csp:"application/vnd.commonspace",cdbcmsg:"application/vnd.contact.cmsg",cmc:"application/vnd.cosmocaller",clkx:"application/vnd.crick.clicker",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",wbs:"application/vnd.criticaltools.wbs+xml",pml:"application/vnd.ctc-posml",ppd:"application/vnd.cups-ppd",car:"application/vnd.curl.car",pcurl:"application/vnd.curl.pcurl",rdz:"application/vnd.data-vision.rdz",fe_launch:"application/vnd.denovo.fcselayout-link",dna:"application/vnd.dna",mlp:"application/vnd.dolby.mlp",dpg:"application/vnd.dpgraph",dfac:"application/vnd.dreamfactory",geo:"application/vnd.dynageo",mag:"application/vnd.ecowin.chart",nml:"application/vnd.enliven",esf:"application/vnd.epson.esf",msf:"application/vnd.epson.msf",qam:"application/vnd.epson.quickanime",slt:"application/vnd.epson.salt",ssf:"application/vnd.epson.ssf","es3,et3":"application/vnd.eszigno3+xml",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",fdf:"application/vnd.fdf",mseed:"application/vnd.fdsn.mseed","seed,dataless":"application/vnd.fdsn.seed",gph:"application/vnd.flographit",ftc:"application/vnd.fluxtime.clip","fm,frame,maker,book":"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",ltf:"application/vnd.frogans.ltf",fsc:"application/vnd.fsc.weblaunch",oas:"application/vnd.fujitsu.oasys",oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",fg5:"application/vnd.fujitsu.oasysgp",bh2:"application/vnd.fujitsu.oasysprs",ddd:"application/vnd.fujixerox.ddd",xdw:"application/vnd.fujixerox.docuworks",xbd:"application/vnd.fujixerox.docuworks.binder",fzs:"application/vnd.fuzzysheet",txd:"application/vnd.genomatix.tuxedo",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool","gex,gre":"application/vnd.geometry-explorer",gmx:"application/vnd.gmx",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz","gqf,gqs":"application/vnd.grafeq",gac:"application/vnd.groove-account",ghf:"application/vnd.groove-help",gim:"application/vnd.groove-identity-message",grv:"application/vnd.groove-injector",gtm:"application/vnd.groove-tool-message",tpl:"application/vnd.groove-tool-template",vcg:"application/vnd.groove-vcard",zmm:"application/vnd.handheld-entertainment+xml",hbci:"application/vnd.hbci",les:"application/vnd.hhe.lesson-player",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",jlt:"application/vnd.hp-jlyt",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl","sfd-hdstx":"application/vnd.hydrostatix.sof-data",x3d:"application/vnd.hzn-3d-crossword",mpy:"application/vnd.ibm.minipay","afp,listafp,list3820":"application/vnd.ibm.modcap",irm:"application/vnd.ibm.rights-management",sc:"application/vnd.ibm.secure-container","icc,icm":"application/vnd.iccprofile",igl:"application/vnd.igloader",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu","xpw,xpx":"application/vnd.intercon.formnet",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",rcprofile:"application/vnd.ipunplugged.rcprofile",irp:"application/vnd.irepository.package+xml",xpr:"application/vnd.is-xpr",jam:"application/vnd.jam",rms:"application/vnd.jcp.javame.midlet-rms",jisp:"application/vnd.jisp",joda:"application/vnd.joost.joda-archive","ktz,ktr":"application/vnd.kahootz",karbon:"application/vnd.kde.karbon",chrt:"application/vnd.kde.kchart",kfo:"application/vnd.kde.kformula",flw:"application/vnd.kde.kivio",kon:"application/vnd.kde.kontour","kpr,kpt":"application/vnd.kde.kpresenter",ksp:"application/vnd.kde.kspread","kwd,kwt":"application/vnd.kde.kword",htke:"application/vnd.kenameaapp",kia:"application/vnd.kidspiration","kne,knp":"application/vnd.kinar","skp,skd,skt,skm":"application/vnd.koan",sse:"application/vnd.kodak-descriptor",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",123:"application/vnd.lotus-1-2-3",apr:"application/vnd.lotus-approach",pre:"application/vnd.lotus-freelance",nsf:"application/vnd.lotus-notes",org:"application/vnd.lotus-organizer",scm:"application/vnd.lotus-screencam",lwp:"application/vnd.lotus-wordpro",portpkg:"application/vnd.macports.portpkg",mcd:"application/vnd.mcd",mc1:"application/vnd.medcalcdata",cdkey:"application/vnd.mediastation.cdkey",mwf:"application/vnd.mfer",mfm:"application/vnd.mfmp",flo:"application/vnd.micrografx.flo",igx:"application/vnd.micrografx.igx",mif:"application/vnd.mif",daf:"application/vnd.mobius.daf",dis:"application/vnd.mobius.dis",mbk:"application/vnd.mobius.mbk",mqy:"application/vnd.mobius.mqy",msl:"application/vnd.mobius.msl",plc:"application/vnd.mobius.plc",txf:"application/vnd.mobius.txf",mpn:"application/vnd.mophun.application",mpc:"application/vnd.mophun.certificate",xul:"application/vnd.mozilla.xul+xml",cil:"application/vnd.ms-artgalry",cab:"application/vnd.ms-cab-compressed","xls,xlm,xla,xlc,xlt,xlw":"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xltm:"application/vnd.ms-excel.template.macroenabled.12",eot:"application/vnd.ms-fontobject",chm:"application/vnd.ms-htmlhelp",ims:"application/vnd.ms-ims",lrm:"application/vnd.ms-lrm",cat:"application/vnd.ms-pki.seccat",stl:"application/vnd.ms-pki.stl","ppt,pps,pot":"application/vnd.ms-powerpoint",ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",potm:"application/vnd.ms-powerpoint.template.macroenabled.12","mpp,mpt":"application/vnd.ms-project",docm:"application/vnd.ms-word.document.macroenabled.12",dotm:"application/vnd.ms-word.template.macroenabled.12","wps,wks,wcm,wdb":"application/vnd.ms-works",wpl:"application/vnd.ms-wpl",xps:"application/vnd.ms-xpsdocument",mseq:"application/vnd.mseq",mus:"application/vnd.musician",msty:"application/vnd.muvee.style",nlu:"application/vnd.neurolanguage.nlu",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",ngdat:"application/vnd.nokia.n-gage.data","n-gage":"application/vnd.nokia.n-gage.symbian.install",rpst:"application/vnd.nokia.radio-preset",rpss:"application/vnd.nokia.radio-presets",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",ext:"application/vnd.novadigm.ext",odc:"application/vnd.oasis.opendocument.chart",otc:"application/vnd.oasis.opendocument.chart-template",odb:"application/vnd.oasis.opendocument.database",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",otg:"application/vnd.oasis.opendocument.graphics-template",odi:"application/vnd.oasis.opendocument.image",oti:"application/vnd.oasis.opendocument.image-template",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",ots:"application/vnd.oasis.opendocument.spreadsheet-template",odt:"application/vnd.oasis.opendocument.text",otm:"application/vnd.oasis.opendocument.text-master",ott:"application/vnd.oasis.opendocument.text-template",oth:"application/vnd.oasis.opendocument.text-web",xo:"application/vnd.olpc-sugar",dd2:"application/vnd.oma.dd2+xml",oxt:"application/vnd.openofficeorg.extension",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",dp:"application/vnd.osgi.dp","pdb,pqa,oprc":"application/vnd.palm",str:"application/vnd.pg.format",ei6:"application/vnd.pg.osasli",efif:"application/vnd.picsel",plf:"application/vnd.pocketlearn",pbd:"application/vnd.powerbuilder6",box:"application/vnd.previewsystems.box",mgz:"application/vnd.proteus.magazine",qps:"application/vnd.publishare-delta-tree",ptid:"application/vnd.pvi.ptid1","qxd,qxt,qwd,qwt,qxl,qxb":"application/vnd.quark.quarkxpress",mxl:"application/vnd.recordare.musicxml",musicxml:"application/vnd.recordare.musicxml+xml",cod:"application/vnd.rim.cod",rm:"application/vnd.rn-realmedia",link66:"application/vnd.route66.link66+xml",see:"application/vnd.seemail",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",ifm:"application/vnd.shana.informed.formdata",itp:"application/vnd.shana.informed.formtemplate",iif:"application/vnd.shana.informed.interchange",ipk:"application/vnd.shana.informed.package","twd,twds":"application/vnd.simtech-mindmapper",mmf:"application/vnd.smaf",teacher:"application/vnd.smart.teacher","sdkm,sdkd":"application/vnd.solent.sdkm+xml",dxp:"application/vnd.spotfire.dxp",sfs:"application/vnd.spotfire.sfs",sdc:"application/vnd.stardivision.calc",sda:"application/vnd.stardivision.draw",sdd:"application/vnd.stardivision.impress",smf:"application/vnd.stardivision.math",sdw:"application/vnd.stardivision.writer",vor:"application/vnd.stardivision.writer",sgl:"application/vnd.stardivision.writer-global",sxc:"application/vnd.sun.xml.calc",stc:"application/vnd.sun.xml.calc.template",sxd:"application/vnd.sun.xml.draw",std:"application/vnd.sun.xml.draw.template",sxi:"application/vnd.sun.xml.impress",sti:"application/vnd.sun.xml.impress.template",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",sxg:"application/vnd.sun.xml.writer.global",stw:"application/vnd.sun.xml.writer.template","sus,susp":"application/vnd.sus-calendar",svd:"application/vnd.svd","sis,sisx":"application/vnd.symbian.install",xsm:"application/vnd.syncml+xml",bdm:"application/vnd.syncml.dm+wbxml",xdm:"application/vnd.syncml.dm+xml",tao:"application/vnd.tao.intent-module-archive",tmo:"application/vnd.tmobile-livetv",tpt:"application/vnd.trid.tpt",mxs:"application/vnd.triscape.mxs",tra:"application/vnd.trueapp","ufd,ufdl":"application/vnd.ufdl",utz:"application/vnd.uiq.theme",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",vcx:"application/vnd.vcx","vsd,vst,vss,vsw":"application/vnd.visio",vis:"application/vnd.visionary",vsf:"application/vnd.vsf",wbxml:"application/vnd.wap.wbxml",wmlc:"application/vnd.wap.wmlc",wmlsc:"application/vnd.wap.wmlscriptc",wtb:"application/vnd.webturbo",wpd:"application/vnd.wordperfect",wqd:"application/vnd.wqd",stf:"application/vnd.wt.stf",xar:"application/vnd.xara",xfdl:"application/vnd.xfdl",hvd:"application/vnd.yamaha.hv-dic",hvs:"application/vnd.yamaha.hv-script",hvp:"application/vnd.yamaha.hv-voice",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",saf:"application/vnd.yamaha.smaf-audio",spf:"application/vnd.yamaha.smaf-phrase",cmp:"application/vnd.yellowriver-custom-menu","zir,zirz":"application/vnd.zul",zaz:"application/vnd.zzazz.deck+xml",
vxml:"application/voicexml+xml",hlp:"application/winhlp",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",abw:"application/x-abiword",ace:"application/x-ace-compressed","aab,x32,u32,vox":"application/x-authorware-bin",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",bcpio:"application/x-bcpio",torrent:"application/x-bittorrent",bz:"application/x-bzip","bz2,boz":"application/x-bzip2",vcd:"application/x-cdlink",chat:"application/x-chat",pgn:"application/x-chess-pgn",cpio:"application/x-cpio",csh:"application/x-csh","deb,udeb":"application/x-debian-package","dir,dcr,dxr,cst,cct,cxt,w3d,fgd,swa":"application/x-director",wad:"application/x-doom",ncx:"application/x-dtbncx+xml",dtb:"application/x-dtbook+xml",res:"application/x-dtbresource+xml",dvi:"application/x-dvi",bdf:"application/x-font-bdf",gsf:"application/x-font-ghostscript",psf:"application/x-font-linux-psf",otf:"application/x-font-otf",pcf:"application/x-font-pcf",snf:"application/x-font-snf","ttf,ttc":"application/x-font-ttf","pfa,pfb,pfm,afm":"application/x-font-type1",spl:"application/x-futuresplash",gnumeric:"application/x-gnumeric",gtar:"application/x-gtar",hdf:"application/x-hdf",jnlp:"application/x-java-jnlp-file",latex:"application/x-latex","prc,mobi":"application/x-mobipocket-ebook",application:"application/x-ms-application",wmd:"application/x-ms-wmd",wmz:"application/x-ms-wmz",xbap:"application/x-ms-xbap",mdb:"application/x-msaccess",obd:"application/x-msbinder",crd:"application/x-mscardfile",clp:"application/x-msclip","exe,dll,com,bat,msi":"application/x-msdownload","mvb,m13,m14":"application/x-msmediaview",wmf:"application/x-msmetafile",mny:"application/x-msmoney",pub:"application/x-mspublisher",scd:"application/x-msschedule",trm:"application/x-msterminal",wri:"application/x-mswrite","nc,cdf":"application/x-netcdf","p12,pfx":"application/x-pkcs12","p7b,spc":"application/x-pkcs7-certificates",p7r:"application/x-pkcs7-certreqresp",rar:"application/x-rar-compressed",sh:"application/x-sh",shar:"application/x-shar",swf:"application/x-shockwave-flash",xap:"application/x-silverlight-app",sit:"application/x-stuffit",sitx:"application/x-stuffitx",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",tfm:"application/x-tex-tfm","texinfo,texi":"application/x-texinfo",ustar:"application/x-ustar",src:"application/x-wais-source","der,crt":"application/x-x509-ca-cert",fig:"application/x-xfig",xpi:"application/x-xpinstall",xenc:"application/xenc+xml","xhtml,xht":"application/xhtml+xml","xml,xsl":"application/xml",dtd:"application/xml-dtd",xop:"application/xop+xml",xslt:"application/xslt+xml",xspf:"application/xspf+xml","mxml,xhvml,xvml,xvm":"application/xv+xml",zip:"application/zip",adp:"audio/adpcm","au,snd":"audio/basic","mid,midi,kar,rmi":"audio/midi",mp4a:"audio/mp4","m4a,m4p":"audio/mp4a-latm","mpga,mp2,mp2a,mp3,m2a,m3a":"audio/mpeg","oga,ogg,spx":"audio/ogg",eol:"audio/vnd.digital-winds",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",lvp:"audio/vnd.lucent.voice",pya:"audio/vnd.ms-playready.media.pya",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",ecelp9600:"audio/vnd.nuera.ecelp9600",aac:"audio/x-aac","aif,aiff,aifc":"audio/x-aiff",m3u:"audio/x-mpegurl",wax:"audio/x-ms-wax",wma:"audio/x-ms-wma","ram,ra":"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",wav:"audio/x-wav",cdx:"chemical/x-cdx",cif:"chemical/x-cif",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",csml:"chemical/x-csml",xyz:"chemical/x-xyz",bmp:"image/bmp",cgm:"image/cgm",g3:"image/g3fax",gif:"image/gif",ief:"image/ief",jp2:"image/jp2","jpeg,jpg,jpe":"image/jpeg","pict,pic,pct":"image/pict",png:"image/png",btif:"image/prs.btif","svg,svgz":"image/svg+xml","tiff,tif":"image/tiff",psd:"image/vnd.adobe.photoshop","djvu,djv":"image/vnd.djvu",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",fbs:"image/vnd.fastbidsheet",fpx:"image/vnd.fpx",fst:"image/vnd.fst",mmr:"image/vnd.fujixerox.edmics-mmr",rlc:"image/vnd.fujixerox.edmics-rlc",mdi:"image/vnd.ms-modi",npx:"image/vnd.net-fpx",wbmp:"image/vnd.wap.wbmp",xif:"image/vnd.xiff",ras:"image/x-cmu-raster",cmx:"image/x-cmx","fh,fhc,fh4,fh5,fh7":"image/x-freehand",ico:"image/x-icon","pntg,pnt,mac":"image/x-macpaint",pcx:"image/x-pcx",pnm:"image/x-portable-anymap",pbm:"image/x-portable-bitmap",pgm:"image/x-portable-graymap",ppm:"image/x-portable-pixmap","qtif,qti":"image/x-quicktime",rgb:"image/x-rgb",xbm:"image/x-xbitmap",xpm:"image/x-xpixmap",xwd:"image/x-xwindowdump","eml,mime":"message/rfc822","igs,iges":"model/iges","msh,mesh,silo":"model/mesh",dwf:"model/vnd.dwf",gdl:"model/vnd.gdl",gtw:"model/vnd.gtw",mts:"model/vnd.mts",vtu:"model/vnd.vtu","wrl,vrml":"model/vrml","ics,ifb":"text/calendar",css:"text/css",csv:"text/csv","html,htm":"text/html","txt,text,conf,def,list,log,in":"text/plain",dsc:"text/prs.lines.tag",rtx:"text/richtext","sgml,sgm":"text/sgml",tsv:"text/tab-separated-values","t,tr,roff,man,me,ms":"text/troff","uri,uris,urls":"text/uri-list",curl:"text/vnd.curl",dcurl:"text/vnd.curl.dcurl",scurl:"text/vnd.curl.scurl",mcurl:"text/vnd.curl.mcurl",fly:"text/vnd.fly",flx:"text/vnd.fmi.flexstor",gv:"text/vnd.graphviz","3dml":"text/vnd.in3d.3dml",spot:"text/vnd.in3d.spot",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",wmls:"text/vnd.wap.wmlscript","s,asm":"text/x-asm","c,cc,cxx,cpp,h,hh,dic":"text/x-c","f,for,f77,f90":"text/x-fortran","p,pas":"text/x-pascal",java:"text/x-java-source",etx:"text/x-setext",uu:"text/x-uuencode",vcs:"text/x-vcalendar",vcf:"text/x-vcard","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgv:"video/jpeg","jpm,jpgm":"video/jpm","mj2,mjp2":"video/mj2","mp4,mp4v,mpg4,m4v":"video/mp4","mpeg,mpg,mpe,m1v,m2v":"video/mpeg",ogv:"video/ogg","qt,mov":"video/quicktime",fvt:"video/vnd.fvt","mxu,m4u":"video/vnd.mpegurl",pyv:"video/vnd.ms-playready.media.pyv",viv:"video/vnd.vivo","dv,dif":"video/x-dv",f4v:"video/x-f4v",fli:"video/x-fli",flv:"video/x-flv",m4v:"video/x-m4v","asf,asx":"video/x-ms-asf",wm:"video/x-ms-wm",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx",avi:"video/x-msvideo",movie:"video/x-sgi-movie",ice:"x-conference/x-cooltalk",mobi:"application/x-mobipocket-ebook","README,LICENSE,COPYING,TODO,ABOUT,AUTHORS,CONTRIBUTORS":"text/plain"},e="binary/octet-stream",i={charset:"UTF-8",catalog:{},get:function(t,i){if(!t)return e;var n=this.catalog[t.toString().split(".").slice(-1).toString().toLowerCase()];return i=i?i:{},n&&i.includeCharset&&n.match(/^text\//)&&(n+="; charset="+(i.charset||this.charset)),n||e},set:function(t,e){for(var i=t.split(","),n=0;n<i.length;n++)this.catalog[i[n]]=e}};for(var n in t)i.set(n,t[n]);return i}),define("$app/ui/shared/with_file_upload",["$app/utils/file","$app/utils/mimetypes"],function(t,e){function i(){this.uploadFile=function(e){var i=this.getFileInputFromEvent(e),n=this.getFileNameFromInput(i);this.trigger(this.attr.uiUploadWithCorsEvent,{formId:this.getForm().attr("id"),guid:this.select("guidInputSelector").val()||t.generateGuid(),fileName:n,userExternalId:t.determineUserExternalIdForForm(this.getForm()),file:i})},this.getFileNameFromInput=function(t){if("undefined"!=typeof t){var e;return e=null!=t.value?t.value.replace(/.*(\/|\\)/,""):null!=t.fileName?t.fileName:t.name,this.cleanFileName(e)}},this.cleanFileName=function(t){if(!this.attr.fileNameReplacements||"undefined"==typeof t)return t;for(var e=0;e<this.attr.fileNameReplacements.length;e++){var i=this.attr.fileNameReplacements[e],n=i[0],r=i[1];t=t.replace(n,r)}return t},this.validateFileName=function(t,e){if(e){for(var i=-1!=t.indexOf(".")?t.replace(/.*[.]/,"").toLowerCase():"",n=0;n<e.length;n++)if(e[n].toLowerCase()==i)return!0;return!1}return!0},this.setFormAction=function(t){this.getForm().data("default-target",this.getForm().attr("action")),this.getForm().attr("action",t)},this.setFormActionAsDefault=function(){this.getForm().attr("action",this.getForm().data("default-target"))},this.prepareFileInputAndButtonForIEIfNeeded=function(t,e){$.browser.msie&&(t.appendTo(e),e.off("click"))},this.getFileInputFromEvent=function(t){return Modernizr.filereader?t.target.files[0]:t.target},this.resetFormInputValue=function(t,e){if(e.isS3)for(var i=0;i<e.originalFormData.length;i++)this.getForm().find("input[name='"+e.originalFormData[i].name+"']").val(e.originalFormData[i].value);this.getForm().find("input[type=file]").val("")},this.getForm=function(){return this.attr.formSelector?this.select("formSelector"):this.$node},this.after("initialize",function(){if(!this.getForm().is("form")&&!this.attr.formSelector)throw"File upload mixin has to be attached to form or formSelector must be given."})}return i}),define("hbs!$app/templates/video_src",["hbs","hbs/handlebars"],function(t,e){var i=e.template({1:function(t,e,i,n){return"autoplay loop"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r,a;return'<section class="profile-background-container js-background-video-container" style="opacity: '+this.escapeExpression((a=null!=(a=e.opacity||(null!=t?t.opacity:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"opacity",hash:{},data:n}):a))+';">\n  <video class="'+this.escapeExpression((a=null!=(a=e.video_class||(null!=t?t.video_class:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"video_class",hash:{},data:n}):a))+'" '+(null!=(r=e["if"].call(t,null!=t?t.play_video:t,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:"")+' muted>\n    <source src="'+this.escapeExpression((a=null!=(a=e.video_url||(null!=t?t.video_url:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"video_url",hash:{},data:n}):a))+'" type="video/mp4">\n  </video>\n</section>\n'},useData:!0});return e.registerPartial("$app/templates/video_src",i),i}),define("hbs!$app/templates/image_src",["hbs","hbs/handlebars"],function(t,e){var i=e.template({1:function(t,e,i,n){var r;return'  <section class="profile-background-container js-background-image-container" style="opacity: '+this.escapeExpression((r=null!=(r=e.opacity||(null!=t?t.opacity:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"opacity",hash:{},data:n}):r))+"; background-size: auto; background-size: repeat; background-image: url("+this.escapeExpression((r=null!=(r=e.image_url||(null!=t?t.image_url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"image_url",hash:{},data:n}):r))+');"></section>\n'},3:function(t,e,i,n){var r;return'  <section class="profile-background-container js-background-image-container" style="opacity: '+this.escapeExpression((r=null!=(r=e.opacity||(null!=t?t.opacity:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"opacity",hash:{},data:n}):r))+';">\n    <img src="'+this.escapeExpression((r=null!=(r=e.image_url||(null!=t?t.image_url:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"image_url",hash:{},data:n}):r))+'" class="js-background-image">\n  </section>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return null!=(r=e["if"].call(t,null!=t?t.tiled:t,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.program(3,n,0),data:n}))?r:""},useData:!0});return e.registerPartial("$app/templates/image_src",i),i}),define("hbs!$app/templates/css_hint_list_item",["hbs","hbs/handlebars"],function(t,e){var i=e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return'<li class="css-hint js-css-hint" data-css-hint-selector="'+this.escapeExpression((r=null!=(r=e.selector||(null!=t?t.selector:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"selector",hash:{},data:n}):r))+'">'+this.escapeExpression((r=null!=(r=e.description||(null!=t?t.description:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"description",hash:{},data:n}):r))+"</li>\n"},useData:!0});return e.registerPartial("$app/templates/css_hint_list_item",i),i}),define("$app/ui/shared/customization_modules_form",["flight/lib/component","$app/ui/shared/with_file_upload","hbs!$app/templates/video_src","hbs!$app/templates/image_src","hbs!$app/templates/css_hint_list_item","$vendor/jquery.miniColors"],function(t,e,i,n,r){function a(){this.defaultAttrs({backgroundPickerSelector:".js-background-picker",backgroundPickerButtonSelector:".js-background-picker-button",backgroundRemoveSelector:".js-background-remove",backgroundPreviewImageSelector:".js-background-preview",backgroundPreviewHolderSelector:".js-background-preview-holder",backgroundPreviewVideoSelector:".js-background-preview-video",backgroundVideoSelector:".js-background-video",backgroundVideoContainerSelector:".js-background-video-container",backgroundImageContainerSelector:".js-background-image-container",cssHintListSelector:".js-css-hint-list",cssHintItemSelector:".js-css-hint",cssHintTargetSelector:"[data-css-hint-selector]",cssPreviewSelector:'.js-custom-style[data-component="custom_css"]',cssPreviewTriggerSelector:".js-custom-css-preview-trigger",cssResetTriggerSelector:".js-custom-css-reset-trigger",cssTextareaSelector:".js-custom-css",themeSelector:".js-theme-select",videoThumbnailProcessingSelector:".js-video-thumbnail-processing-container",backgroundOpacitySliderSelector:".js-background-opacity-slider",pullFromTwitterSelector:".js-pull-from-twitter",backgroundColorSelector:".js-background-color",highlightColorSelector:".js-highlight-color",submitButtonSelector:".js-submit-button",uploadBackgroundInputSelector:".js-background-input",tilingPSelector:".js-tiling-p",tilingCheckboxSelector:".js-tiling-checkbox",colorInputSelector:".js-color-input",editProductSelector:".js-preview-link",editProductCheckboxSelector:".js-preview-toggle",styleComponentResetSelector:".js-reset-style-component",uiUploadWithCorsEvent:"uiNeedsToUploadBackgroundWithCors",uiUploadWithNonCorsEvent:"uiNeedsToUploadBackgroundWithNonCors",fileNameReplacements:[["#","-"]],validFileExtensions:["jpeg","jpg","png","tiff","tif","gif","mp4"],validFileExtensionsForVideo:["mp4"],shouldEditAfterSave:!1,themeDefaults:{}}),this.setCustomizationModulesForm=function(t,e){e.cors_data&&this.$node.data("cors",e.cors_data)},this.getColorsFromTwitter=function(t){t.preventDefault();var e=this.select("pullFromTwitterSelector");e.data("default",e.text()),e.text(I18n.t("js.updating")),this.trigger("uiNeedsToGetColorsFromTwitter")},this.previewCustomCss=function(t){t&&t.preventDefault(),$("head").find(this.attr.cssPreviewSelector).text(this.select("cssTextareaSelector").val())},this.resetCustomCss=function(t){t&&t.preventDefault();var e=this.select("cssTextareaSelector").data("css");this.select("cssTextareaSelector").val(e),this.attr.$customCssTag.text(e)},this.setColorsGotFromTwitter=function(t,e){this.select("backgroundColorSelector").val(e.background_color).change(),this.select("highlightColorSelector").val(e.highlight_color).change(),e.background_image_url&&""!=e.background_image_url&&(this.attr.backgroundUrl=e.background_image_url,this.setBackground()),this.setPullFromTwitterTextToDefault()},this.setPullFromTwitterTextToDefault=function(){var t=this.select("pullFromTwitterSelector");t.text(t.data("default"))},this.showErrorFlashMessage=function(t,e){e&&e.error_message?this.trigger("uiShowFlashMessage",{message:e.error_message}):this.trigger("uiShowFlashMessage",{message:I18n.t("js.something_went_wrong")})},this.showFileChooserForBackground=function(t){t.preventDefault(),this.select("uploadBackgroundInputSelector").click()},this.removeBackground=function(t){t.preventDefault(),this.attr.backgroundUrl="",delete this.attr.fileName,this.setBackground()},this.setEditFlagAndSubmit=function(t){this.select("editProductCheckboxSelector").attr("checked",!1),this.attr.shouldEditAfterSave=!0,this.submitCustomizationModulesForm(t)},this.submitCustomizationModulesForm=function(t){t.preventDefault();var e=this.select("submitButtonSelector"),i=this.$node.serialize(),n="",r="";if(e.text(I18n.t("js.saving")),this.attr.backgroundUrl&&this.validateFileName(this.attr.backgroundUrl,this.attr.validFileExtensions)){var a=encodeURIComponent(this.attr.backgroundUrl);this.backgroundUrlIsVideo()?n=a:r=a}i+="&"+encodeURIComponent("user[background_image_url]")+"="+r+"&"+encodeURIComponent("user[background_video_url]")+"="+n,this.trigger("uiShouldUpdateProduct"),this.trigger("uiNeedsToSaveFollowPageContent"),this.trigger("uiNeedsToSaveCreatorProfileHeaderContent"),this.trigger("uiNeedsToUpdateUserSettings",{serializedFormData:i,url:this.$node.attr("action")}),this.trigger("uiShouldHideFollowFormPopover"),this.trigger("uiNeedsToSaveProductVisibilities"),this.trigger("uiNeedsToSaveGridLayout")},this.showChangesSaved=function(t,e){this.trigger("uiShowFlashMessage",{message:I18n.t("js.changes_saved")}),this.setProductFormSubmitButtonToDefault(),this.previewCustomCss(),this.select("cssTextareaSelector").data("css",this.select("cssTextareaSelector").val()),this.attr.shouldEditAfterSave&&(window.location=this.select("editProductSelector").attr("href"))},this.setProductFormSubmitButtonToDefault=function(){this.select("submitButtonSelector").text(I18n.t("js.save_changes_prompt"))},this.setUploadingText=function(){this.select("backgroundPickerButtonSelector").text("...")},this.updateBackground=function(t,e){this.attr.backgroundUrl=this.$node.data("s3-url")+"/"+e.s3Key,this.setBackground()},this.setBackground=function(){var t=this.backgroundUrlIsVideo(),e=!t&&this.attr.backgroundUrl.length>0;if(t||e?(this.select("backgroundRemoveSelector").show(),this.select("backgroundPickerButtonSelector").text(I18n.t("js.update")),this.select("backgroundPickerSelector").data("has-background",!0),this.select("backgroundPreviewHolderSelector").addClass("has-background")):(this.select("backgroundPickerButtonSelector").text(I18n.t("js.add")),this.select("backgroundRemoveSelector").hide(),this.select("backgroundPickerSelector").data("has-background",!1),this.select("backgroundPreviewHolderSelector").removeClass("has-background"),this.select("backgroundPreviewImageSelector").attr("src",this.select("backgroundPreviewImageSelector").data("default"))),this.select("backgroundPreviewVideoSelector").remove(),$(this.attr.backgroundVideoContainerSelector).remove(),$(this.attr.backgroundImageContainerSelector).remove(),this.select("tilingPSelector").hide(),t||e){var r=this.select("backgroundOpacitySliderSelector").val()/100;t?(this.attr.backgroundPreviewVideoUrl?(this.select("videoThumbnailProcessingSelector").hide(),this.select("backgroundPreviewImageSelector").attr("src",this.attr.backgroundPreviewVideoUrl),this.attr.backgroundPreviewVideoUrl=void 0):(this.select("backgroundPreviewImageSelector").attr("src",this.select("backgroundPreviewImageSelector").data("default")),this.select("videoThumbnailProcessingSelector").show()),$("body").prepend(i({play_video:!0,video_class:this.attr.backgroundVideoSelector.substring(1),video_url:this.attr.backgroundUrl,opacity:r}))):(this.select("videoThumbnailProcessingSelector").hide(),this.select("backgroundPreviewImageSelector").attr("src",this.attr.backgroundUrl),this.select("tilingPSelector").show(),$("body").prepend(n({tiled:this.select("tilingCheckboxSelector").is(":checked"),image_url:this.attr.backgroundUrl,opacity:r})))}},this.resetThemeComponents=function(t,e){t&&t.preventDefault();var i=this.attr.themes[this.select("themeSelector").val()];this.select("highlightColorSelector").val(i.highlight_color).change(),this.select("backgroundColorSelector").val(i.background_color).change()},this.showStylePreview=function(t,e){$("style").filter('.js-custom-style[data-component="'+e.component+'"]').text(e.css),e.is_default&&this.resetThemeComponents()},this.setColorPickers=function(){var t=this;this.select("colorInputSelector").each(function(){$(this).miniColors("value",$(this).data("color"))}),this.select("colorInputSelector").miniColors({change:function(e){t.trigger("uiNeedsToPreviewStyleComponent",{component:$(this).data("style-component"),color:e,theme:t.select("themeSelector").val()})}})},this.setCssHints=function(){if(!(this.select("cssHintListSelector").length<1)){var t=[];this.select("cssHintListSelector").empty(),$(document).find(this.attr.cssHintTargetSelector).each(function(e,i){var n=$(i).data("css-hint-selector");-1===t.indexOf(n)&&(this.select("cssHintListSelector").append(r({selector:n,description:$(i).data("css-hint-description")})),t.push(n))}.bind(this))}},this.showCssHint=function(t,e){$(document).find($(e.el).data("css-hint-selector")).addClass("css-hint-active")},this.hideCssHint=function(t,e){$(".css-hint-active").removeClass("css-hint-active")},this.addCssHint=function(t,e){var i=this.select("cssTextareaSelector").val()+"\n\n"+$(e.el).data("css-hint-selector")+" { }";this.select("cssTextareaSelector").val(i).focus()},this.setTheme=function(){this.select("themeSelector").find("option").each(function(){$("body").removeClass($(this).val())}),$("body").addClass(this.select("themeSelector").val()),this.resetThemeComponents()},this.startFileUpload=function(t){this.attr.fileName=this.getFileNameFromInput(this.select("uploadBackgroundInputSelector")[0]),this.validateFileName(this.attr.fileName,this.attr.validFileExtensions)?this.uploadFile(t):(this.trigger("uiShowFlashMessage",{message:I18n.t("js.invalid_file_type")+" "+I18n.t("js.allowed_types",{filetypes:this.attr.validFileExtensions.join(", ")})}),this.select("uploadBackgroundInputSelector").val(null))},this.backgroundUrlIsVideo=function(){return this.attr.fileName&&this.validateFileName(this.attr.fileName,this.attr.validFileExtensionsForVideo)},this.after("initialize",function(){this.attr.themes=this.select("themeSelector").data("themes"),this.attr.backgroundUrl=this.select("backgroundPreviewHolderSelector").data("initial-background-url"),this.attr.$customCssTag=$("head").find(this.attr.cssPreviewSelector),this.attr.fileName=this.cleanFileName(this.attr.backgroundUrl.replace(/.*(\/|\\)/,"")),this.backgroundUrlIsVideo()&&(this.attr.backgroundPreviewVideoUrl=this.select("backgroundPreviewHolderSelector").data("initial-background-image")),this.setBackground(),this.setColorPickers(),this.setCssHints(),this.select("backgroundPickerSelector").css("color",this.select("backgroundRemoveSelector").css("color")),this.prepareFileInputAndButtonForIEIfNeeded(this.select("uploadBackgroundInputSelector"),this.select("backgroundPickerSelector")),this.on("click",{pullFromTwitterSelector:this.getColorsFromTwitter,backgroundPickerSelector:this.showFileChooserForBackground,backgroundRemoveSelector:this.removeBackground,editProductSelector:this.setEditFlagAndSubmit,cssPreviewTriggerSelector:this.previewCustomCss,cssResetTriggerSelector:this.resetCustomCss,cssHintItemSelector:this.addCssHint,styleComponentResetSelector:this.resetStyleComponent}),this.on("change",{tilingCheckboxSelector:this.setBackground,uploadBackgroundInputSelector:this.startFileUpload,backgroundOpacitySliderSelector:this.setBackground,themeSelector:this.setTheme}),this.on("mouseover",{cssHintItemSelector:this.showCssHint}),this.on("mouseout",{cssHintItemSelector:this.hideCssHint}),this.on("submit",this.submitCustomizationModulesForm),this.on(document,"dataCustomizationModules",this.setCustomizationModulesForm),this.on(document,"dataColorsFromTwitter",this.setColorsGotFromTwitter),this.on(document,"dataFailedToGetColorsFromTwitter",this.setPullFromTwitterTextToDefault),this.on(document,"dataFailedToGetColorsFromTwitter",this.showErrorFlashMessage),this.on(document,"dataBackground",this.updateBackground),this.on(document,"dataUserSettings",this.showChangesSaved),this.on(document,"dataFailedToUpdateUserSettings",this.setProductFormSubmitButtonToDefault),this.on(document,"dataFailedToUpdateUserSettings",this.showErrorFlashMessage),this.on(document,"dataUploadingBackgroundStarted",this.setUploadingText),this.on(document,"dataUploadingBackgroundStarted",this.setFormActionAsDefault),this.on(document,"dataStyleComponentPreview",this.showStylePreview)})}return t(a,e)}),define("hbs!$app/templates/product_info",["hbs","hbs/handlebars","./helpers/t"],function(t,e){var i=e.template({1:function(t,e,i,n){var r;return'      <li class="default js-product-properties">\n        <input class="js-property-attr" type="text" value="'+this.escapeExpression((r=null!=(r=e.name||(null!=t?t.name:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"name",hash:{},data:n}):r))+'" readonly tabindex="-1" />\n        <input class="js-property-edit-value" type="text" value="'+this.escapeExpression((r=null!=(r=e.value||(null!=t?t.value:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"value",hash:{},data:n}):r))+'" readonly tabindex="-1" />\n      </li>\n'},3:function(t,e,i,n){var r;return'      <li class="js-custom-attributes">\n        <input class="js-info-edit-attr" type="text" value="'+this.escapeExpression((r=null!=(r=e.name||(null!=t?t.name:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"name",hash:{},data:n}):r))+'" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"new_product_attribute_key_title",{name:"t",hash:{},data:n}))+'" />\n        <input class="js-info-edit-value" type="text" value="'+this.escapeExpression((r=null!=(r=e.value||(null!=t?t.value:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"value",hash:{},data:n}):r))+'" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"new_product_attribute_value_title",{name:"t",hash:{},data:n}))+'" />\n        <button class="js-remove-custom-info button-danger button-small">'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"remove",{name:"t",hash:{},data:n}))+"</button>\n      </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r,a;return'<div class="product-info '+this.escapeExpression((a=null!=(a=e.filegroup||(null!=t?t.filegroup:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"filegroup",hash:{},data:n}):a))+'">\n  <ul>\n    <li>\n      <input type="text" class="summary-input" name="link[custom_summary]" value="'+this.escapeExpression((a=null!=(a=e.custom_summary||(null!=t?t.custom_summary:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"custom_summary",hash:{},data:n}):a))+'" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"default_summary_text",{name:"t",hash:{},data:n}))+'" />\n    </li>\n'+(null!=(r=e.each.call(t,null!=t?t.properties:t,{name:"each",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:"")+"\n"+(null!=(r=e.each.call(t,null!=t?t.custom_attributes:t,{name:"each",hash:{},fn:this.program(3,n,0),inverse:this.noop,data:n}))?r:"")+'    <li class="js-custom-attributes">\n      <input class="js-info-edit-attr" type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"new_product_attribute_key_title",{name:"t",hash:{},data:n}))+'" />\n      <input class="js-info-edit-value" type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"new_product_attribute_value_title",{name:"t",hash:{},data:n}))+'" />\n    </li>\n  </ul>\n</div>\n'},useData:!0});return e.registerPartial("$app/templates/product_info",i),i}),define("hbs!$app/templates/product_info_row",["hbs","hbs/handlebars","./helpers/t"],function(t,e){var i=e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){return'<li class="js-custom-attributes">\n  <input class="js-info-edit-attr" type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"new_product_attribute_key_title",{name:"t",hash:{},data:n}))+'" />\n  <input class="js-info-edit-value" type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"new_product_attribute_value_title",{name:"t",hash:{},data:n}))+'" />\n</li>\n'},useData:!0});return e.registerPartial("$app/templates/product_info_row",i),i}),define("$app/ui/product_edit/with_product_info",["hbs!$app/templates/product_info","hbs!$app/templates/product_info_row","$app/templates/helpers/t"],function(t,e){function i(){this.defaultAttrs({productInfoHolderSelector:".product-info-holder",customAttributesRowSelector:".product-info .js-custom-attributes",customAttributesNameSelector:".js-info-edit-attr",customAttributesValueSelector:".js-info-edit-value",propertiesRowSelector:".product-info .js-product-properties",propertyValueSelector:".js-property-edit-value",propertyNameSelector:".js-property-attr",removeCustomInfoSelector:".js-remove-custom-info",removePropertySelector:".js-remove-property"}),this.serializeCustomAttributesAndProductProperties=function(){var t="";return $.each([{attrName:"custom_attributes",row:"customAttributesRowSelector",name:this.attr.customAttributesNameSelector,value:this.attr.customAttributesValueSelector},{attrName:"properties",row:"propertiesRowSelector",name:this.attr.propertyNameSelector,value:this.attr.propertyValueSelector}],function(e,i){var n="";this.select(i.row).each(function(t){var e,r,a=$(this),s=a.find(i.name).val(),o=a.find(i.value).val(),l="["+t+"]";""!=s&&""!=o&&(e="&link["+i.attrName+"]"+l+"[name]="+encodeURIComponent(s),r="&link["+i.attrName+"]"+l+"[value]="+encodeURIComponent(o),n+=e+r)}),t+=""==n?"&link["+i.attrName+"]=":n}.bind(this)),t},this.resetProductInfo=function(e,i){i.custom_attributes&&(this.select("productInfoHolderSelector").html(t(i.custom_attributes)),this.trigger("uiUpdateCurrentProductPageTabHeight"))},this.createNewProductInfoRow=function(t){t.preventDefault();var i=$(t.target);0==i.parent().nextAll("li").length&&i.val().length>0&&($(t.target).closest("ul").append(e()),this.trigger("uiUpdateCurrentProductPageTabHeight"))},this.removeInfoOrPropertyRow=function(t){return t.preventDefault(),$(t.target).parent().remove(),this.trigger("uiUpdateCurrentProductPageTabHeight"),!1},this.after("initialize",function(){this.resetProductInfo({},{custom_attributes:this.select("productInfoHolderSelector").data("custom-attributes")}),this.on("click",{removeCustomInfoSelector:this.removeInfoOrPropertyRow,removePropertySelector:this.removeInfoOrPropertyRow}),this.on("keyup",{customAttributesValueSelector:this.createNewProductInfoRow}),this.on(document,"dataProduct",this.resetProductInfo)})}return i}),define("hbs!$app/templates/custom_attribute_input",["hbs","hbs/handlebars","./helpers/t"],function(t,e){var i=e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){return'<li>\n  <input class="js-custom-attr-label" type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"new_product_attribute_key_title",{name:"t",hash:{},data:n}))+'" />\n  <input class="js-custom-attr-value" type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"new_product_attribute_value_title",{name:"t",hash:{},data:n}))+'" />\n</li>\n'},useData:!0});return e.registerPartial("$app/templates/custom_attribute_input",i),i}),define("hbs!$app/templates/dynamic_custom_field",["hbs","hbs/handlebars","./helpers/t"],function(t,e){var i=e.template({1:function(t,e,i,n){return"required "},3:function(t,e,i,n){return'  <input type="checkbox" checked="checked" class="js-custom-field-required"/>\n'},5:function(t,e,i,n){return'  <input type="checkbox" class="js-custom-field-required"/>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r,a;return'<li class="customization-modules-custom-field">\n  <input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="'+(null!=(r=e["if"].call(t,null!=t?t.required:t,{name:"if",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:"")+'custom-field js-custom-field-name" value="'+this.escapeExpression((a=null!=(a=e.name||(null!=t?t.name:t))?a:e.helperMissing,"function"==typeof a?a.call(t,{name:"name",hash:{},data:n}):a))+'" type="text" name="name" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"enter_placeholder",{name:"t",hash:{},data:n}))+'"/>\n'+(null!=(r=e["if"].call(t,null!=t?t.required:t,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.program(5,n,0),data:n}))?r:"")+"</li>\n"},useData:!0});return e.registerPartial("$app/templates/dynamic_custom_field",i),i}),define("$app/ui/product/product_flow",["flight/lib/component","$app/ui/product_edit/with_product_info","hbs!$app/templates/custom_attribute_input","hbs!$app/templates/dynamic_custom_field","hbs!$app/templates/customization_modules_list_entry","$app/templates/helpers/t"],function(t,e,i,n,r){function a(){this.defaultAttrs({productPreviewStepSelector:".js-product-preview-trigger",paymentFormStepSelector:".js-payment-form-trigger",receiptStepSelector:".js-receipt-trigger",receiptCustomTextSelector:".js-receipt-custom-text-trigger",purchaseStepsSelector:".js-purchase-steps",stepOptionsSelector:".step-options",iWantThisTextChoiceSelector:".js-i-want-this-choice",iWantThisTextChoiceOptionSelector:".js-i-want-this-choice option:selected",customAttributesListSelector:".js-custom-product-info-container",
customAttributesFormInputsSelector:".js-custom-product-info-container input",customAttributesListElementsSelector:".js-custom-product-info-container ul li",linkCustomSummaryInputSelector:".js-custom-summary",linkCustomAttributeLabelsSelector:".js-custom-attr-label",linkCustomAttributeValuesSelector:".js-custom-attr-value",removeFileInfoAttributeSelector:".js-remove-file-info-trigger",fileInfoAttributesSelector:".file-info-element",fileInfoAttributeValuesSelector:".file-information-attr-value",removedFileInfoAttributesSelector:".file-info-element:hidden",customFieldsContainerSelector:"#dynamic-custom-fields",linkCustomFieldInputsSelector:".js-custom-field-name",linkCustomFieldsRequiredSelector:".js-custom-field-required",linkLastCustomFieldInputsSelector:".js-custom-field-name:last",requireShippingSelector:"#require_shipping_information",showCardHolderFullNameSelector:"#js-show-cardholder-name-field-trigger",showCardHolderFullNameTipsySelector:".js-show-cardholder-name-tipsy",productPreviewContainer:".js-product-preview-options",paymentFormContainerSelector:".js-payment-form-options",receiptFormContainerSelector:".js-receipt-options",currentStep:0}),this.updateSteps=function(t){this.select("purchaseStepsSelector").find("li").removeClass("active"),this.select("purchaseStepsSelector").find("li:nth-child("+(this.attr.currentStep+1)+")").addClass("active"),this.select("productPreviewContainer").addClass("hidden"),this.select("receiptFormContainerSelector").addClass("hidden"),this.select("paymentFormContainerSelector").addClass("hidden"),0==this.attr.currentStep?this.select("productPreviewContainer").removeClass("hidden"):1==this.attr.currentStep?this.select("paymentFormContainerSelector").removeClass("hidden"):this.select("receiptFormContainerSelector").removeClass("hidden")},this.triggerProductPreview=function(t){return t&&t.preventDefault(),0==this.attr.currentStep?!1:(2==this.attr.currentStep&&this.trigger("uiHideReceipt"),this.trigger("uiShowProductMain"),this.attr.currentStep=0,this.updateSteps(),!1)},this.triggerPaymentForm=function(t){return t&&t.preventDefault(),1==this.attr.currentStep?!1:(2==this.attr.currentStep&&this.trigger("uiHideReceipt"),this.trigger("uiForceShowPaymentForm"),this.attr.currentStep=1,this.updateSteps(),!1)},this.triggerReceipt=function(t){return t&&t.preventDefault(),2==this.attr.currentStep?!1:(this.trigger("uiShowReceipt",this.attr.sampleReceiptData),this.attr.currentStep=2,this.updateSteps(),!1)},this.updateCustomReceiptText=function(t){var e=this.select("receiptCustomTextSelector").val();this.trigger("uiUpdateReceiptCustomText",{text:e})},this.collectCustomAttributes=function(){var t=this.select("linkCustomAttributeValuesSelector");return this.select("linkCustomAttributeLabelsSelector").map(function(e){return{name:this.value,value:t.eq(e).val()}}).filter(function(){return this.name||this.value}).toArray()},this.collectCustomFields=function(){return this.select("linkCustomFieldInputsSelector").map(function(){var t=this.value,e=this.nextSibling.nextSibling.checked,i=t+(e?"":" ("+I18n.t("js.optional")+")");return{name:t,required:e,placeholder:i}}).filter(function(){return this.name.length>0}).toArray()},this.collectRemovedFileInfoAttributes=function(){var t=this.select("removedFileInfoAttributesSelector");return $.map(t,function(t,e){return $(t).data("file-info-key-name")})},this.submitUpdateProductForm=function(){var t=this.select("receiptCustomTextSelector").val(),e=this.collectCustomAttributes(),i=this.select("iWantThisTextChoiceSelector").val(),n=this.select("linkCustomSummaryInputSelector").val(),r=this.select("requireShippingSelector").is(":checked"),a=this.select("showCardHolderFullNameSelector").data("switch-value"),s=this.collectCustomFields().map(function(t){return{name:t.name,required:t.required}}),o=this.collectRemovedFileInfoAttributes();this.trigger("uiNeedsToUpdateCustomizationModules",{customAttributes:e,iWantThisButtonTextOption:i,customSummary:n,customReceipt:t,requireShipping:r,cardholderNameSwitch:a,customFields:s,removedFileInfoAttributes:o,uniquePermalink:this.attr.permalink})},this.showError=function(t,e){e.error_message?this.trigger("uiShowFlashMessage",{message:e.error_message}):this.trigger("uiShowFlashMessage",{message:I18n.t("js.something_went_wrong")})},this.switchSteps=function(t,e){this.attr.currentStep=e.step,this.updateSteps()},this.setSampleData=function(t,e){this.attr.sampleReceiptData=e.sample_receipt_data},this.changeIWantThisText=function(){this.trigger("uiUpdateWantButton",{buttonText:this.select("iWantThisTextChoiceOptionSelector").text()})},this.shouldDeleteCustomAttribute=function(t,e,i){return"js-custom-attr-label"==t&&""==e&&i>1},this.shouldDeleteCustomField=function(t,e){return""==t&&e>1},this.updateCustomAttributesText=function(t,e){8!=t.keyCode&&46!=t.keyCode||!this.shouldDeleteCustomAttribute(t.target.className,t.target.value,this.select("linkCustomAttributeLabelsSelector").length)?t.target==this.select("linkCustomAttributeLabelsSelector").last()[0]&&this.select("customAttributesListSelector").append(i()):$(t.target.parentNode).remove(),this.trigger("uiUpdateCustomAttributes",{linkCustomSummaryText:this.select("linkCustomSummaryInputSelector").val(),customAttributes:this.collectCustomAttributes()})},this.updateCustomFieldsInputs=function(t){var e=8==t.keyCode||46==t.keyCode;e&&this.shouldDeleteCustomField(t.target.value,this.select("linkCustomFieldInputsSelector").length)&&$(t.target.parentNode).remove(),this.select("linkLastCustomFieldInputsSelector")[0]&&t.target==this.select("linkLastCustomFieldInputsSelector")[0]&&!e&&this.select("customFieldsContainerSelector").append(n({name:"",required:!1,index:0})),this.trigger("uiUpdateCustomFields",{customFields:this.collectCustomFields()})},this.triggerRequireShippingInformation=function(){this.trigger("uiToggleShippingInformation",{cardHolderFullNameOption:this.select("showCardHolderFullNameSelector").data("switch-value"),countriesStates:this.select("requireShippingSelector").data("countries-states")})},this.triggerToggleCardholderFullName=function(t){switch(t.preventDefault(),this.select("showCardHolderFullNameSelector").data("switch-value")){case"on":this.select("showCardHolderFullNameSelector").data("switch-value","magic"),this.select("showCardHolderFullNameSelector").text(I18n.t("js.toggle_magic")),this.select("showCardHolderFullNameTipsySelector").attr("title",I18n.t("js.toggle_magic_tipsy_title"));break;case"magic":this.select("showCardHolderFullNameSelector").data("switch-value","off"),this.select("showCardHolderFullNameSelector").text(I18n.t("js.toggle_off")),this.select("showCardHolderFullNameTipsySelector").attr("title",I18n.t("js.toggle_off_tipsy_title"));break;case"off":this.select("showCardHolderFullNameSelector").data("switch-value","on"),this.select("showCardHolderFullNameSelector").text(I18n.t("js.toggle_on")),this.select("showCardHolderFullNameTipsySelector").attr("title",I18n.t("js.toggle_on_tipsy_title"))}},this.removeFileInfoAttribute=function(t){t.preventDefault();var e=$(t.target).closest("li");e.hide(),this.trigger("uiUpdateFileInfoAttributes",{removedFileInfoAttribute:e.data("file-info-key-name")})},this.toggleRemoveFileInfoButtonVisibility=function(t){this.select("removeFileInfoAttributeSelector").hide(),this.select("fileInfoAttributeValuesSelector").removeClass("shifted-left");var e=$(t.target).closest("li"),i=e.children(this.attr.fileInfoAttributeValuesSelector);i.addClass("shifted-left");var n=e.children(this.attr.removeFileInfoAttributeSelector);n.show()},this.hideFileInfoButtons=function(t){this.select("removeFileInfoAttributeSelector").hide(),this.select("fileInfoAttributeValuesSelector").removeClass("shifted-left")},this.after("initialize",function(){this.on("click",{productPreviewStepSelector:this.triggerProductPreview,paymentFormStepSelector:this.triggerPaymentForm,receiptStepSelector:this.triggerReceipt,requireShippingSelector:this.triggerRequireShippingInformation,showCardHolderFullNameSelector:this.triggerToggleCardholderFullName,linkCustomFieldsRequiredSelector:this.updateCustomFieldsInputs,removeFileInfoAttributeSelector:this.removeFileInfoAttribute}),this.on("change",{iWantThisTextChoiceSelector:this.changeIWantThisText}),this.on("mouseover",{fileInfoAttributesSelector:this.toggleRemoveFileInfoButtonVisibility}),this.on("mouseout",{fileInfoAttributesSelector:this.hideFileInfoButtons}),this.on("keyup",{receiptCustomTextSelector:this.updateCustomReceiptText,customAttributesFormInputsSelector:this.updateCustomAttributesText,linkCustomFieldInputsSelector:this.updateCustomFieldsInputs}),this.on(document,"uiShouldUpdateProduct",this.submitUpdateProductForm),this.on(document,"dataCustomizationModules",this.setSampleData),this.on(document,"dataProductFailedToUpdate",this.showError),this.on(document,"uiSwitchSteps",this.switchSteps)})}return t(e,a)}),define("hbs!$app/templates/custom_fields",["hbs","hbs/handlebars"],function(t,e){var i=e.template({1:function(t,e,i,n){var r;return'  <p class="custom-fields-p">\n    <input type="text" class="custom-field" placeholder="'+this.escapeExpression((r=null!=(r=e.placeholder||(null!=t?t.placeholder:t))?r:e.helperMissing,"function"==typeof r?r.call(t,{name:"placeholder",hash:{},data:n}):r))+'"></input>\n  </p>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return null!=(r=e.each.call(t,null!=t?t.custom_fields:t,{name:"each",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:""},useData:!0});return e.registerPartial("$app/templates/custom_fields",i),i}),define("hbs!$app/templates/shipping_information",["hbs","hbs/handlebars","./helpers/t"],function(t,e){var i=e.template({1:function(t,e,i,n){return'          <option value="'+this.escapeExpression(this.lambda(t,t))+'">'+this.escapeExpression(this.lambda(t,t))+"</option>\n"},3:function(t,e,i,n){return'        <option value="'+this.escapeExpression(this.lambda(t,t))+'">'+this.escapeExpression(this.lambda(t,t))+"</option>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return'<div class="mini-rule shipping-rule"></div>\n\n<p>\n  <label for="purchase_full_name">'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"mailing_address_prompt",{name:"t",hash:{},data:n}))+':</label>\n  <input type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"full_name",{name:"t",hash:{},data:n}))+'" name="purchase[full_name]" class="full_name required" autocapitalize="words">\n</p>\n\n<div class="shipping_information">\n  <p>\n    <input type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"street_address",{name:"t",hash:{},data:n}))+'" name="purchase[street_address]" class="purchase_street_address required" id="autocomplete" autocapitalize="words">\n  </p>\n\n  <p class="multi-column">\n    <input type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"city",{name:"t",hash:{},data:n}))+'" name="purchase[city]" class="purchase_city required" autocapitalize="words">\n      <select class="purchase_state required appearance-none" name="purchase[state]">\n        <option disabled="disabled">\u2500\u2500</option>\n'+(null!=(r=e.each.call(t,null!=t?t.states:t,{name:"each",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:"")+'      </select>\n\n    <input type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"state",{name:"t",hash:{},data:n}))+'" name="" class="purchase_state" autocapitalize="characters">\n\n    <input type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"zip_code",{name:"t",hash:{},data:n}))+'" name="purchase[zip_code]" class="purchase_zip_code required">\n  </p>\n  <p>\n    <select class="purchase_country appearance-none" name="purchase[country]">\n      <option value="United States">United States</option>\n      <option value="Japan">Japan</option>\n'+(null!=(r=e.each.call(t,null!=t?t.countries:t,{name:"each",hash:{},fn:this.program(3,n,0),inverse:this.noop,data:n}))?r:"")+"    </select>\n  </p>\n</div>"},useData:!0});return e.registerPartial("$app/templates/shipping_information",i),i}),define("hbs!$app/templates/full_name_input",["hbs","hbs/handlebars","./helpers/t"],function(t,e){var i=e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){return'<input type="text" placeholder="'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"full_name",{name:"t",hash:{},data:n}))+'" name="purchase[full_name]" class="full_name required js-full-name-input" />\n'},useData:!0});return e.registerPartial("$app/templates/full_name_input",i),i}),define("$app/ui/product/with_edit_payment_form",["flight/lib/component","hbs!$app/templates/custom_fields","hbs!$app/templates/shipping_information","hbs!$app/templates/full_name_input","$app/templates/helpers/t"],function(t,e,i,n){function r(){this.defaultAttrs({shippingInformationContainerSelector:".js-shipping-information-container",fullNameOnCreditCardSelector:".js-full-name-p",fullNameOnCreditCardInput:".js-full-name-input",customFieldListSelector:".js-custom-fields-container",paymentFormSelector:".buy-form-main"}),this.shippingInformationContainerIsHidden=function(){return 0==this.select("shippingInformationContainerSelector").children().length||this.select("shippingInformationContainerSelector").is(":hidden")},this.toggleShippingInformation=function(t,e){if(this.shippingInformationContainerIsHidden()){this.select("fullNameOnCreditCardSelector").hide();var r=Object.keys(e.countriesStates),a=$.map(e.countriesStates,function(t){return t});this.select("shippingInformationContainerSelector").html(i({countries:r,states:a})).show(),this.trigger("uiNeedsToUpdateStateAndZipCode")}else this.select("shippingInformationContainerSelector").hide(),"off"!=e.cardHolderFullNameOption&&this.select("fullNameOnCreditCardSelector").html(n());this.trigger("uiAnimatePaymentFormHeight",{animate:!1})},this.updateCustomFields=function(t,i){this.select("customFieldListSelector").html(e({custom_fields:i.customFields})),this.trigger("uiAnimatePaymentFormHeight",{animate:!1})},this.after("initialize",function(){this.on(document,"uiToggleShippingInformation",this.toggleShippingInformation),this.on(document,"uiUpdateCustomFields",this.updateCustomFields)})}return t(r)}),define("$app/ui/shared/email_modal",["flight/lib/component"],function(t){function e(){this.defaultAttrs({closeButtonSelector:"#email-product-modal .js-close-modal-trigger",emailProductModalSelector:"#email-product-modal",toFieldSelector:"#email-product-modal input[name='email[to]']",fromFieldSelector:"#email-product-modal input[name='email[from]']",messageFieldSelector:"#email-product-modal textarea[name='email[message]']",emailButtonSelector:"#email-product-modal .js-email-submit-button",modalShadowSelector:".js-modal-shadow"}),this.showModal=function(t,e){return this.select("emailProductModalSelector").removeClass("cancelled-element"),this.$node.removeClass("ie-hidden"),this.$node.addClass("showing"),this.select("modalShadowSelector").addClass("showing"),this.select("emailProductModalSelector").addClass("showing"),!1},this.hideModal=function(t){return this.select("emailProductModalSelector").addClass("cancelled-element"),this.$node.addClass("ie-hidden"),this.$node.removeClass("showing"),this.select("modalShadowSelector").removeClass("showing"),!1},this.asyncSubmitForm=function(t){if(t.preventDefault(),this.validateForm()){var e;e=this.attr.permalink?Routes.share_product_by_email_path(this.attr.permalink):Routes.share_user_by_email_path(this.attr.username),this.select("emailButtonSelector").text(I18n.t("js.sending_email")),this.trigger("uiNeedsToSendEmail",{to:this.select("toFieldSelector").val(),from:this.select("fromFieldSelector").val(),message:this.select("messageFieldSelector").val(),url:e})}return!1},this.validateForm=function(){var t=!0;return""==this.select("toFieldSelector").val()&&(t=!1,this.select("toFieldSelector").addClass("error")),""==this.select("fromFieldSelector").val()&&(t=!1,this.select("fromFieldSelector").addClass("error")),""==this.select("messageFieldSelector").val()&&(t=!1,this.select("messageFieldSelector").addClass("error")),t},this.fillInFromEmail=function(t,e){e.is_logged_in&&this.select("fromFieldSelector").val(e.email)},this.clearForm=function(t,e){this.select("emailButtonSelector").text(I18n.t("js.send_email")),this.select("toFieldSelector").val(""),this.select("fromFieldSelector").val(""),this.select("messageFieldSelector").val("")},this.after("initialize",function(){this.on("click",{closeButtonSelector:this.hideModal}),this.on("submit",this.asyncSubmitForm),this.on(document,"uiNeedsToShowEmailModal",this.showModal),this.on(document,"dataEmailSuccessfullySent",this.clearForm),this.on(document,"dataCurrentUserInfo",this.fillInFromEmail)})}return t(e)}),define("$app/ui/shared/locale_selector",["flight/lib/component"],function(t){function e(){this.defaultAttrs({localeTriggerSelector:".js-locale-trigger"}),this.updateUserLocale=function(){var t=this.select("localeTriggerSelector").val(),e=this.getWindowLocationSearch();0===e.length?e="?locale="+t:e.indexOf("locale=")>=0?e=e.replace(/(locale=)[^&]+/,"locale="+t):e+="&locale="+t,this.setWindowLocationSearch(e)},this.setWindowLocationSearch=function(t){window.location.search=t},this.getWindowLocationSearch=function(){return window.location.search},this.after("initialize",function(){this.on("change",{localeTriggerSelector:this.updateUserLocale})})}return t(e)}),define("$app/ui/shared/with_fade_in_fade_out",[],function(){function t(){this.fadeIn=function(){this.$node.fadeIn()},this.fadeOut=function(){this.$node.fadeOut()},this.after("initialize",function(){this.on(document,this.attr.fadeInEvent,this.fadeIn),this.on(document,this.attr.fadeOutEvent,this.fadeOut)})}return t}),define("$app/ui/shared/sharing",["flight/lib/component","$app/ui/shared/with_fade_in_fade_out","$app/utils/with_social_share"],function(t,e,i){function n(){this.defaultAttrs({twitterSelector:".js-twitter-share-trigger",facebookSelector:".js-facebook-share-trigger",emailSharingSelector:".js-email-share-trigger",fadeInEvent:"uiFadeInSharing",shareCountSelector:".facebook-count",isModal:!1}),this.setReferrerIfModal=function(t,e){this.attr.isModal&&(this.select("twitterSelector").data("url",e.referrer),this.select("facebookSelector").data("url",e.referrer))},this.setTwitterSharingUrlForPurchase=function(t,e){var i=this.select("twitterSelector");i.attr("href",e.url),i.data("share-text",e.text)},this.setPermalinkForSharing=function(t,e){this.attr.permalink=e.permalink},this.trackTwitterShare=function(){this.trigger("uiNeedsToTrackProductSpecificEvent",{name:"twitter_share_product_page",permalink:this.attr.permalink})},this.trackFacebookShare=function(){this.trigger("uiNeedsToTrackProductSpecificEvent",{name:"facebook_share_product_page",permalink:this.attr.permalink})},this.setShareCount=function(t,e){this.select("shareCountSelector").text(e.count).css("display","inline-block")},this.popEmailModal=function(t){t.preventDefault(),this.trigger("uiNeedsToShowEmailModal")},this.popTwitterWindow=function(t){t.preventDefault(),window.open(t.target.href,"","location=yes, locationbar=yes, toolbar=no, scrollbars=yes, menubar=no, resizable=yes, top=500, left=500, width=550, height=520"),this.trackTwitterShare()},this.after("initialize",function(){this.on(document,"dataCurrentUserInfo",this.setReferrerIfModal),this.on(document,"uiSetPermalinkForSharing",this.setPermalinkForSharing),this.on(document,"uiSetTwitterSharingUrlForPurchase",this.setTwitterSharingUrlForPurchase),this.on(document,"dataShareCount",this.setShareCount),this.on("click",{twitterSelector:this.popTwitterWindow,facebookSelector:this.trackFacebookShare,emailSharingSelector:this.popEmailModal})})}return t(n,e,i)}),define("hbs!$app/templates/buyer_bar",["hbs","hbs/handlebars","./helpers/t"],function(t,e){var i=e.template({1:function(t,e,i,n){return'  <a href="#" class="js-buyer-menu-trigger buyer-circle-link">\n    <div class="profile-picture-small">\n      <div class="profile-picture js-buyer-circle"></div>\n    </div>\n  </a>\n'},3:function(t,e,i,n){var r;return'    <li>\n      <a href="/settings"><i class="gi gi-gear"></i> '+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"settings_prompt",{name:"t",hash:{},data:n}))+"</a>\n    </li>\n\n"+(null!=(r=e["if"].call(t,null!=t?t.show_library_link:t,{name:"if",hash:{},fn:this.program(4,n,0),inverse:this.noop,data:n}))?r:"")+'\n    <li>\n      <a href="/logout" class="js-logout-link"><i class="gi gi-logout"></i> '+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"logout_prompt",{name:"t",hash:{},data:n}))+"</a>\n    </li>\n"},4:function(t,e,i,n){return'      <li>\n        <a href="/library"><i class="gi gi-library"></i> '+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"library_prompt",{name:"t",hash:{},data:n}))+"</a>\n      </li>\n"},6:function(t,e,i,n){return'    <li>\n      <a href="#" class="js-login-trigger">'+this.escapeExpression((e.t||t&&t.t||e.helperMissing).call(t,"login",{name:"t",hash:{},data:n}))+"</a>\n    </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,i,n){var r;return(null!=(r=e.unless.call(t,null!=t?t.is_on_custom_domain:t,{name:"unless",hash:{},fn:this.program(1,n,0),inverse:this.noop,data:n}))?r:"")+'\n<ul class="account nav core js-buyer-menu">\n'+(null!=(r=e["if"].call(t,null!=t?t.is_logged_in:t,{name:"if",hash:{},fn:this.program(3,n,0),inverse:this.program(6,n,0),data:n}))?r:"")+"</ul>\n"},useData:!0});return e.registerPartial("$app/templates/buyer_bar",i),i}),define("$app/ui/shared/login",["flight/lib/component","$app/utils/auth_modal_setup","hbs!$app/templates/buyer_bar","$app/utils/checkout","$app/templates/helpers/t"],function(t,e,i,n){function r(){this.defaultAttrs({buyerMenuTriggerSelector:".js-buyer-menu-trigger",buyerCircleSelector:".js-buyer-circle",buyerMenuSelector:".js-buyer-menu",buyerBarContentSelector:".js-buyer-bar-content",bundleToolTipSelector:".js-bundle-tool-tip",userInfoSet:!1}),this.toggleBuyerMenu=function(t){t.preventDefault(),this.select("buyerMenuSelector").toggleClass("showing"),this.select("buyerMenuSelector").hasClass("showing")&&!n.isOnCheckoutPage()&&this.trigger("uiShouldHideBundle")},this.showBuyerMenu=function(t){n.isOnCheckoutPage()||(this.select("buyerMenuSelector").addClass("showing"),this.trigger("uiNeedsToShowBundle"))},this.hideBuyerMenu=function(t){n.isOnCheckoutPage()||this.select("buyerMenuSelector").removeClass("showing")},this.setCurrentUserInfo=function(t,n){this.userInfoSet||(this.userInfoSet=!0,this.select("buyerBarContentSelector").html(i(n)),n.profile_picture_url?this.select("buyerCircleSelector").attr("style","background-image: url("+n.profile_picture_url+");").addClass("showing-profile-picture"):this.select("buyerCircleSelector").addClass("empty showing-profile-picture"),e(),this.$node.fadeIn(),this.trigger("uiFadeInSharing"))},this.hideLoginSection=function(){this.$node.fadeOut()},this.showLoginSection=function(){this.$node.fadeIn()},this.resizeCheckoutArea=function(){this.$node.css("height",this.select("bundleToolTipSelector").outerHeight()+90)},this.after("initialize",function(){this.on(document,"dataCurrentUserInfo",this.setCurrentUserInfo),this.on(document,"uiNeedsToShowBuyerMenu",this.showBuyerMenu),this.on(document,"uiNeedsToHideBuyerMenu",this.hideBuyerMenu),this.on(document,"uiShouldShowEditing",this.hideLoginSection),this.on(document,"uiShouldHideEditing",this.showLoginSection),this.on(document,"uiResizeCheckoutArea",this.resizeCheckoutArea);var t=this.$node.data("user");void 0!=t&&(this.trigger("dataCurrentUserInfo",t),t.is_owner&&this.attr.username&&this.trigger("uiNeedsToGetCustomizationModules",{username:this.attr.username})),this.on("click",{buyerMenuTriggerSelector:this.toggleBuyerMenu})})}return t(r)}),define("$app/ui/shared/tip_marker",["flight/lib/component","$app/ui/shared/with_fade_in_fade_out"],function(t,e){function i(){this.defaultAttrs({textSelector:".text",fadeOutEvent:"uiFadeOutTipMarker",fadeInEvent:"uiFadeInTipMarker"}),this.setAndAttachTipMarker=function(t,e){this.attr.$attachedEl=e.$el,this.select("textSelector").text(e.tip),this.attachTipMarker()},this.attachTipMarker=function(){if("undefined"!=typeof this.attr.$attachedEl){var t=this.attr.$attachedEl.offset().left-this.$node.width()-34,e=this.attr.$attachedEl.offset().top+this.attr.$attachedEl.height()/2-this.$node.height()/2;this.$node.css({left:t,top:e}),this.$node.fadeIn()}},this.after("initialize",function(){this.on(document,"uiAttachTipMarker",this.setAndAttachTipMarker),this.on(document,"uiReattachTipMarker",this.attachTipMarker)})}return t(i,e)}),define("$app/ui/shared/demo",["flight/lib/component"],function(t){function e(){this.defaultAttrs({emailSelector:".envelope .email",wantThisButtonSelector:".i_want_this_button",payButtonSelector:".pay_button",changedMindButtonSelector:".changed_mind_button",autoTypeFields:[".cc_number",".expiry_date",".cv_code"],autoTypeTexts:["4242 4242 4242 4242","04 / "+((new Date).getFullYear()+3).toString().substr(-2),"123"],eventNames:["demo_i_want_this","demo_pay_button"],stepTips:[I18n.t("js.demo_click_to_start"),"",I18n.t("js.demo_enter_email"),I18n.t("js.demo_click_to_sign_up")],isDemoActive:!1,currentStep:0}),this.trackAndProgressDemo=function(t){return this.trigger("uiNeedsToTrackUserActionEvent",{name:this.attr.eventNames[this.attr.currentStep-1]}),this.attr.currentStep++,this.progressDemo(),!1},this.trackAndResetDemo=function(t){return this.trigger("uiNeedsToTrackUserActionEvent",{name:"demo_changed_my_mind"}),this.attr.currentStep=0,this.progressDemo(),!1},this.progressDemo=function(){this.trigger("uiFadeOutTipMarker"),setTimeout(function(){switch(this.attr.currentStep){case 0:this.trigger("uiAttachTipMarker",{$el:this.select("wantThisButtonSelector"),tip:this.attr.stepTips[this.attr.currentStep]});break;case 1:this.startAutoType(),this.attr.currentStep=2,setTimeout(function(){this.trigger("uiAttachTipMarker",{$el:this.select("payButtonSelector"),tip:this.attr.stepTips[this.attr.currentStep]})}.bind(this),1e3);break;case 3:this.select("emailSelector").removeClass("super-focus"),this.trigger("uiShowTipMarkOnGetStartedButton",{tip:this.attr.stepTips[this.attr.currentStep]})}}.bind(this),1e3)},this.completeDemo=function(){this.attr.currentStep=3,this.progressDemo()},this.startAutoType=function(){this.attr.currentAutoTypeStep=0,this.setAutoTypeAttributes(),this.type()},this.type=function(){if(0==this.attr.currentAutoTypeField.length)return void this.select("emailSelector").focus().addClass("super-focus");var t=$.Event("keyup");t.which=50,this.attr.currentAutoTypeField.val(this.attr.currentAutoTypeText.substr(0,this.attr.currentAutoTypeTextIndex++)),this.attr.currentAutoTypeField.trigger(t),this.attr.currentAutoTypeTextIndex==this.attr.currentAutoTypeText.length+1&&(this.attr.currentAutoTypeStep++,this.setAutoTypeAttributes(),this.attr.currentAutoTypeField.focus()),setTimeout(this.type.bind(this),50)},this.setAutoTypeAttributes=function(){this.attr.currentAutoTypeText=this.attr.autoTypeTexts[this.attr.currentAutoTypeStep],this.attr.currentAutoTypeField=$(this.attr.autoTypeFields[this.attr.currentAutoTypeStep]),this.attr.currentAutoTypeTextIndex=0},this.activateDemo=function(){return this.attr.isDemoActive?void 0:(this.progressDemo(),this.attr.isDemoActive=!0,!1)},this.after("initialize",function(){this.on(document,"uiCompleteDemo",this.completeDemo),this.on(document,"uiActivateDemo",this.activateDemo),this.on("click",{wantThisButtonSelector:this.trackAndProgressDemo,payButtonSelector:this.trackAndProgressDemo,changedMindButtonSelector:this.trackAndResetDemo})})}return t(e)}),define("$app/ui/shared/friend",["flight/lib/component"],function(t){function e(){this.defaultAttrs({linkSelector:"a",buttonSelector:"button",friendSelector:".friend"}),this.trackClick=function(t){this.attr.friend.clicks.push({type:t.target.nodeName.toLowerCase(),id:t.target.id,"class":t.target.className,timestamp:t.timeStamp})},this.trackKeyPress=function(t){var e,i=t.target,n=$(i);(n.hasClass("cc_number")||n.hasClass("cv_code")||n.hasClass("expiry_date"))&&t.which>47&&t.which<58&&(e=48),this.attr.friend.keys.push({type:i.nodeName.toLowerCase(),id:i.id,length:i.value?i.value.length:"","class":i.className,key:e||t.keyCode||t.which,timestamp:t.timeStamp})},this.setFriendValue=function(){this.select("friendSelector").val(JSON.stringify(this.attr.friend))},this.after("initialize",function(){this.attr.friend={start:(new Date).getTime(),keys:[],movements:[],clicks:[]},this.on("click",{linkSelector:this.trackClick,buttonSelector:this.trackClick}),this.on("keypress",this.trackKeyPress),this.on(document,"uiSetFriendValue",this.setFriendValue)})}return t(e)});var pluginName="intlTelInput",id=1,defaults={autoFormat:!0,autoHideDialCode:!0,defaultCountry:"us",ipinfoToken:"",nationalMode:!1,numberType:"MOBILE",onlyCountries:["af","al","dz","as","ad","ao","ai","ag","ar","am","aw","au","at","az","bh","bd","bb","by","be","bz","bj","bm","bt","bo","ba","bw","br","vg","bn","bg","bf","bi","kh","cm","ca","cv","bq","ky","cf","td","cl","cn","co","km","cd","cg","cr","ci","hr","cw","cy","cz","dk","dj","dm","do","ec","eg","sv","gq","er","ee","et","fo","fj","fi","fr","gf","pf","ga","gm","ge","de","gh","gi","gr","gl","gd","gp","gu","gt","gn","gy","ht","hn","hk","hu","is","in","id","ir","iq","ie","il","it","jm","jp","jo","kz","ke","kw","kg","la","lv","lb","ls","lr","ly","li","lt","lu","mo","mk","mg","mw","my","mv","ml","mt","mh","mq","mr","mu","mx","fm","md","mc","mn","me","ms","ma","mz","mm","na","np","nl","nc","nz","ni","ne","ng","kp","mp","no","om","pk","pw","ps","pa","py","pe","ph","pl","pt","pr","qa","re","ro","ru","rw","bl","kn","lc","mf","pm","vc","ws","sm","sa","sn","rs","sc","sl","sg","sk","si","so","za","kr","es","lk","sd","sr","sz","se","ch","sy","tw","tj","tz","th","tg","to","tt","tn","tr","tm","tc","tv","vi","ug","ua","ae","gb","us","uy","uz","va","ve","vn","ye","zm","zw"],preferredCountries:["us","gb"],responsiveDropdown:!1,utilsScript:""},keys={UP:38,DOWN:40,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,ZERO:48,NINE:57,SPACE:32,BSPACE:8,DEL:46,CTRL:17,CMD1:91,CMD2:224},windowLoaded=!1;$(window).load(function(){windowLoaded=!0}),Plugin.prototype={init:function(){var t=this;if("auto"==this.options.defaultCountry){this.options.defaultCountry="";var e="//ipinfo.io";this.options.ipinfoToken&&(e+="?token="+this.options.ipinfoToken),$.get(e,function(e){e&&e.country&&(t.options.defaultCountry=e.country.toLowerCase())},"jsonp").always(function(){t._ready()})}else this._ready()},_ready:function(){this.options.nationalMode&&(this.options.autoHideDialCode=!1),navigator.userAgent.match(/IEMobile/i)&&(this.options.autoFormat=!1),window.innerWidth<500&&(this.options.responsiveDropdown=!0),this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners()},_processCountryData:function(){this._setInstanceCountryData(),this._setPreferredCountries()},_addCountryCode:function(t,e,i){e in this.countryCodes||(this.countryCodes[e]=[]);var n=i||0;this.countryCodes[e][n]=t},_setInstanceCountryData:function(){var t;if(this.options.onlyCountries.length)for(this.countries=[],t=0;t<allCountries.length;t++)-1!=$.inArray(allCountries[t].iso2,this.options.onlyCountries)&&this.countries.push(allCountries[t]);else this.countries=allCountries;for(this.countryCodes={},t=0;t<this.countries.length;t++){var e=this.countries[t];if(this._addCountryCode(e.iso2,e.dialCode,e.priority),e.areaCodes)for(var i=0;i<e.areaCodes.length;i++)this._addCountryCode(e.iso2,e.dialCode+e.areaCodes[i])}},_setPreferredCountries:function(){this.preferredCountries=[];for(var t=0;t<this.options.preferredCountries.length;t++){var e=this.options.preferredCountries[t],i=this._getCountryData(e,!1,!0);i&&this.preferredCountries.push(i)}},_generateMarkup:function(){this.telInput=$(this.element),this.telInput.wrap($("<div>",{"class":"intl-tel-input"}));var t=$("<div>",{"class":"flag-dropdown"}).insertAfter(this.telInput),e=$("<div>",{"class":"selected-flag"}).appendTo(t);this.selectedFlagInner=$("<div>",{"class":"flag"}).appendTo(e),$("<div>",{"class":"arrow"}).appendTo(this.selectedFlagInner),this.countryList=$("<ul>",{"class":"country-list v-hide"}).appendTo(t),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"preferred"),$("<li>",{"class":"divider"}).appendTo(this.countryList)),this._appendListItems(this.countries,""),this.dropdownHeight=this.countryList.outerHeight(),this.countryList.removeClass("v-hide").addClass("hide"),this.options.responsiveDropdown&&this.countryList.outerWidth(this.telInput.outerWidth()),this.countryListItems=this.countryList.children(".country")},_appendListItems:function(t,e){
for(var i="",n=0;n<t.length;n++){var r=t[n];i+="<li class='country "+e+"' data-dial-code='"+r.dialCode+"' data-country-code='"+r.iso2+"'>",i+="<div class='flag "+r.iso2+"'></div>",i+="<span class='country-name'>"+r.name+"</span>",i+="<span class='dial-code'>+"+r.dialCode+"</span>",i+="</li>"}this.countryList.append(i)},_setInitialState:function(){var t=this.telInput.val();if(this._getDialCode(t))this._updateFlagFromNumber(t);else{var e;e=this.options.defaultCountry?this._getCountryData(this.options.defaultCountry,!1,!1):this.preferredCountries.length?this.preferredCountries[0]:this.countries[0],this._selectFlag(e.iso2),t||this._updateDialCode(e.dialCode,!1)}t&&this._updateVal(t,!1)},_initListeners:function(){var t=this;this._initKeyListeners(),(this.options.autoHideDialCode||this.options.autoFormat)&&this._initFocusListeners();var e=this.telInput.closest("label");e.length&&e.on("click"+this.ns,function(e){t.countryList.hasClass("hide")?t.telInput.focus():e.preventDefault()});var i=this.selectedFlagInner.parent();i.on("click"+this.ns,function(e){t.countryList.hasClass("hide")&&!t.telInput.prop("disabled")&&t._showDropdown()}),this.options.utilsScript&&(windowLoaded?this.loadUtils():$(window).load(function(){t.loadUtils()}))},_initKeyListeners:function(){var t=this;this.options.autoFormat&&this.telInput.on("keypress"+this.ns,function(e){if(e.which>=keys.SPACE&&!e.metaKey&&window.intlTelInputUtils){e.preventDefault();var i=e.which>=keys.ZERO&&e.which<=keys.NINE||e.which==keys.PLUS,n=t.telInput[0],r=t.isGoodBrowser&&n.selectionStart==n.selectionEnd,a=t.telInput.attr("maxlength"),s=a?t.telInput.val().length<a:!0;if(s&&(i||r)){var o=i?String.fromCharCode(e.which):null;t._handleInputKey(o,!0)}i||t.telInput.trigger("invalidkey")}}),this.telInput.on("keyup"+this.ns,function(e){if(e.which==keys.ENTER);else if(t.options.autoFormat&&window.intlTelInputUtils){var i=e.which==keys.CTRL||e.which==keys.CMD1||e.which==keys.CMD2,n=t.telInput[0],r=t.isGoodBrowser&&n.selectionStart==n.selectionEnd,a=t.isGoodBrowser&&n.selectionStart==t.telInput.val().length;if((e.which==keys.DEL&&!a||e.which==keys.BSPACE||i&&r)&&t._handleInputKey(null,i&&a),!t.options.nationalMode){var s=t.telInput.val();if("+"!=s.substr(0,1)){var o=t.isGoodBrowser?n.selectionStart+1:0;t.telInput.val("+"+s),t.isGoodBrowser&&n.setSelectionRange(o,o)}}}else t._updateFlagFromNumber(t.telInput.val())})},_handleInputKey:function(t,e){var i=this.telInput.val(),n=null,r=!1,a=this.telInput[0];if(this.isGoodBrowser){var s=a.selectionEnd,o=i.length;r=s==o,t?(i=i.substr(0,a.selectionStart)+t+i.substring(s,o),r||(n=s+(i.length-o))):n=a.selectionStart}else t&&(i+=t);this.setNumber(i,e),this.isGoodBrowser&&(r&&(n=this.telInput.val().length),a.setSelectionRange(n,n))},_initFocusListeners:function(){var t=this;this.options.autoHideDialCode&&this.telInput.on("mousedown"+this.ns,function(e){t.telInput.is(":focus")||t.telInput.val()||(e.preventDefault(),t.telInput.focus())}),this.telInput.on("focus"+this.ns,function(){var e=t.telInput.val();t.telInput.data("focusVal",e),t.options.autoHideDialCode&&(e||(t._updateVal("+"+t.selectedCountryData.dialCode,!0),t.telInput.one("keypress.plus"+t.ns,function(e){if(e.which==keys.PLUS){var i=t.options.autoFormat&&window.intlTelInputUtils?"+":"";t.telInput.val(i)}}),setTimeout(function(){var e=t.telInput[0];if(t.isGoodBrowser){var i=t.telInput.val().length;e.setSelectionRange(i,i)}})))}),this.telInput.on("blur"+this.ns,function(){if(t.options.autoHideDialCode){var e=t.telInput.val(),i="+"==e.substr(0,1);if(i){var n=t._getNumeric(e);n&&t.selectedCountryData.dialCode!=n||t.telInput.val("")}t.telInput.off("keypress.plus"+t.ns)}t.options.autoFormat&&window.intlTelInputUtils&&t.telInput.val()!=t.telInput.data("focusVal")&&t.telInput.trigger("change")})},_getNumeric:function(t){return t.replace(/\D/g,"")},_showDropdown:function(){this._setDropdownPosition();var t=this.countryList.children(".active");this._highlightListItem(t),this.countryList.removeClass("hide"),this._scrollTo(t),this._bindDropdownListeners(),this.selectedFlagInner.children(".arrow").addClass("up")},_setDropdownPosition:function(){var t=this.telInput.offset().top,e=$(window).scrollTop(),i=t+this.telInput.outerHeight()+this.dropdownHeight<e+$(window).height(),n=t-this.dropdownHeight>e,r=!i&&n?"-"+(this.dropdownHeight-1)+"px":"";this.countryList.css("top",r)},_bindDropdownListeners:function(){var t=this;this.countryList.on("mouseover"+this.ns,".country",function(e){t._highlightListItem($(this))}),this.countryList.on("click"+this.ns,".country",function(e){t._selectListItem($(this))});var e=!0;$("html").on("click"+this.ns,function(i){e||t._closeDropdown(),e=!1});var i="",n=null;$(document).on("keydown"+this.ns,function(e){e.preventDefault(),e.which==keys.UP||e.which==keys.DOWN?t._handleUpDownKey(e.which):e.which==keys.ENTER?t._handleEnterKey():e.which==keys.ESC?t._closeDropdown():(e.which>=keys.A&&e.which<=keys.Z||e.which==keys.SPACE)&&(n&&clearTimeout(n),i+=String.fromCharCode(e.which),t._searchForCountry(i),n=setTimeout(function(){i=""},1e3))})},_handleUpDownKey:function(t){var e=this.countryList.children(".highlight").first(),i=t==keys.UP?e.prev():e.next();i.length&&(i.hasClass("divider")&&(i=t==keys.UP?i.prev():i.next()),this._highlightListItem(i),this._scrollTo(i))},_handleEnterKey:function(){var t=this.countryList.children(".highlight").first();t.length&&this._selectListItem(t)},_searchForCountry:function(t){for(var e=0;e<this.countries.length;e++)if(this._startsWith(this.countries[e].name,t)){var i=this.countryList.children("[data-country-code="+this.countries[e].iso2+"]").not(".preferred");this._highlightListItem(i),this._scrollTo(i,!0);break}},_startsWith:function(t,e){return t.substr(0,e.length).toUpperCase()==e},_updateVal:function(t,e){var i;if(this.options.autoFormat&&window.intlTelInputUtils){i=intlTelInputUtils.formatNumber(t,this.selectedCountryData.iso2,e);var n=this.telInput.attr("maxlength");n&&i.length>n&&(i=i.substr(0,n))}else i=t;this.telInput.val(i)},_updateFlagFromNumber:function(t){this.options.nationalMode&&this.selectedCountryData&&"1"==this.selectedCountryData.dialCode&&"+"!=t.substr(0,1)&&(t="+1"+t);var e=this._getDialCode(t);if(e){var i=this.countryCodes[this._getNumeric(e)],n=!1;if(this.selectedCountryData)for(var r=0;r<i.length;r++)i[r]==this.selectedCountryData.iso2&&(n=!0);if(!n||this._isUnknownNanp(t,e))for(var a=0;a<i.length;a++)if(i[a]){this._selectFlag(i[a]);break}}},_isUnknownNanp:function(t,e){return"+1"==e&&this._getNumeric(t).length>=4},_highlightListItem:function(t){this.countryListItems.removeClass("highlight"),t.addClass("highlight")},_getCountryData:function(t,e,i){for(var n=e?allCountries:this.countries,r=0;r<n.length;r++)if(n[r].iso2==t)return n[r];if(i)return null;throw new Error("No country data for '"+t+"'")},_selectFlag:function(t){this.selectedCountryData=this._getCountryData(t,!1,!1),this.selectedFlagInner.attr("class","flag "+t);var e=this.selectedCountryData.name+": +"+this.selectedCountryData.dialCode;this.selectedFlagInner.parent().attr("title",e),this._updatePlaceholder();var i=this.countryListItems.children(".flag."+t).first().parent();this.countryListItems.removeClass("active"),i.addClass("active")},_updatePlaceholder:function(){if(window.intlTelInputUtils&&!this.hadInitialPlaceholder){var t=this.selectedCountryData.iso2,e=intlTelInputUtils.numberType[this.options.numberType||"FIXED_LINE"],i=intlTelInputUtils.getExampleNumber(t,this.options.nationalMode,e);this.telInput.attr("placeholder",i)}},_selectListItem:function(t){var e=t.attr("data-country-code");this._selectFlag(e),this._closeDropdown(),this._updateDialCode(t.attr("data-dial-code"),!0),this.telInput.trigger("change"),this.telInput.focus()},_closeDropdown:function(){this.countryList.addClass("hide"),this.selectedFlagInner.children(".arrow").removeClass("up"),$(document).off(this.ns),$("html").off(this.ns),this.countryList.off(this.ns)},_scrollTo:function(t,e){var i=this.countryList,n=i.height(),r=i.offset().top,a=r+n,s=t.outerHeight(),o=t.offset().top,l=o+s,d=o-r+i.scrollTop(),c=n/2-s/2;if(r>o)e&&(d-=c),i.scrollTop(d);else if(l>a){e&&(d+=c);var u=n-s;i.scrollTop(d-u)}},_updateDialCode:function(t,e){var i,n=this.telInput.val();if(t="+"+t,this.options.nationalMode&&"+"!=n.substr(0,1))i=n;else if(n){var r=this._getDialCode(n);if(r.length>1)i=n.replace(r,t);else{var a="+"!=n.substr(0,1)?$.trim(n):"";i=t+a}}else i=!this.options.autoHideDialCode||e?t:"";this._updateVal(i,e)},_getDialCode:function(t){var e="";if("+"==t.charAt(0))for(var i="",n=0;n<t.length;n++){var r=t.charAt(n);if($.isNumeric(r)&&(i+=r,this.countryCodes[i]&&(e=t.substr(0,n+1)),4==i.length))break}return e},destroy:function(){this._closeDropdown(),this.telInput.off(this.ns),this.selectedFlagInner.parent().off(this.ns),this.telInput.closest("label").off(this.ns);var t=this.telInput.parent();t.before(this.telInput).remove()},getCleanNumber:function(){return window.intlTelInputUtils?intlTelInputUtils.formatNumberE164(this.telInput.val(),this.selectedCountryData.iso2):""},getNumberType:function(){return window.intlTelInputUtils?intlTelInputUtils.getNumberType(this.telInput.val(),this.selectedCountryData.iso2):-99},getSelectedCountryData:function(){return this.selectedCountryData||{}},getValidationError:function(){return window.intlTelInputUtils?intlTelInputUtils.getValidationError(this.telInput.val(),this.selectedCountryData.iso2):-99},isValidNumber:function(){var t=$.trim(this.telInput.val()),e=this.options.nationalMode?this.selectedCountryData.iso2:"",i=/[a-zA-Z]/.test(t);return!i&&window.intlTelInputUtils?intlTelInputUtils.isValidNumber(t,e):!1},loadUtils:function(t){var e=t||this.options.utilsScript;!$.fn[pluginName].loadedUtilsScript&&e&&($.fn[pluginName].loadedUtilsScript=!0,$.ajax({url:e,success:function(){$(".intl-tel-input input").intlTelInput("utilsLoaded")},dataType:"script",cache:!0}))},selectCountry:function(t){this.selectedFlagInner.hasClass(t)||(this._selectFlag(t),this._updateDialCode(this.selectedCountryData.dialCode,!1))},setNumber:function(t,e){this.options.nationalMode||"+"==t.substr(0,1)||(t="+"+t),this._updateFlagFromNumber(t),this._updateVal(t,e)},utilsLoaded:function(){this.options.autoFormat&&this.telInput.val()&&this._updateVal(this.telInput.val()),this._updatePlaceholder()}},$.fn[pluginName]=function(t){var e=arguments;if(void 0===t||"object"==typeof t)return this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,t))});if("string"==typeof t&&"_"!==t[0]&&"init"!==t){var i;return this.each(function(){var n=$.data(this,"plugin_"+pluginName);n instanceof Plugin&&"function"==typeof n[t]&&(i=n[t].apply(n,Array.prototype.slice.call(e,1))),"destroy"===t&&$.data(this,"plugin_"+pluginName,null)}),void 0!==i?i:this}},$.fn[pluginName].getCountryData=function(){return allCountries},$.fn[pluginName].setCountryData=function(t){allCountries=t},define("$components/intl-tel-input/intlTelInput",function(){});for(var allCountries=[["Afghanistan (\u202b\u0627\u0641\u063a\u0627\u0646\u0633\u062a\u0627\u0646\u202c\u200e)","af","93"],["Albania (Shqip\xebri)","al","355"],["Algeria (\u202b\u0627\u0644\u062c\u0632\u0627\u0626\u0631\u202c\u200e)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (\u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576)","am","374"],["Aruba","aw","297"],["Australia","au","61"],["Austria (\xd6sterreich)","at","43"],["Azerbaijan (Az\u0259rbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (\u202b\u0627\u0644\u0628\u062d\u0631\u064a\u0646\u202c\u200e)","bh","973"],["Bangladesh (\u09ac\u09be\u0982\u09b2\u09be\u09a6\u09c7\u09b6)","bd","880"],["Barbados","bb","1246"],["Belarus (\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c)","by","375"],["Belgium (Belgi\xeb)","be","32"],["Belize","bz","501"],["Benin (B\xe9nin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (\u0f60\u0f56\u0fb2\u0f74\u0f42)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (\u0411\u043e\u0441\u043d\u0430 \u0438 \u0425\u0435\u0440\u0446\u0435\u0433\u043e\u0432\u0438\u043d\u0430)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (\u0411\u044a\u043b\u0433\u0430\u0440\u0438\u044f)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (\u1780\u1798\u17d2\u1796\u17bb\u1787\u17b6)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (R\xe9publique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (\u4e2d\u56fd)","cn","86"],["Colombia","co","57"],["Comoros (\u202b\u062c\u0632\u0631 \u0627\u0644\u0642\u0645\u0631\u202c\u200e)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["C\xf4te d\u2019Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Cura\xe7ao","cw","599",0],["Cyprus (\u039a\u03cd\u03c0\u03c1\u03bf\u03c2)","cy","357"],["Czech Republic (\u010cesk\xe1 republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (Rep\xfablica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (\u202b\u0645\u0635\u0631\u202c\u200e)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (F\xf8royar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358"],["France","fr","33"],["French Guiana (Guyane fran\xe7aise)","gf","594"],["French Polynesia (Polyn\xe9sie fran\xe7aise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (\u10e1\u10d0\u10e5\u10d0\u10e0\u10d7\u10d5\u10d4\u10da\u10dd)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (\u0395\u03bb\u03bb\u03ac\u03b4\u03b1)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guinea (Guin\xe9e)","gn","224"],["Guinea-Bissau (Guin\xe9 Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (\u9999\u6e2f)","hk","852"],["Hungary (Magyarorsz\xe1g)","hu","36"],["Iceland (\xcdsland)","is","354"],["India (\u092d\u093e\u0930\u0924)","in","91"],["Indonesia","id","62"],["Iran (\u202b\u0627\u06cc\u0631\u0627\u0646\u202c\u200e)","ir","98"],["Iraq (\u202b\u0627\u0644\u0639\u0631\u0627\u0642\u202c\u200e)","iq","964"],["Ireland","ie","353"],["Israel (\u202b\u05d9\u05e9\u05e8\u05d0\u05dc\u202c\u200e)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (\u65e5\u672c)","jp","81"],["Jordan (\u202b\u0627\u0644\u0623\u0631\u062f\u0646\u202c\u200e)","jo","962"],["Kazakhstan (\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kuwait (\u202b\u0627\u0644\u0643\u0648\u064a\u062a\u202c\u200e)","kw","965"],["Kyrgyzstan (\u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d)","kg","996"],["Laos (\u0ea5\u0eb2\u0ea7)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (\u202b\u0644\u0628\u0646\u0627\u0646\u202c\u200e)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (\u202b\u0644\u064a\u0628\u064a\u0627\u202c\u200e)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (\u6fb3\u9580)","mo","853"],["Macedonia (FYROM) (\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0438\u0458\u0430)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (\u202b\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627\u202c\u200e)","mr","222"],["Mauritius (Moris)","mu","230"],["Mexico (M\xe9xico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (\u041c\u043e\u043d\u0433\u043e\u043b)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (\u202b\u0627\u0644\u0645\u063a\u0631\u0628\u202c\u200e)","ma","212"],["Mozambique (Mo\xe7ambique)","mz","258"],["Myanmar (Burma) (\u1019\u103c\u1014\u103a\u1019\u102c)","mm","95"],["Namibia (Namibi\xeb)","na","264"],["Nauru","nr","674"],["Nepal (\u0928\u0947\u092a\u093e\u0932)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Cal\xe9donie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (\uc870\uc120 \ubbfc\uc8fc\uc8fc\uc758 \uc778\ubbfc \uacf5\ud654\uad6d)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47"],["Oman (\u202b\u0639\u064f\u0645\u0627\u0646\u202c\u200e)","om","968"],["Pakistan (\u202b\u067e\u0627\u06a9\u0633\u062a\u0627\u0646\u202c\u200e)","pk","92"],["Palau","pw","680"],["Palestine (\u202b\u0641\u0644\u0633\u0637\u064a\u0646\u202c\u200e)","ps","970"],["Panama (Panam\xe1)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Per\xfa)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (\u202b\u0642\u0637\u0631\u202c\u200e)","qa","974"],["R\xe9union (La R\xe9union)","re","262"],["Romania (Rom\xe2nia)","ro","40"],["Russia (\u0420\u043e\u0441\u0441\u0438\u044f)","ru","7",0],["Rwanda","rw","250"],["Saint Barth\xe9lemy (Saint-Barth\xe9lemy)","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie fran\xe7aise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe (S\xe3o Tom\xe9 e Pr\xedncipe)","st","239"],["Saudi Arabia (\u202b\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629\u202c\u200e)","sa","966"],["Senegal (S\xe9n\xe9gal)","sn","221"],["Serbia (\u0421\u0440\u0431\u0438\u0458\u0430)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (\ub300\ud55c\ubbfc\uad6d)","kr","82"],["South Sudan (\u202b\u062c\u0646\u0648\u0628 \u0627\u0644\u0633\u0648\u062f\u0627\u0646\u202c\u200e)","ss","211"],["Spain (Espa\xf1a)","es","34"],["Sri Lanka (\u0dc1\u0dca\u200d\u0dbb\u0dd3 \u0dbd\u0d82\u0d9a\u0dcf\u0dc0)","lk","94"],["Sudan (\u202b\u0627\u0644\u0633\u0648\u062f\u0627\u0646\u202c\u200e)","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (\u202b\u0633\u0648\u0631\u064a\u0627\u202c\u200e)","sy","963"],["Taiwan (\u53f0\u7063)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (\u0e44\u0e17\u0e22)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (\u202b\u062a\u0648\u0646\u0633\u202c\u200e)","tn","216"],["Turkey (T\xfcrkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (\u0423\u043a\u0440\u0430\u0457\u043d\u0430)","ua","380"],["United Arab Emirates (\u202b\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0645\u062a\u062d\u062f\u0629\u202c\u200e)","ae","971"],["United Kingdom","gb","44"],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (O\u02bbzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Citt\xe0 del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Vi\u1ec7t Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Yemen (\u202b\u0627\u0644\u064a\u0645\u0646\u202c\u200e)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],i=0;i<allCountries.length;i++){var c=allCountries[i];allCountries[i]={name:c[0],iso2:c[1],dialCode:c[2],priority:c[3]||0,areaCodes:c[4]||null}}define("$components/intl-tel-input/data",function(){}),function(){function t(t,e){var i=t.split("."),n=pt;i[0]in n||!n.execScript||n.execScript("var "+i[0]);for(var r;i.length&&(r=i.shift());)i.length||void 0===e?n=n[r]?n[r]:n[r]={}:n[r]=e}function e(t,e){function i(){}i.prototype=e.prototype,t.ya=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Ea=function(t,i,n){return e.prototype[i].apply(t,Array.prototype.slice.call(arguments,2))}}function i(t,e){null!=t&&this.append.apply(this,arguments)}function n(t,e){t.sort(e||r)}function r(t,e){return t>e?1:e>t?-1:0}function a(t){var e,i=[],n=0;for(e in t)i[n++]=t[e];return i}function s(t,e,i){for(this.ua=t,this.na=e.name||null,this.m={},t=0;t<i.length;t++)e=i[t],this.m[e.i]=e}function o(t){return t=a(t.m),n(t,function(t,e){return t.i-e.i}),t}function l(t,e,i){switch(this.i=e,this.na=i.name,this.ea=!!i.fa,this.o=i.a,this.oa=i.type,this.ka=!1,this.o){case ft:case mt:case gt:case vt:case yt:this.ka=!0}this.u=i.defaultValue}function d(){this.c={},this.m=this.q().m,this.f=this.ma=null}function c(t,e){for(var i=o(t.q()),n=0;n<i.length;n++){var r=i[n],a=r.i;if(null!=e.c[a]){t.f&&delete t.f[r.i];var s=11==r.o||10==r.o;if(r.ea)for(var r=u(e,a)||[],l=0;l<r.length;l++)g(t,a,s?r[l].clone():r[l]);else r=u(e,a),s?(s=u(t,a))?c(s,r):m(t,a,r.clone()):m(t,a,r)}}}function u(t,e){var i=t.c[e];if(null==i)return null;if(t.ma){if(!(e in t.f)){var n=t.ma,r=t.m[e];if(null!=i)if(r.ea){for(var a=[],s=0;s<i.length;s++)a[s]=n.da(r,i[s]);i=a}else i=n.da(r,i);return t.f[e]=i}return t.f[e]}return i}function h(t,e,i){var n=u(t,e);return t.m[e].ea?n[i||0]:n}function p(t,e){var i;if(null!=t.c[e])i=h(t,e,void 0);else t:{if(i=t.m[e],void 0===i.u){var n=i.oa;if(n===Boolean)i.u=!1;else if(n===Number)i.u=0;else{if(n!==String){i=new n;break t}i.u=i.ka?"0":""}}i=i.u}return i}function f(t,e){return t.m[e].ea?null!=t.c[e]?t.c[e].length:0:null!=t.c[e]?1:0}function m(t,e,i){t.c[e]=i,t.f&&(t.f[e]=i)}function g(t,e,i){t.c[e]||(t.c[e]=[]),t.c[e].push(i),t.f&&delete t.f[e]}function v(t,e){delete t.c[e],t.f&&delete t.f[e]}function y(t,e){t.xa=e,t.q=function(){return t.ra||(new t).q()}}function A(){d.apply(this)}function N(){d.apply(this)}function S(){d.apply(this)}function $(){d.apply(this)}function b(){d.apply(this)}function _(){}function w(){}function x(){}function C(){this.va={}}function P(t){var e=t.search(xt);return e>=0?(t=t.substring(e),t=t.replace(Pt,""),e=t.search(Ct),e>=0&&(t=t.substring(0,e))):t="",t}function k(t){return 2>t.length?!1:Z(Mt,t)}function T(t){return Z(kt,t)?E(t,$t):E(t,St)}function M(t){var e=T(t.toString());t.clear(),t.append(e)}function E(t,e){for(var n,r=new i,a=t.length,s=0;a>s;++s)n=t.charAt(s),n=e[n.toUpperCase()],null!=n&&r.append(n);return r.toString()}function j(t){return null!=t&&isNaN(t)&&t.toUpperCase()in Nt}function F(t,e,i){return"001"==i?O(t,""+e):O(t,i)}function I(t){var e=""+h(t,2);return null!=t.c[4]&&h(t,4)?Array(p(t,8)+1).join("0")+e:e}function B(t,e,i,n){switch(e){case 0:return"+"+t+i+n;case 1:return"+"+t+" "+i+n;case 3:return"tel:+"+t+"-"+i+n;default:return i+n}}function R(t,e){switch(e){case 4:return h(t,5);case 3:return h(t,4);case 1:return h(t,3);case 0:case 2:return h(t,2);case 5:return h(t,6);case 6:return h(t,8);case 7:return h(t,7);case 8:return h(t,21);case 9:return h(t,25);case 10:return h(t,28);default:return h(t,1)}}function D(t,e){return U(t,h(e,1))?U(t,h(e,5))?4:U(t,h(e,4))?3:U(t,h(e,6))?5:U(t,h(e,8))?6:U(t,h(e,7))?7:U(t,h(e,21))?8:U(t,h(e,25))?9:U(t,h(e,28))?10:U(t,h(e,2))?h(e,18)||U(t,h(e,3))?2:0:!h(e,18)&&U(t,h(e,3))?1:-1:-1}function O(t,e){if(null==e)return null;e=e.toUpperCase();var i=t.va[e];if(null==i){if(i=Nt[e],null==i)return null;i=(new x).v(S.q(),i),t.va[e]=i}return i}function U(t,e){return Z(p(e,3),t)&&Z(p(e,2),t)}function L(t,e){if(null==e)return null;var i=e.k(),i=At[i];if(null==i)i=null;else if(1==i.length)i=i[0];else t:{for(var n,r=I(e),a=i.length,s=0;a>s;s++){n=i[s];var o=O(t,n);if(null!=o.c[23]){if(0==r.search(h(o,23))){i=n;break t}}else if(-1!=D(r,o)){i=n;break t}}i=null}return i}function q(t){return t=At[t],null==t?"ZZ":t[0]}function z(t,e){var i=O(t,e);if(null==i)throw"Invalid region code: "+e;return i.k()}function H(t,e){return Z(t,e)?0:0==e.search(t)?3:2}function V(t,e){var i=t.toString();if(0==i.length||"0"==i.charAt(0))return 0;for(var n,r=i.length,a=1;3>=a&&r>=a;++a)if(n=parseInt(i.substring(0,a),10),n in At)return e.append(i.substring(a)),n;return 0}function W(t,e,n,r,a){if(0==t.length)return 0;t=new i(t);var s;null!=e&&(s=h(e,11)),null==s&&(s="NonMatch");var o=t.toString();if(0==o.length)s=20;else if(_t.test(o))o=o.replace(_t,""),t.clear(),t.append(T(o)),s=1;else{if(o=new RegExp(s),M(t),s=t.toString(),0==s.search(o)){var o=s.match(o)[0].length,l=s.substring(o).match(wt);l&&null!=l[1]&&0<l[1].length&&"0"==E(l[1],St)?s=!1:(t.clear(),t.append(s.substring(o)),s=!0)}else s=!1;s=s?5:20}if(r&&m(a,6,s),20!=s){if(2>=t.e.length)throw"Phone number too short after IDD";if(n=V(t,n),0!=n)return a.aa(n),n;throw"Invalid country calling code"}if(null!=e&&(s=e.k(),o=""+s,l=t.toString(),0==l.lastIndexOf(o,0))){var d=new i(l.substring(o.length)),l=h(e,1),o=new RegExp(p(l,2));if(G(d,e,null),e=d.toString(),l=p(l,3),!Z(o,t.toString())&&Z(o,e)||3==H(l,t.toString()))return n.append(e),r&&m(a,6,10),a.aa(s),s}return a.aa(0),0}function G(t,e,i){var n=t.toString(),r=n.length,a=h(e,15);if(0!=r&&null!=a&&0!=a.length&&(a=new RegExp("^(?:"+a+")"),r=a.exec(n))){var s,o=RegExp;s=h(e,1),s=p(s,2),o=new o(s),s=Z(o,n);var l=r.length-1;e=h(e,16),null==e||0==e.length||null==r[l]||0==r[l].length?(!s||Z(o,n.substring(r[0].length)))&&(null!=i&&l>0&&null!=r[l]&&i.append(r[1]),t.set(n.substring(r[0].length))):(n=n.replace(a,e),(!s||Z(o,n))&&(null!=i&&l>0&&i.append(r[1]),t.set(n)))}}function K(t,e,i){if(!j(i)&&0<e.length&&"+"!=e.charAt(0))throw"Invalid country calling code";return Y(t,e,i,!0)}function Y(t,e,n,r){if(null==e)throw"The string supplied did not seem to be a phone number";if(250<e.length)throw"The string supplied is too long to be a phone number";var a=new i,s=e.indexOf(";phone-context=");if(s>0){var o=s+15;if("+"==e.charAt(o)){var l=e.indexOf(";",o);l>0?a.append(e.substring(o,l)):a.append(e.substring(o))}o=e.indexOf("tel:"),a.append(e.substring(o>=0?o+4:0,s))}else a.append(P(e));if(s=a.toString(),o=s.indexOf(";isub="),o>0&&(a.clear(),a.append(s.substring(0,o))),!k(a.toString()))throw"The string supplied did not seem to be a phone number";if(s=a.toString(),!(j(n)||null!=s&&0<s.length&&_t.test(s)))throw"Invalid country calling code";s=new b,r&&m(s,5,e);t:{if(e=a.toString(),o=e.search(Tt),o>=0&&k(e.substring(0,o)))for(var l=e.match(Tt),d=l.length,c=1;d>c;++c)if(null!=l[c]&&0<l[c].length){a.clear(),a.append(e.substring(0,o)),e=l[c];break t}e=""}0<e.length&&m(s,3,e),o=O(t,n),e=new i,l=0,d=a.toString();try{l=W(d,o,e,r,s)}catch(u){if("Invalid country calling code"!=u||!_t.test(d))throw u;if(d=d.replace(_t,""),l=W(d,o,e,r,s),0==l)throw u}if(0!=l?(a=q(l),a!=n&&(o=F(t,l,a))):(M(a),e.append(a.toString()),null!=n?(l=o.k(),s.aa(l)):r&&v(s,6)),2>e.e.length)throw"The string supplied is too short to be a phone number";if(null!=o&&(t=new i,n=new i(e.toString()),G(n,o,t),a=n.toString(),o=h(o,1),o=p(o,3),2!=H(o,a)&&(e=n,r&&m(s,7,t.toString()))),r=e.toString(),t=r.length,2>t)throw"The string supplied is too short to be a phone number";if(t>17)throw"The string supplied is too long to be a phone number";if(1<r.length&&"0"==r.charAt(0)){for(m(s,4,!0),t=1;t<r.length-1&&"0"==r.charAt(t);)t++;1!=t&&m(s,8,t)}return m(s,2,parseInt(r,10)),s}function Z(t,e){var i="string"==typeof t?e.match("^(?:"+t+")$"):e.match(t);return i&&i[0].length==e.length?!0:!1}function J(t){this.qa="\u2008",this.ha=new RegExp(this.qa),this.ia="",this.p=new i,this.ba="",this.j=new i,this.t=new i,this.l=!0,this.w=this.s=this.la=!1,this.pa=C.r(),this.$=0,this.d=new i,this.ga=!1,this.n="",this.b=new i,this.g=[],this.ja=t,this.wa=this.h=X(this,this.ja)}function X(t,e){var i=j(e)?z(t.pa,e):0,i=O(t.pa,q(i));return null!=i?i:Ft}function Q(t){for(var e=t.g.length,i=0;e>i;++i){var n=t.g[i],r=p(n,1);if(t.ba==r)return!1;var a;a=t;var s=n,o=p(s,1);if(-1!=o.indexOf("|"))a=!1;else{o=o.replace(It,"\\d"),o=o.replace(Bt,"\\d"),a.p.clear();var l;l=a;var s=p(s,2),d="999999999999999".match(o)[0];d.length<l.b.e.length?l="":(o=d.replace(new RegExp(o,"g"),s),l=o=o.replace(RegExp("9","g"),l.qa)),0<l.length?(a.p.append(l),a=!0):a=!1}if(a)return t.ba=r,t.ga=Dt.test(h(n,4)),t.$=0,!0}return t.l=!1}function tt(t,e){for(var i=[],n=e.length-3,r=t.g.length,a=0;r>a;++a){var s=t.g[a];if(0==f(s,3))i.push(t.g[a]);else{var o=Math.min(n,f(s,3)-1),s=h(s,3,o);0==e.search(s)&&i.push(t.g[a])}}t.g=i}function et(t,e){return t.ia=it(t,e),t.ia}function it(t,e){t.j.append(e);var i=e;if(wt.test(i)||1==t.j.e.length&&bt.test(i)){var n,i=e;"+"==i?(n=i,t.t.append(i)):(n=St[i],t.t.append(n),t.b.append(n)),e=n}else t.l=!1,t.la=!0;if(!t.l){if(!t.la)if(dt(t)){if(ct(t))return nt(t)}else if(0<t.n.length&&(i=t.b.toString(),t.b.clear(),t.b.append(t.n),t.b.append(i),i=t.d.toString(),n=i.lastIndexOf(t.n),t.d.clear(),t.d.append(i.substring(0,n))),t.n!=lt(t))return t.d.append(" "),nt(t);return t.j.toString()}switch(t.t.e.length){case 0:case 1:case 2:return t.j.toString();case 3:if(!dt(t))return t.n=lt(t),st(t);t.w=!0;default:return t.w?(ct(t)&&(t.w=!1),t.d.toString()+t.b.toString()):0<t.g.length?(i=ut(t,e),n=rt(t),0<n.length?n:(tt(t,t.b.toString()),Q(t)?ot(t):t.l?at(t,i):t.j.toString())):st(t)}}function nt(t){return t.l=!0,t.w=!1,t.g=[],st(t)}function rt(t){for(var e=t.b.toString(),i=t.g.length,n=0;i>n;++n){var r=t.g[n],a=p(r,1);if(new RegExp("^(?:"+a+")$").test(e))return t.ga=Dt.test(h(r,4)),e=e.replace(new RegExp(a,"g"),h(r,2)),at(t,e)}return""}function at(t,e){var i=t.d.e.length;return t.ga&&i>0&&" "!=t.d.toString().charAt(i-1)?t.d+" "+e:t.d+e}function st(t){var e=t.b.toString();if(3<=e.length){for(var i=t.s&&0<f(t.h,20)?u(t.h,20)||[]:u(t.h,19)||[],n=i.length,r=0;n>r;++r){var a,s=i[r];(a=null==t.h.c[12]||t.s||h(s,6))||(a=p(s,4),a=0==a.length||jt.test(a)),a&&(a=p(s,2),Rt.test(a)&&t.g.push(s))}return tt(t,e),e=rt(t),0<e.length?e:Q(t)?ot(t):t.j.toString()}return at(t,e)}function ot(t){var e=t.b.toString(),i=e.length;if(i>0){for(var n="",r=0;i>r;r++)n=ut(t,e.charAt(r));return t.l?at(t,n):t.j.toString()}return t.d.toString()}function lt(t){var e,i=t.b.toString(),n=0;return 1!=t.h.sa()?e=!1:(e=t.b.toString(),e="1"==e.charAt(0)&&"0"!=e.charAt(1)&&"1"!=e.charAt(1)),e?(n=1,t.d.append("1").append(" "),t.s=!0):null!=t.h.c[15]&&(e=new RegExp("^(?:"+h(t.h,15)+")"),e=i.match(e),null!=e&&null!=e[0]&&0<e[0].length&&(t.s=!0,n=e[0].length,t.d.append(i.substring(0,n)))),t.b.clear(),t.b.append(i.substring(n)),i.substring(0,n)}function dt(t){var e=t.t.toString(),i=new RegExp("^(?:\\+|"+h(t.h,11)+")"),i=e.match(i);return null!=i&&null!=i[0]&&0<i[0].length?(t.s=!0,i=i[0].length,t.b.clear(),t.b.append(e.substring(i)),t.d.clear(),t.d.append(e.substring(0,i)),"+"!=e.charAt(0)&&t.d.append(" "),!0):!1}function ct(t){if(0==t.b.e.length)return!1;var e=new i,n=V(t.b,e);return 0==n?!1:(t.b.clear(),t.b.append(e.toString()),e=q(n),"001"==e?t.h=O(t.pa,""+n):e!=t.ja&&(t.h=X(t,e)),t.d.append(""+n).append(" "),t.n="",!0)}function ut(t,e){var i=t.p.toString();if(0<=i.substring(t.$).search(t.ha)){var n=i.search(t.ha),i=i.replace(t.ha,e);return t.p.clear(),t.p.append(i),t.$=n,i.substring(0,t.$+1)}return 1==t.g.length&&(t.l=!1),t.ba="",t.j.toString()}var ht,pt=this;ht=i.prototype,ht.e="",ht.set=function(t){this.e=""+t},ht.append=function(t,e,i){if(this.e+=t,null!=e)for(var n=1;n<arguments.length;n++)this.e+=arguments[n];return this},ht.clear=function(){
this.e=""},ht.toString=function(){return this.e},s.prototype.getName=function(){return this.na};var ft=3,mt=4,gt=6,vt=16,yt=18;l.prototype.getName=function(){return this.na},ht=d.prototype,ht.q=function(){var t,e=this.constructor;if(!(t=e.ra)){var i;t=e.xa;var n=[],r=t[0];for(i in t)0!=i&&n.push(new l(0,i,t[i]));i=new s(e,r,n),t=e.ra=i}return t},ht.has=function(t){return null!=this.c[t.i]},ht.get=function(t,e){return h(this,t.i,e)},ht.set=function(t,e){m(this,t.i,e)},ht.add=function(t,e){g(this,t.i,e)},ht.clear=function(t){v(this,t.i)},ht.clone=function(){var t=new this.constructor;return t!=this&&(t.c={},t.f&&(t.f={}),c(t,this)),t},e(A,d),e(N,d),e(S,d),S.prototype.sa=function(){return h(this,10)},S.prototype.k=function(){return p(this,10)},S.prototype.aa=function(t){m(this,10,t)},e($,d),$.prototype.getMetadata=function(t){return h(this,1,t)},y(A,{0:{name:"NumberFormat",ca:"i18n.phonenumbers.NumberFormat"},1:{name:"pattern",required:!0,a:9,type:String},2:{name:"format",required:!0,a:9,type:String},3:{name:"leading_digits_pattern",fa:!0,a:9,type:String},4:{name:"national_prefix_formatting_rule",a:9,type:String},6:{name:"national_prefix_optional_when_formatting",a:8,type:Boolean},5:{name:"domestic_carrier_code_formatting_rule",a:9,type:String}}),y(N,{0:{name:"PhoneNumberDesc",ca:"i18n.phonenumbers.PhoneNumberDesc"},2:{name:"national_number_pattern",a:9,type:String},3:{name:"possible_number_pattern",a:9,type:String},6:{name:"example_number",a:9,type:String}}),y(S,{0:{name:"PhoneMetadata",ca:"i18n.phonenumbers.PhoneMetadata"},1:{name:"general_desc",required:!0,a:11,type:N},2:{name:"fixed_line",required:!0,a:11,type:N},3:{name:"mobile",required:!0,a:11,type:N},4:{name:"toll_free",required:!0,a:11,type:N},5:{name:"premium_rate",required:!0,a:11,type:N},6:{name:"shared_cost",required:!0,a:11,type:N},7:{name:"personal_number",required:!0,a:11,type:N},8:{name:"voip",required:!0,a:11,type:N},21:{name:"pager",required:!0,a:11,type:N},25:{name:"uan",required:!0,a:11,type:N},27:{name:"emergency",required:!0,a:11,type:N},28:{name:"voicemail",required:!0,a:11,type:N},24:{name:"no_international_dialling",required:!0,a:11,type:N},9:{name:"id",required:!0,a:9,type:String},10:{name:"country_code",required:!0,a:5,type:Number},11:{name:"international_prefix",required:!0,a:9,type:String},17:{name:"preferred_international_prefix",a:9,type:String},12:{name:"national_prefix",a:9,type:String},13:{name:"preferred_extn_prefix",a:9,type:String},15:{name:"national_prefix_for_parsing",a:9,type:String},16:{name:"national_prefix_transform_rule",a:9,type:String},18:{name:"same_mobile_and_fixed_line_pattern",a:8,defaultValue:!1,type:Boolean},19:{name:"number_format",fa:!0,a:11,type:A},20:{name:"intl_number_format",fa:!0,a:11,type:A},22:{name:"main_country_for_code",a:8,defaultValue:!1,type:Boolean},23:{name:"leading_digits",a:9,type:String},26:{name:"leading_zero_possible",a:8,defaultValue:!1,type:Boolean}}),y($,{0:{name:"PhoneMetadataCollection",ca:"i18n.phonenumbers.PhoneMetadataCollection"},1:{name:"metadata",fa:!0,a:11,type:S}}),e(b,d),b.prototype.sa=function(){return h(this,1)},b.prototype.k=function(){return p(this,1)},b.prototype.aa=function(t){m(this,1,t)},b.prototype.getExtension=function(){return h(this,3)},y(b,{0:{name:"PhoneNumber",ca:"i18n.phonenumbers.PhoneNumber"},1:{name:"country_code",required:!0,a:5,type:Number},2:{name:"national_number",required:!0,a:4,type:Number},3:{name:"extension",a:9,type:String},4:{name:"italian_leading_zero",a:8,type:Boolean},8:{name:"number_of_leading_zeros",a:5,defaultValue:1,type:Number},5:{name:"raw_input",a:9,type:String},6:{name:"country_code_source",a:14,defaultValue:1,type:{Da:1,Ca:5,Ba:10,Aa:20}},7:{name:"preferred_domestic_carrier_code",a:9,type:String}}),_.prototype.v=function(t){throw new t.ua,Error("Unimplemented")},_.prototype.da=function(t,e){if(11==t.o||10==t.o)return e instanceof d?e:this.v(t.oa.q(),e);if(14==t.o||!t.ka)return e;var i=t.oa;if(i===String){if("number"==typeof e)return String(e)}else if(i===Number&&"string"==typeof e&&/^-?[0-9]+$/.test(e))return Number(e);return e},e(w,_),w.prototype.v=function(t,e){var i=new t.ua;return i.ma=this,i.c=e,i.f={},i},e(x,w),x.prototype.za=!1,x.prototype.da=function(t,e){return 8==t.o?!!e:_.prototype.da.apply(this,arguments)},x.prototype.v=function(t,e){var i=e;if(this.za){var n,i=[];for(n in e)i[parseInt(n,10)+1]=e[n]}return x.ya.v.call(this,t,i)};var At={1:"US AG AI AS BB BM BS CA DM DO GD GU JM KN KY LC MP MS PR SX TC TT VC VG VI".split(" "),7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],379:["VA"],380:["UA"],381:["RS"],382:["ME"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],800:["001"],808:["001"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],870:["001"],878:["001"],880:["BD"],881:["001"],882:["001"],883:["001"],886:["TW"],888:["001"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],979:["001"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},Nt={AC:[,[,,"[2-7]\\d{3,5}","\\d{4,6}"],[,,"(?:[267]\\d|3[0-5]|4[4-69])\\d{2}","\\d{4}",,,"6889"],[,,"5\\d{5}","\\d{6}",,,"501234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AC",247,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AD:[,[,,"(?:[346-9]|180)\\d{5}","\\d{6,8}"],[,,"[78]\\d{5}","\\d{6}",,,"712345"],[,,"[346]\\d{5}","\\d{6}",,,"312345"],[,,"180[02]\\d{4}","\\d{8}",,,"18001234"],[,,"9\\d{5}","\\d{6}",,,"912345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AD",376,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[346-9]"],"","",0],[,"(180[02])(\\d{4})","$1 $2",["1"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AE:[,[,,"[2-79]\\d{7,8}|800\\d{2,9}","\\d{5,12}"],[,,"[2-4679][2-8]\\d{6}","\\d{7,8}",,,"22345678"],[,,"5[0256]\\d{7}","\\d{9}",,,"501234567"],[,,"400\\d{6}|800\\d{2,9}","\\d{5,12}",,,"800123456"],[,,"900[02]\\d{5}","\\d{9}",,,"900234567"],[,,"700[05]\\d{5}","\\d{9}",,,"700012345"],[,,"NA","NA"],[,,"NA","NA"],"AE",971,"00","0",,,"0",,,,[[,"([2-4679])(\\d{3})(\\d{4})","$1 $2 $3",["[2-4679][2-8]"],"0$1","",0],[,"(5[0256])(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1","",0],[,"([479]00)(\\d)(\\d{5})","$1 $2 $3",["[479]0"],"$1","",0],[,"([68]00)(\\d{2,9})","$1 $2",["60|8"],"$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"600[25]\\d{5}","\\d{9}",,,"600212345"],,,[,,"NA","NA"]],AF:[,[,,"[2-7]\\d{8}","\\d{7,9}"],[,,"(?:[25][0-8]|[34][0-4]|6[0-5])[2-9]\\d{6}","\\d{7,9}",,,"234567890"],[,,"7(?:[05-9]\\d{7}|29\\d{6})","\\d{9}",,,"701234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AF",93,"00","0",,,"0",,,,[[,"([2-7]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-6]|7[013-9]"],"0$1","",0],[,"(729)(\\d{3})(\\d{3})","$1 $2 $3",["729"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AG:[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"268(?:4(?:6[0-38]|84)|56[0-2])\\d{4}","\\d{7}(?:\\d{3})?",,,"2684601234"],[,,"268(?:464|7(?:2[0-9]|64|7[0-689]|8[02-68]))\\d{4}","\\d{10}",,,"2684641234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"26848[01]\\d{4}","\\d{10}",,,"2684801234"],"AG",1,"011","1",,,"1",,,,,,[,,"26840[69]\\d{4}","\\d{10}",,,"2684061234"],,"268",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AI:[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"2644(?:6[12]|9[78])\\d{4}","\\d{7}(?:\\d{3})?",,,"2644612345"],[,,"264(?:235|476|5(?:3[6-9]|8[1-4])|7(?:29|72))\\d{4}","\\d{10}",,,"2642351234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"AI",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"264",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AL:[,[,,"[2-57]\\d{7}|6\\d{8}|8\\d{5,7}|9\\d{5}","\\d{5,9}"],[,,"(?:2(?:[168][1-9]|[247]\\d|9[1-7])|3(?:1[1-3]|[2-6]\\d|[79][1-8]|8[1-9])|4\\d{2}|5(?:1[1-4]|[2-578]\\d|6[1-5]|9[1-7])|8(?:[19][1-5]|[2-6]\\d|[78][1-7]))\\d{5}","\\d{5,8}",,,"22345678"],[,,"6[6-9]\\d{7}","\\d{9}",,,"661234567"],[,,"800\\d{4}","\\d{7}",,,"8001234"],[,,"900\\d{3}","\\d{6}",,,"900123"],[,,"808\\d{3}","\\d{6}",,,"808123"],[,,"700\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"AL",355,"00","0",,,"0",,,,[[,"(4)(\\d{3})(\\d{4})","$1 $2 $3",["4[0-6]"],"0$1","",0],[,"(6[6-9])(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4[7-9]"],"0$1","",0],[,"(\\d{3})(\\d{3,5})","$1 $2",["[235][16-9]|8[016-9]|[79]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AM:[,[,,"[1-9]\\d{7}","\\d{5,8}"],[,,"(?:1[01]\\d|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2|47\\d)\\d{5}","\\d{5,8}",,,"10123456"],[,,"(?:4[139]|55|77|9[1-9])\\d{6}","\\d{8}",,,"77123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90[016]\\d{5}","\\d{8}",,,"90012345"],[,,"80[1-4]\\d{5}","\\d{8}",,,"80112345"],[,,"NA","NA"],[,,"60[2-6]\\d{5}","\\d{8}",,,"60271234"],"AM",374,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)","",0],[,"(\\d{2})(\\d{6})","$1 $2",["4[139]|[5-7]|9[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{5})","$1 $2",["[23]"],"(0$1)","",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8|90"],"0 $1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AO:[,[,,"[29]\\d{8}","\\d{9}"],[,,"2\\d(?:[26-9]\\d|\\d[26-9])\\d{5}","\\d{9}",,,"222123456"],[,,"9[1-49]\\d{7}","\\d{9}",,,"923123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AO",244,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AR:[,[,,"11\\d{8}|[2368]\\d{9}|9\\d{10}","\\d{6,11}"],[,,"11\\d{8}|(?:2(?:2(?:[013]\\d|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[067]\\d)|4(?:7[3-8]|9\\d)|6(?:[01346]\\d|2[24-6]|5[15-8])|80\\d|9(?:[0124789]\\d|3[1-6]|5[234]|6[2-46]))|3(?:3(?:2[79]|6\\d|8[2578])|4(?:[78]\\d|0[0124-9]|[1-35]\\d|4[24-7]|6[02-9]|9[123678])|5(?:[138]\\d|2[1245]|4[1-9]|6[2-4]|7[1-6])|6[24]\\d|7(?:[0469]\\d|1[1568]|2[013-9]|3[145]|5[14-8]|7[2-57]|8[0-24-9])|8(?:[013578]\\d|2[15-7]|4[13-6]|6[1-357-9]|9[124]))|670\\d)\\d{6}","\\d{6,10}",,,"1123456789"],[,,"675\\d{7}|9(?:11[2-9]\\d{7}|(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578]))[2-9]\\d{6}|\\d{4}[2-9]\\d{5})","\\d{6,11}",,,"91123456789"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"60[04579]\\d{7}","\\d{10}",,,"6001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AR",54,"00","0",,,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[124-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:1[1568]|2[15]|3[145]|4[13]|5[14-8]|[069]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))?15)?","9$1",,,[[,"([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1","",0],[,"(\\d{2})(\\d{4})","$1-$2",["[2-9]"],"$1","",0],[,"(\\d{3})(\\d{4})","$1-$2",["[2-9]"],"$1","",0],[,"(\\d{4})(\\d{4})","$1-$2",["[2-9]"],"$1","",0],[,"(9)(11)(\\d{4})(\\d{4})","$2 15-$3-$4",["911"],"0$1","",0],[,"(9)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9(?:2[234689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578]))","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9(?:[179]|4[13479]|8[014-9]))|3(?:36|4[12358]|5(?:[18]|3[014-689])|6[24]|7[069]|8(?:[01]|3[013469]|5[0-39]|7[0-2459]|8[0-49])))"],"0$1","",0],[,"(9)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9[23]"],"0$1","",0],[,"(11)(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578])","2(?:2[013]|3[067]|49|6[01346]|80|9(?:[179]|4[13479]|8[014-9]))|3(?:36|4[12358]|5(?:[18]|3[0-689])|6[24]|7[069]|8(?:[01]|3[013469]|5[0-39]|7[0-2459]|8[0-49]))"],"0$1","",1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],"0$1","",1],[,"(\\d{3})","$1",["1[012]|911"],"$1","",0]],[[,"([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1","",0],[,"(9)(11)(\\d{4})(\\d{4})","$1 $2 $3-$4",["911"]],[,"(9)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3-$4",["9(?:2[234689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578]))","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9(?:[179]|4[13479]|8[014-9]))|3(?:36|4[12358]|5(?:[18]|3[014-689])|6[24]|7[069]|8(?:[01]|3[013469]|5[0-39]|7[0-2459]|8[0-49])))"]],[,"(9)(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3-$4",["9[23]"]],[,"(11)(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578])","2(?:2[013]|3[067]|49|6[01346]|80|9(?:[179]|4[13479]|8[014-9]))|3(?:36|4[12358]|5(?:[18]|3[0-689])|6[24]|7[069]|8(?:[01]|3[013469]|5[0-39]|7[0-2459]|8[0-49]))"],"0$1","",1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],"0$1","",1]],[,,"NA","NA"],,,[,,"810\\d{7}","\\d{10}",,,"8101234567"],[,,"810\\d{7}","\\d{10}",,,"8101234567"],,,[,,"NA","NA"]],AS:[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"6846(?:22|33|44|55|77|88|9[19])\\d{4}","\\d{7}(?:\\d{3})?",,,"6846221234"],[,,"684(?:25[2468]|7(?:3[13]|70))\\d{4}","\\d{10}",,,"6847331234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"AS",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"684",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AT:[,[,,"[1-9]\\d{3,12}","\\d{3,13}"],[,,"1\\d{3,12}|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-8]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|63|7[1368]|8[2457])|5(?:12|2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[1-35-8]|5[468]|62)|7(?:2[1-8]|3[25]|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))\\d{3,10}","\\d{3,13}",,,"1234567890"],[,,"6(?:44|5[0-3579]|6[013-9]|[7-9]\\d)\\d{4,10}","\\d{7,13}",,,"644123456"],[,,"80[02]\\d{6,10}","\\d{9,13}",,,"800123456"],[,,"(?:711|9(?:0[01]|3[019]))\\d{6,10}","\\d{9,13}",,,"900123456"],[,,"8(?:10|2[018])\\d{6,10}","\\d{9,13}",,,"810123456"],[,,"NA","NA"],[,,"780\\d{6,10}","\\d{9,13}",,,"780123456"],"AT",43,"00","0",,,"0",,,,[[,"(1)(\\d{3,12})","$1 $2",["1"],"0$1","",0],[,"(5\\d)(\\d{3,5})","$1 $2",["5[079]"],"0$1","",0],[,"(5\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["5[079]"],"0$1","",0],[,"(5\\d)(\\d{4})(\\d{4,7})","$1 $2 $3",["5[079]"],"0$1","",0],[,"(\\d{3})(\\d{3,10})","$1 $2",["316|46|51|732|6(?:44|5[0-3579]|[6-9])|7(?:1|[28]0)|[89]"],"0$1","",0],[,"(\\d{4})(\\d{3,9})","$1 $2",["2|3(?:1[1-578]|[3-8])|4[2378]|5[2-6]|6(?:[12]|4[1-35-9]|5[468])|7(?:2[1-8]|35|4[1-8]|[5-79])"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"5(?:(?:0[1-9]|17)\\d{2,10}|[79]\\d{3,11})|720\\d{6,10}","\\d{5,13}",,,"50123"],,,[,,"NA","NA"]],AU:[,[,,"[1-578]\\d{5,9}","\\d{6,10}"],[,,"[237]\\d{8}|8(?:[68]\\d{3}|7[0-69]\\d{2}|9(?:[02-9]\\d{2}|1(?:[0-57-9]\\d|6[0135-9])))\\d{4}","\\d{8,9}",,,"212345678"],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-2]\\d|3[0-57-9]|4[47-9]|5[0-25-9]|6[6-9]|7[03-9]|8[17-9]|9[017-9])\\d{6}","\\d{9}",,,"412345678"],[,,"180(?:0\\d{3}|2)\\d{3}","\\d{7,10}",,,"1800123456"],[,,"190[0126]\\d{6}","\\d{10}",,,"1900123456"],[,,"13(?:00\\d{2})?\\d{4}","\\d{6,10}",,,"1300123456"],[,,"500\\d{6}","\\d{9}",,,"500123456"],[,,"550\\d{6}","\\d{9}",,,"550123456"],"AU",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,[[,"([2378])(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[45]|14"],"0$1","",0],[,"(16)(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1","",0],[,"(1[389]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[38]0|90)","1(?:[38]00|90)"],"$1","",0],[,"(180)(2\\d{3})","$1 $2",["180","1802"],"$1","",0],[,"(19\\d)(\\d{3})","$1 $2",["19[13]"],"$1","",0],[,"(19\\d{2})(\\d{4})","$1 $2",["19[67]"],"$1","",0],[,"(13)(\\d{2})(\\d{2})","$1 $2 $3",["13[1-9]"],"$1","",0]],,[,,"16\\d{3,7}","\\d{5,9}",,,"1612345"],1,,[,,"1(?:3(?:\\d{4}|00\\d{6})|80(?:0\\d{6}|2\\d{3}))","\\d{6,10}",,,"1300123456"],[,,"NA","NA"],,,[,,"NA","NA"]],AW:[,[,,"[25-9]\\d{6}","\\d{7}"],[,,"5(?:2\\d|8[1-9])\\d{4}","\\d{7}",,,"5212345"],[,,"(?:5(?:6\\d|9[2-478])|6(?:[039]0|22|4[01]|6[0-2])|7[34]\\d|9(?:6[45]|9[4-8]))\\d{4}","\\d{7}",,,"5601234"],[,,"800\\d{4}","\\d{7}",,,"8001234"],[,,"900\\d{4}","\\d{7}",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"28\\d{5}|501\\d{4}","\\d{7}",,,"5011234"],"AW",297,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AX:[,[,,"[135]\\d{5,9}|[27]\\d{4,9}|4\\d{5,10}|6\\d{7,8}|8\\d{6,9}","\\d{5,12}"],[,,"18[1-8]\\d{3,9}","\\d{6,12}",,,"1812345678"],[,,"4\\d{5,10}|50\\d{4,8}","\\d{6,11}",,,"412345678"],[,,"800\\d{4,7}","\\d{7,10}",,,"8001234567"],[,,"[67]00\\d{5,6}","\\d{8,9}",,,"600123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AX",358,"00|99[049]","0",,,"0",,,,,,[,,"NA","NA"],,,[,,"[13]00\\d{3,7}|2(?:0(?:0\\d{3,7}|2[023]\\d{1,6}|9[89]\\d{1,6}))|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"100123"],[,,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"10112345"],,,[,,"NA","NA"]],AZ:[,[,,"[1-9]\\d{8}","\\d{7,9}"],[,,"(?:1[28]\\d|2(?:02|1[24]|2[2-4]|33|[45]2|6[23])|365)\\d{6}","\\d{7,9}",,,"123123456"],[,,"(?:4[04]|5[015]|60|7[07])\\d{7}","\\d{9}",,,"401234567"],[,,"88\\d{7}","\\d{9}",,,"881234567"],[,,"900200\\d{3}","\\d{9}",,,"900200123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AZ",994,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["(?:1[28]|2(?:[45]2|[0-36])|365)"],"(0$1)","",0],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[4-8]"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BA:[,[,,"[3-9]\\d{7,8}","\\d{6,9}"],[,,"(?:[35]\\d|49)\\d{6}","\\d{6,8}",,,"30123456"],[,,"6(?:03|44|71|[1-356])\\d{6}","\\d{8,9}",,,"61123456"],[,,"8[08]\\d{6}","\\d{8}",,,"80123456"],[,,"9[0246]\\d{6}","\\d{8}",,,"90123456"],[,,"8[12]\\d{6}","\\d{8}",,,"82123456"],[,,"NA","NA"],[,,"NA","NA"],"BA",387,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-356]|[7-9]"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6[047]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"70[23]\\d{5}","\\d{8}",,,"70223456"],,,[,,"NA","NA"]],BB:[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"246[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2462345678"],[,,"246(?:(?:2[346]|45|82)\\d|25[0-4])\\d{4}","\\d{10}",,,"2462501234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"BB",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"246",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BD:[,[,,"[2-79]\\d{5,9}|1\\d{9}|8[0-7]\\d{4,8}","\\d{6,10}"],[,,"2(?:7(?:1[0-267]|2[0-289]|3[0-29]|[46][01]|5[1-3]|7[017]|91)|8(?:0[125]|[139][1-6]|2[0157-9]|6[1-35]|7[1-5]|8[1-8])|9(?:0[0-2]|1[1-4]|2[568]|3[3-6]|5[5-7]|6[0167]|7[15]|8[016-8]))\\d{4}|3(?:12?[5-7]\\d{2}|0(?:2(?:[025-79]\\d|[348]\\d{1,2})|3(?:[2-4]\\d|[56]\\d?))|2(?:1\\d{2}|2(?:[12]\\d|[35]\\d{1,2}|4\\d?))|3(?:1\\d{2}|2(?:[2356]\\d|4\\d{1,2}))|4(?:1\\d{2}|2(?:2\\d{1,2}|[47]|5\\d{2}))|5(?:1\\d{2}|29)|[67]1\\d{2}|8(?:1\\d{2}|2(?:2\\d{2}|3|4\\d)))\\d{3}|4(?:0(?:2(?:[09]\\d|7)|33\\d{2})|1\\d{3}|2(?:1\\d{2}|2(?:[25]\\d?|[348]\\d|[67]\\d{1,2}))|3(?:1\\d{2}(?:\\d{2})?|2(?:[045]\\d|[236-9]\\d{1,2})|32\\d{2})|4(?:[18]\\d{2}|2(?:[2-46]\\d{2}|3)|5[25]\\d{2})|5(?:1\\d{2}|2(?:3\\d|5))|6(?:[18]\\d{2}|2(?:3(?:\\d{2})?|[46]\\d{1,2}|5\\d{2}|7\\d)|5(?:3\\d?|4\\d|[57]\\d{1,2}|6\\d{2}|8))|71\\d{2}|8(?:[18]\\d{2}|23\\d{2}|54\\d{2})|9(?:[18]\\d{2}|2[2-5]\\d{2}|53\\d{1,2}))\\d{3}|5(?:02[03489]\\d{2}|1\\d{2}|2(?:1\\d{2}|2(?:2(?:\\d{2})?|[457]\\d{2}))|3(?:1\\d{2}|2(?:[37](?:\\d{2})?|[569]\\d{2}))|4(?:1\\d{2}|2[46]\\d{2})|5(?:1\\d{2}|26\\d{1,2})|6(?:[18]\\d{2}|2|53\\d{2})|7(?:1|24)\\d{2}|8(?:1|26)\\d{2}|91\\d{2})\\d{3}|6(?:0(?:1\\d{2}|2(?:3\\d{2}|4\\d{1,2}))|2(?:2[2-5]\\d{2}|5(?:[3-5]\\d{2}|7)|8\\d{2})|3(?:1|2[3478])\\d{2}|4(?:1|2[34])\\d{2}|5(?:1|2[47])\\d{2}|6(?:[18]\\d{2}|6(?:2(?:2\\d|[34]\\d{2})|5(?:[24]\\d{2}|3\\d|5\\d{1,2})))|72[2-5]\\d{2}|8(?:1\\d{2}|2[2-5]\\d{2})|9(?:1\\d{2}|2[2-6]\\d{2}))\\d{3}|7(?:(?:02|[3-589]1|6[12]|72[24])\\d{2}|21\\d{3}|32)\\d{3}|8(?:(?:4[12]|[5-7]2|1\\d?)|(?:0|3[12]|[5-7]1|217)\\d)\\d{4}|9(?:[35]1|(?:[024]2|81)\\d|(?:1|[24]1)\\d{2})\\d{3}","\\d{6,9}",,,"27111234"],[,,"(?:1[13-9]\\d|(?:3[78]|44)[02-9]|6(?:44|6[02-9]))\\d{7}","\\d{10}",,,"1812345678"],[,,"80[03]\\d{7}","\\d{10}",,,"8001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"96(?:0[49]|1[0-4]|6[69])\\d{6}","\\d{10}",,,"9604123456"],"BD",880,"00[12]?","0",,,"0",,"00",,[[,"(2)(\\d{7})","$1-$2",["2"],"0$1","",0],[,"(\\d{2})(\\d{4,6})","$1-$2",["[3-79]1"],"0$1","",0],[,"(\\d{4})(\\d{3,6})","$1-$2",["1|3(?:0|[2-58]2)|4(?:0|[25]2|3[23]|[4689][25])|5(?:[02-578]2|6[25])|6(?:[0347-9]2|[26][25])|7[02-9]2|8(?:[023][23]|[4-7]2)|9(?:[02][23]|[458]2|6[016])"],"0$1","",0],[,"(\\d{3})(\\d{3,7})","$1-$2",["[3-79][2-9]|8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BE:[,[,,"[1-9]\\d{7,8}","\\d{8,9}"],[,,"(?:1[0-69]|[49][23]|5\\d|6[013-57-9]|71|8[0-79])[1-9]\\d{5}|[23][2-8]\\d{6}","\\d{8}",,,"12345678"],[,,"4(?:[679]\\d|8[03-9])\\d{6}","\\d{9}",,,"470123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"(?:70[2-7]|90\\d)\\d{5}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BE",32,"00","0",,,"0",,,,[[,"(4[6-9]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[6-9]"],"0$1","",0],[,"([2-49])(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|[49][23]"],"0$1","",0],[,"([15-8]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[156]|7[018]|8(?:0[1-9]|[1-79])"],"0$1","",0],[,"([89]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"78\\d{6}","\\d{8}",,,"78123456"],,,[,,"NA","NA"]],BF:[,[,,"[24-7]\\d{7}","\\d{8}"],[,,"(?:20(?:49|5[23]|9[016-9])|40(?:4[569]|5[4-6]|7[0179])|50(?:[34]\\d|50))\\d{4}","\\d{8}",,,"20491234"],[,,"6(?:[0-689]\\d|7[0-5])\\d{5}|7\\d{7}","\\d{8}",,,"70123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BF",226,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BG:[,[,,"[23567]\\d{5,7}|[489]\\d{6,8}","\\d{5,9}"],[,,"2(?:[0-8]\\d{5,6}|9\\d{4,6})|(?:[36]\\d|5[1-9]|8[1-6]|9[1-7])\\d{5,6}|(?:4(?:[124-7]\\d|3[1-6])|7(?:0[1-9]|[1-9]\\d))\\d{4,5}","\\d{5,8}",,,"2123456"],[,,"(?:8[7-9]|98)\\d{7}|4(?:3[0789]|8\\d)\\d{5}","\\d{8,9}",,,"48123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"700\\d{5}","\\d{5,9}",,,"70012345"],[,,"NA","NA"],"BG",359,"00","0",,,"0",,,,[[,"(2)(\\d{5})","$1 $2",["29"],"0$1","",0],[,"(2)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1","",0],[,"(\\d{3})(\\d{4})","$1 $2",["43[124-7]|70[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[124-7]|70[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[78]00"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["48|8[7-9]|9[08]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BH:[,[,,"[136-9]\\d{7}","\\d{8}"],[,,"(?:1(?:3[13-6]|6[0156]|7\\d)\\d|6(?:1[16]\\d|500|6(?:0\\d|3[12]|44|88)|9[69][69])|7(?:7\\d{2}|178))\\d{4}","\\d{8}",,,"17001234"],[,,"(?:3(?:[1-4679]\\d|5[0135]|8[0-48])\\d|6(?:3(?:00|33|6[16])|6(?:[69]\\d|3[03-9])))\\d{4}","\\d{8}",,,"36001234"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"(?:87|9[014578])\\d{6}","\\d{8}",,,"90123456"],[,,"84\\d{6}","\\d{8}",,,"84123456"],[,,"NA","NA"],[,,"NA","NA"],"BH",973,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BI:[,[,,"[27]\\d{7}","\\d{8}"],[,,"22(?:2[0-7]|[3-5]0)\\d{4}","\\d{8}",,,"22201234"],[,,"(?:29|7[14-9])\\d{6}","\\d{8}",,,"79561234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BI",257,"00",,,,,,,,[[,"([27]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BJ:[,[,,"[2689]\\d{7}|7\\d{3}","\\d{4,8}"],[,,"2(?:02|1[037]|2[45]|3[68])\\d{5}","\\d{8}",,,"20211234"],[,,"(?:6[146-8]|9[03-9])\\d{6}","\\d{8}",,,"90011234"],[,,"7[3-5]\\d{2}","\\d{4}",,,"7312"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"857[58]\\d{4}","\\d{8}",,,"85751234"],"BJ",229,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"81\\d{6}","\\d{8}",,,"81123456"],,,[,,"NA","NA"]],BL:[,[,,"[56]\\d{8}","\\d{9}"],[,,"590(?:2[7-9]|5[12]|87)\\d{4}","\\d{9}",,,"590271234"],[,,"690(?:0[0-7]|[1-9]\\d)\\d{4}","\\d{9}",,,"690301234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BL",590,"00","0",,,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BM:[,[,,"[4589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"441(?:2(?:02|23|61|[3479]\\d)|[46]\\d{2}|5(?:4\\d|60|89)|824)\\d{4}","\\d{7}(?:\\d{3})?",,,"4412345678"],[,,"441(?:[37]\\d|5[0-39])\\d{5}","\\d{10}",,,"4413701234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"BM",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"441",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BN:[,[,,"[2-578]\\d{6}","\\d{7}"],[,,"2(?:[013-9]\\d|2[0-7])\\d{4}|[3-5]\\d{6}","\\d{7}",,,"2345678"],[,,"22[89]\\d{4}|[78]\\d{6}","\\d{7}",,,"7123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BN",673,"00",,,,,,,,[[,"([2-578]\\d{2})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BO:[,[,,"[23467]\\d{7}","\\d{7,8}"],[,,"(?:2(?:2\\d{2}|5(?:11|[258]\\d|9[67])|6(?:12|2\\d|9[34])|8(?:2[34]|39|62))|3(?:3\\d{2}|4(?:6\\d|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:2\\d|3[234]|4[248]|5[24]|6[2-6]|7\\d))|4(?:4\\d{2}|6(?:11|[24689]\\d|72)))\\d{4}","\\d{7,8}",,,"22123456"],[,,"[67]\\d{7}","\\d{8}",,,"71234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BO",591,"00(1\\d)?","0",,,"0(1\\d)?",,,,[[,"([234])(\\d{7})","$1 $2",["[234]"],"","0$CC $1",0],[,"([67]\\d{7})","$1",["[67]"],"","0$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BQ:[,[,,"[347]\\d{6}","\\d{7}"],[,,"(?:318[023]|416[023]|7(?:1[578]|50)\\d)\\d{3}","\\d{7}",,,"7151234"],[,,"(?:318[14-68]|416[15-9]|7(?:0[01]|7[07]|[89]\\d)\\d)\\d{3}","\\d{7}",,,"3181234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BQ",599,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BR:[,[,,"[1-46-9]\\d{7,10}|5\\d{8,9}","\\d{8,11}"],[,,"1[1-9][2-5]\\d{7}|(?:[4689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-5]\\d{7}","\\d{8,11}",,,"1123456789"],[,,"1[1-9](?:7|9\\d)\\d{7}|(?:2[12478]|9[1-9])9?[6-9]\\d{7}|(?:3[1-578]|[468][1-9]|5[13-5]|7[13-579])[6-9]\\d{7}","\\d{10,11}",,,"11961234567"],[,,"800\\d{6,7}","\\d{8,11}",,,"800123456"],[,,"[359]00\\d{6,7}","\\d{8,11}",,,"300123456"],[,,"[34]00\\d{5}","\\d{8}",,,"40041234"],[,,"NA","NA"],[,,"NA","NA"],"BR",55,"00(?:1[45]|2[135]|31|4[13])","0",,,"0(?:(1[245]|2[135]|31|4[13])(\\d{10,11}))?","$2",,,[[,"(\\d{4})(\\d{4})","$1-$2",["[2-9](?:[1-9]|0[1-9])"],"$1","",0],[,"(\\d{5})(\\d{4})","$1-$2",["9(?:[1-9]|0[1-9])"],"$1","",0],[,"(\\d{3,5})","$1",["1[125689]"],"$1","",0],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["(?:1[1-9]|2[12478]|9[1-9])9"],"($1)","0 $CC ($1)",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)",0],[,"([34]00\\d)(\\d{4})","$1-$2",["[34]00"],"","",0],[,"([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1","",0]],[[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["(?:1[1-9]|2[12478]|9[1-9])9"],"($1)","0 $CC ($1)",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)",0],[,"([34]00\\d)(\\d{4})","$1-$2",["[34]00"],"","",0],[,"([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1","",0]],[,,"NA","NA"],,,[,,"[34]00\\d{5}","\\d{8}",,,"40041234"],[,,"NA","NA"],,,[,,"NA","NA"]],BS:[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[3467]|8[0-4]|9[2-467])|461|502|6(?:0[12]|12|7[67]|8[78]|9[89])|702)\\d{4}","\\d{7}(?:\\d{3})?",,,"2423456789"],[,,"242(?:3(?:5[79]|[79]5)|4(?:[2-4][1-9]|5[1-8]|6[2-8]|7\\d|81)|5(?:2[45]|3[35]|44|5[1-9]|65|77)|6[34]6|727)\\d{4}","\\d{10}",,,"2423591234"],[,,"242300\\d{4}|8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"BS",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"242",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BT:[,[,,"[1-8]\\d{6,7}","\\d{6,8}"],[,,"(?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4])\\d{5}","\\d{6,7}",,,"2345678"],[,,"[17]7\\d{6}","\\d{8}",,,"17123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BT",975,"00",,,,,,,,[[,"([17]7)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1|77"],"","",0],[,"([2-8])(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BW:[,[,,"[2-79]\\d{6,7}","\\d{7,8}"],[,,"(?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0235-9]|55|6\\d|7[01]|9[0-57])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[0389]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))\\d{4}","\\d{7}",,,"2401234"],[,,"7(?:[1-356]\\d|4[0-7]|7[014-7])\\d{5}","\\d{8}",,,"71123456"],[,,"NA","NA"],[,,"90\\d{5}","\\d{7}",,,"9012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"79[12][01]\\d{4}","\\d{8}",,,"79101234"],"BW",267,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-6]"],"","",0],[,"(7\\d)(\\d{3})(\\d{3})","$1 $2 $3",["7"],"","",0],[,"(90)(\\d{5})","$1 $2",["9"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BY:[,[,,"[1-4]\\d{8}|[89]\\d{9,10}","\\d{7,11}"],[,,"(?:1(?:5(?:1[1-5]|[24]\\d|6[2-4]|9[1-7])|6(?:[235]\\d|4[1-7])|7\\d{2})|2(?:1(?:[246]\\d|3[0-35-9]|5[1-9])|2(?:[235]\\d|4[0-8])|3(?:[26]\\d|3[02-79]|4[024-7]|5[03-7])))\\d{5}","\\d{7,9}",,,"152450911"],[,,"(?:2(?:5[5679]|9[1-9])|33\\d|44\\d)\\d{6}","\\d{9}",,,"294911911"],[,,"8(?:0[13]|20\\d)\\d{7}","\\d{10,11}",,,"8011234567"],[,,"(?:810|902)\\d{7}","\\d{10}",,,"9021234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BY",375,"810","8",,,"8?0?",,"8~10",,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["17[0-3589]|2[4-9]|[34]","17(?:[02358]|1[0-2]|9[0189])|2[4-9]|[34]"],"8 0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:5[24]|6[235]|7[467])|2(?:1[246]|2[25]|3[26])","1(?:5[24]|6(?:2|3[04-9]|5[0346-9])|7(?:[46]|7[37-9]))|2(?:1[246]|2[25]|3[26])"],"8 0$1","",0],[,"(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8[01]|9"],"8 $1","",0],[,"(8\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["82"],"8 $1","",0]],,[,,"NA","NA"],,,[,,"8(?:[013]|[12]0)\\d{8}|902\\d{7}","\\d{10,11}",,,"82012345678"],[,,"NA","NA"],,,[,,"NA","NA"]],
BZ:[,[,,"[2-8]\\d{6}|0\\d{10}","\\d{7}(?:\\d{4})?"],[,,"[234578][02]\\d{5}","\\d{7}",,,"2221234"],[,,"6[0-367]\\d{5}","\\d{7}",,,"6221234"],[,,"0800\\d{7}","\\d{11}",,,"08001234123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BZ",501,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-8]"],"","",0],[,"(0)(800)(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],CA:[,[,,"[2-9]\\d{9}|3\\d{6}","\\d{7}(?:\\d{3})?"],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|79|8[17])|6(?:0[04]|13|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|73)|90[25])[2-9]\\d{6}|310\\d{4}","\\d{7}(?:\\d{3})?",,,"2042345678"],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|79|8[17])|6(?:0[04]|13|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|73)|90[25])[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2042345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}|310\\d{4}","\\d{7}(?:\\d{3})?",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"CA",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CC:[,[,,"[1458]\\d{5,9}","\\d{6,10}"],[,,"89162\\d{4}","\\d{8,9}",,,"891621234"],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-2]\\d|3[0-57-9]|4[47-9]|5[0-25-9]|6[6-9]|7[03-9]|8[17-9]|9[017-9])\\d{6}","\\d{9}",,,"412345678"],[,,"1(?:80(?:0\\d{2})?|3(?:00\\d{2})?)\\d{4}","\\d{6,10}",,,"1800123456"],[,,"190[0126]\\d{6}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"500\\d{6}","\\d{9}",,,"500123456"],[,,"550\\d{6}","\\d{9}",,,"550123456"],"CC",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CD:[,[,,"[2-6]\\d{6}|[18]\\d{6,8}|9\\d{8}","\\d{7,9}"],[,,"1(?:2\\d{7}|\\d{6})|[2-6]\\d{6}","\\d{7,9}",,,"1234567"],[,,"8(?:[0-2459]\\d{2}|8)\\d{5}|9[7-9]\\d{7}","\\d{7,9}",,,"991234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CD",243,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["12"],"0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[0-2459]|9"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1","",0],[,"(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CF:[,[,,"[278]\\d{7}","\\d{8}"],[,,"2[12]\\d{6}","\\d{8}",,,"21612345"],[,,"7[0257]\\d{6}","\\d{8}",,,"70012345"],[,,"NA","NA"],[,,"8776\\d{4}","\\d{8}",,,"87761234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CF",236,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CG:[,[,,"[028]\\d{8}","\\d{9}"],[,,"222[1-589]\\d{5}","\\d{9}",,,"222123456"],[,,"0[14-6]\\d{7}","\\d{9}",,,"061234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CG",242,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"],"","",0],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],CH:[,[,,"[2-9]\\d{8}|860\\d{9}","\\d{9}(?:\\d{3})?"],[,,"(?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1)\\d{7}","\\d{9}",,,"212345678"],[,,"7[5-9]\\d{7}","\\d{9}",,,"781234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"90[016]\\d{6}","\\d{9}",,,"900123456"],[,,"84[0248]\\d{6}","\\d{9}",,,"840123456"],[,,"878\\d{6}","\\d{9}",,,"878123456"],[,,"NA","NA"],"CH",41,"00","0",,,"0",,,,[[,"([2-9]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]|[89]1"],"0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["860"],"0$1","",0]],,[,,"74[0248]\\d{6}","\\d{9}",,,"740123456"],,,[,,"NA","NA"],[,,"5[18]\\d{7}","\\d{9}",,,"581234567"],,,[,,"860\\d{9}","\\d{12}",,,"860123456789"]],CI:[,[,,"[02-7]\\d{7}","\\d{8}"],[,,"(?:2(?:0[023]|1[02357]|[23][045]|4[03-5])|3(?:0[06]|1[069]|[2-4][07]|5[09]|6[08]))\\d{5}","\\d{8}",,,"21234567"],[,,"(?:0[1-9]|4[0-24-9]|5[4-9]|6[015-79]|7[57])\\d{6}","\\d{8}",,,"01234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CI",225,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],CK:[,[,,"[2-57]\\d{4}","\\d{5}"],[,,"(?:2\\d|3[13-7]|4[1-5])\\d{3}","\\d{5}",,,"21234"],[,,"(?:5[0-68]|7\\d)\\d{3}","\\d{5}",,,"71234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CK",682,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CL:[,[,,"(?:[2-9]|600|123)\\d{7,8}","\\d{7,11}"],[,,"2(?:2\\d{7}|1962\\d{4})|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57])\\d{7}","\\d{7,9}",,,"221234567"],[,,"9[4-9]\\d{7}","\\d{8,9}",,,"961234567"],[,,"800\\d{6}|1230\\d{7}","\\d{9,11}",,,"800123456"],[,,"NA","NA"],[,,"600\\d{7,8}","\\d{10,11}",,,"6001234567"],[,,"NA","NA"],[,,"44\\d{7}","\\d{9}",,,"441234567"],"CL",56,"(?:0|1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))0","0",,,"0|(1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))",,,,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["22"],"($1)","$CC ($1)",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]"],"($1)","$CC ($1)",0],[,"(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"],"0$1","",0],[,"([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"],"$1","",0],[,"(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"],"$1","",0],[,"(1230)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"$1","",0],[,"(\\d{5})(\\d{4})","$1 $2",["219"],"($1)","$CC ($1)",0],[,"(\\d{4,5})","$1",["[1-9]"],"$1","",0]],[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["22"],"($1)","$CC ($1)",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]"],"($1)","$CC ($1)",0],[,"(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"],"0$1","",0],[,"([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"],"$1","",0],[,"(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"],"$1","",0],[,"(1230)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"$1","",0],[,"(\\d{5})(\\d{4})","$1 $2",["219"],"($1)","$CC ($1)",0]],[,,"NA","NA"],,,[,,"600\\d{7,8}","\\d{10,11}",,,"6001234567"],[,,"NA","NA"],,,[,,"NA","NA"]],CM:[,[,,"[2357-9]\\d{7}","\\d{8}"],[,,"(?:22|33)\\d{6}","\\d{8}",,,"22123456"],[,,"[579]\\d{7}","\\d{8}",,,"71234567"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"88\\d{6}","\\d{8}",,,"88012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CM",237,"00",,,,,,,,[[,"([2357-9]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23579]|88"],"","",0],[,"(800)(\\d{2})(\\d{3})","$1 $2 $3",["80"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CN:[,[,,"[1-7]\\d{6,11}|8[0-357-9]\\d{6,9}|9\\d{7,9}","\\d{4,12}"],[,,"21(?:100\\d{2}|95\\d{3,4}|\\d{8,10})|(?:10|2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1\\d|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:71|98))(?:100\\d{2}|95\\d{3,4}|\\d{8})|(?:3(?:1[02-9]|35|49|5\\d|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[3-9]|5[2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17]\\d|2[248]|3[04-9]|4[3-6]|5[0-3689]|6[2368]|9[02-9])|8(?:1[236-8]|2[5-7]|3\\d|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100\\d{2}|95\\d{3,4}|\\d{7})|80(?:29|6[03578]|7[018]|81)\\d{4}","\\d{4,12}",,,"1012345678"],[,,"1(?:[38]\\d|4[57]|5[0-35-9]|7[06-8])\\d{8}","\\d{11}",,,"13123456789"],[,,"(?:10)?800\\d{7}","\\d{10,12}",,,"8001234567"],[,,"16[08]\\d{5}","\\d{8}",,,"16812345"],[,,"400\\d{7}|(?:10|2[0-57-9]|3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[4789]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[3678]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))96\\d{3,4}","\\d{7,10}",,,"4001234567"],[,,"NA","NA"],[,,"NA","NA"],"CN",86,"(1[1279]\\d{3})?00","0",,,"(1[1279]\\d{3})|0",,"00",,[[,"(80\\d{2})(\\d{4})","$1 $2",["80[2678]"],"0$1","$CC $1",1],[,"([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"],"","",0],[,"(\\d{5,6})","$1",["100|95"],"","",0],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1","$CC $1",0],[,"(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d{2}[19]","[3-9]\\d{2}(?:10|9[56])"],"0$1","$CC $1",0],[,"(\\d{3,4})(\\d{4})","$1 $2",["[2-9]"],"","",0],[,"(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","$CC $1",1],[,"([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:[1-9]|0[1-9]))|2[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:71|98)"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-578]"],"","$CC $1",0],[,"(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"],"","",0]],[[,"(80\\d{2})(\\d{4})","$1 $2",["80[2678]"],"0$1","$CC $1",1],[,"([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"],"","",0],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1","$CC $1",0],[,"(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d{2}[19]","[3-9]\\d{2}(?:10|9[56])"],"0$1","$CC $1",0],[,"(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","$CC $1",1],[,"([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:[1-9]|0[1-9]))|2[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:71|98)"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-578]"],"","$CC $1",0],[,"(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"],"","",0]],[,,"NA","NA"],,,[,,"(?:4|(?:10)?8)00\\d{7}","\\d{10,12}",,,"4001234567"],[,,"NA","NA"],,,[,,"NA","NA"]],CO:[,[,,"(?:[13]\\d{0,3}|[24-8])\\d{7}","\\d{7,11}"],[,,"[124-8][2-9]\\d{6}","\\d{8}",,,"12345678"],[,,"3(?:0[0-5]|1\\d|2[0-2]|5[01])\\d{7}","\\d{10}",,,"3211234567"],[,,"1800\\d{7}","\\d{11}",,,"18001234567"],[,,"19(?:0[01]|4[78])\\d{7}","\\d{11}",,,"19001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CO",57,"00(?:4(?:[14]4|56)|[579])","0",,,"0([3579]|4(?:44|56))?",,,,[[,"(\\d)(\\d{7})","$1 $2",["1(?:8[2-9]|9[0-3]|[2-7])|[24-8]","1(?:8[2-9]|9(?:09|[1-3])|[2-7])|[24-8]"],"($1)","0$CC $1",0],[,"(\\d{3})(\\d{7})","$1 $2",["3"],"","0$CC $1",0],[,"(1)(\\d{3})(\\d{7})","$1-$2-$3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"],"0$1","",0]],[[,"(\\d)(\\d{7})","$1 $2",["1(?:8[2-9]|9[0-3]|[2-7])|[24-8]","1(?:8[2-9]|9(?:09|[1-3])|[2-7])|[24-8]"],"($1)","0$CC $1",0],[,"(\\d{3})(\\d{7})","$1 $2",["3"],"","0$CC $1",0],[,"(1)(\\d{3})(\\d{7})","$1 $2 $3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"]]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CR:[,[,,"[24-9]\\d{7,9}","\\d{8,10}"],[,,"2[24-7]\\d{6}","\\d{8}",,,"22123456"],[,,"5(?:0[01]|7[0-3])\\d{5}|6(?:[0-2]\\d|30)\\d{5}|7[0-3]\\d{6}|8[3-9]\\d{6}","\\d{8}",,,"83123456"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"90[059]\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"210[0-6]\\d{4}|4(?:0(?:0[01]\\d{4}|10[0-3]\\d{3}|2(?:00\\d{3}|900\\d{2})|3[01]\\d{4}|40\\d{4}|5\\d{5}|60\\d{4}|70[01]\\d{3}|8[0-2]\\d{4})|1[01]\\d{5}|20[0-3]\\d{4}|400\\d{4}|70[0-2]\\d{4})|5100\\d{4}","\\d{8}",,,"40001234"],"CR",506,"00",,,,"(19(?:0[012468]|1[09]|20|66|77|99))",,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[24-7]|8[3-9]"],"","$CC $1",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]0"],"","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CU:[,[,,"[2-57]\\d{5,7}","\\d{4,8}"],[,,"2[1-4]\\d{5,6}|3(?:1\\d{6}|[23]\\d{4,6})|4(?:[125]\\d{5,6}|[36]\\d{6}|[78]\\d{4,6})|7\\d{6,7}","\\d{4,8}",,,"71234567"],[,,"5\\d{7}","\\d{8}",,,"51234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CU",53,"119","0",,,"0",,,,[[,"(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)","",0],[,"(\\d{2})(\\d{4,6})","$1 $2",["[2-4]"],"(0$1)","",0],[,"(\\d)(\\d{7})","$1 $2",["5"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CV:[,[,,"[259]\\d{6}","\\d{7}"],[,,"2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6\\d|7[1-3]|8[1-5])\\d{4}","\\d{7}",,,"2211234"],[,,"(?:9\\d|59)\\d{5}","\\d{7}",,,"9911234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CV",238,"0",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CW:[,[,,"[169]\\d{6,7}","\\d{7,8}"],[,,"9(?:[48]\\d{2}|50\\d|7(?:2[0-24]|[34]\\d|6[35-7]|77|8[7-9]))\\d{4}","\\d{7,8}",,,"94151234"],[,,"9(?:5(?:[1246]\\d|3[01])|6(?:[16-9]\\d|3[01]))\\d{4}","\\d{7,8}",,,"95181234"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:10|69)\\d{5}","\\d{7}",,,"1011234"],[,,"NA","NA"],[,,"NA","NA"],"CW",599,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[13-7]"],"","",0],[,"(9)(\\d{3})(\\d{4})","$1 $2 $3",["9"],"","",0]],,[,,"955\\d{5}","\\d{7,8}",,,"95581234"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CX:[,[,,"[1458]\\d{5,9}","\\d{6,10}"],[,,"89164\\d{4}","\\d{8,9}",,,"891641234"],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-2]\\d|3[0-57-9]|4[47-9]|5[0-25-9]|6[6-9]|7[03-9]|8[17-9]|9[017-9])\\d{6}","\\d{9}",,,"412345678"],[,,"1(?:80(?:0\\d{2})?|3(?:00\\d{2})?)\\d{4}","\\d{6,10}",,,"1800123456"],[,,"190[0126]\\d{6}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"500\\d{6}","\\d{9}",,,"500123456"],[,,"550\\d{6}","\\d{9}",,,"550123456"],"CX",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CY:[,[,,"[257-9]\\d{7}","\\d{8}"],[,,"2[2-6]\\d{6}","\\d{8}",,,"22345678"],[,,"9[5-79]\\d{6}","\\d{8}",,,"96123456"],[,,"800\\d{5}","\\d{8}",,,"80001234"],[,,"90[09]\\d{5}","\\d{8}",,,"90012345"],[,,"80[1-9]\\d{5}","\\d{8}",,,"80112345"],[,,"700\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"CY",357,"00",,,,,,,,[[,"(\\d{2})(\\d{6})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"(?:50|77)\\d{6}","\\d{8}",,,"77123456"],,,[,,"NA","NA"]],CZ:[,[,,"[2-8]\\d{8}|9\\d{8,11}","\\d{9,12}"],[,,"2\\d{8}|(?:3[1257-9]|4[16-9]|5[13-9])\\d{7}","\\d{9,12}",,,"212345678"],[,,"(?:60[1-8]|7(?:0[2-5]|[2379]\\d))\\d{6}","\\d{9,12}",,,"601123456"],[,,"800\\d{6}","\\d{9,12}",,,"800123456"],[,,"9(?:0[05689]|76)\\d{6}","\\d{9,12}",,,"900123456"],[,,"8[134]\\d{7}","\\d{9,12}",,,"811234567"],[,,"70[01]\\d{6}","\\d{9,12}",,,"700123456"],[,,"9[17]0\\d{6}","\\d{9,12}",,,"910123456"],"CZ",420,"00",,,,,,,,[[,"([2-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"],"","",0],[,"(96\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["96"],"","",0],[,"(9\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9[36]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"9(?:5\\d|7[234])\\d{6}","\\d{9,12}",,,"972123456"],,,[,,"9(?:3\\d{9}|6\\d{7,10})","\\d{9,12}",,,"93123456789"]],DE:[,[,,"[1-35-9]\\d{3,14}|4(?:[0-8]\\d{4,12}|9(?:[0-37]\\d|4(?:[1-35-8]|4\\d?)|5\\d{1,2}|6[1-8]\\d?)\\d{2,8})","\\d{2,15}"],[,,"[246]\\d{5,13}|3(?:0\\d{3,13}|2\\d{9}|[3-9]\\d{4,13})|5(?:0[2-8]|[1256]\\d|[38][0-8]|4\\d{0,2}|[79][0-7])\\d{3,11}|7(?:0[2-8]|[1-9]\\d)\\d{3,10}|8(?:0[2-9]|[1-9]\\d)\\d{3,10}|9(?:0[6-9]\\d{3,10}|1\\d{4,12}|[2-9]\\d{4,11})","\\d{2,15}",,,"30123456"],[,,"1(?:5[0-2579]\\d{8}|6[023]\\d{7,8}|7(?:[0-57-9]\\d?|6\\d)\\d{7})","\\d{10,11}",,,"15123456789"],[,,"800\\d{7,12}","\\d{10,15}",,,"8001234567890"],[,,"137[7-9]\\d{6}|900(?:[135]\\d{6}|9\\d{7})","\\d{10,11}",,,"9001234567"],[,,"1(?:3(?:7[1-6]\\d{6}|8\\d{4})|80\\d{5,11})","\\d{7,14}",,,"18012345"],[,,"700\\d{8}","\\d{11}",,,"70012345678"],[,,"NA","NA"],"DE",49,"00","0",,,"0",,,,[[,"(1\\d{2})(\\d{7,8})","$1 $2",["1[67]"],"0$1","",0],[,"(1\\d{3})(\\d{7})","$1 $2",["15"],"0$1","",0],[,"(\\d{2})(\\d{3,11})","$1 $2",["3[02]|40|[68]9"],"0$1","",0],[,"(\\d{3})(\\d{3,11})","$1 $2",["2(?:\\d1|0[2389]|1[24]|28|34)|3(?:[3-9][15]|40)|[4-8][1-9]1|9(?:06|[1-9]1)"],"0$1","",0],[,"(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|[7-9](?:\\d[1-9]|[1-9]\\d)|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])","[24-6]|[7-9](?:\\d[1-9]|[1-9]\\d)|3(?:3(?:0[1-467]|2[127-9]|3[124578]|[46][1246]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|3[1357]|4[13578]|6[1246]|7[1356]|9[1346])|5(?:0[14]|2[1-3589]|3[1357]|4[1246]|6[1-4]|7[1346]|8[13568]|9[1246])|6(?:0[356]|2[1-489]|3[124-6]|4[1347]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|3[1357]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|4[1347]|6[0135-9]|7[1467]|8[136])|9(?:0[12479]|2[1358]|3[1357]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))"],"0$1","",0],[,"(3\\d{4})(\\d{1,10})","$1 $2",["3"],"0$1","",0],[,"(800)(\\d{7,12})","$1 $2",["800"],"0$1","",0],[,"(177)(99)(\\d{7,8})","$1 $2 $3",["177","1779","17799"],"0$1","",0],[,"(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["(?:18|90)0|137","1(?:37|80)|900[1359]"],"0$1","",0],[,"(1\\d{2})(\\d{5,11})","$1 $2",["181"],"0$1","",0],[,"(18\\d{3})(\\d{6})","$1 $2",["185","1850","18500"],"0$1","",0],[,"(18\\d{2})(\\d{7})","$1 $2",["18[68]"],"0$1","",0],[,"(18\\d)(\\d{8})","$1 $2",["18[2-579]"],"0$1","",0],[,"(700)(\\d{4})(\\d{4})","$1 $2 $3",["700"],"0$1","",0],[,"(138)(\\d{4})","$1 $2",["138"],"0$1","",0]],,[,,"16(?:4\\d{1,10}|[89]\\d{1,11})","\\d{4,14}",,,"16412345"],,,[,,"NA","NA"],[,,"18(?:1\\d{5,11}|[2-9]\\d{8})","\\d{8,14}",,,"18500123456"],,,[,,"17799\\d{7,8}","\\d{12,13}",,,"177991234567"]],DJ:[,[,,"[27]\\d{7}","\\d{8}"],[,,"2(?:1[2-5]|7[45])\\d{5}","\\d{8}",,,"21360003"],[,,"77[6-8]\\d{5}","\\d{8}",,,"77831001"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"DJ",253,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],DK:[,[,,"[2-9]\\d{7}","\\d{8}"],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}","\\d{8}",,,"32123456"],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}","\\d{8}",,,"20123456"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"DK",45,"00",,,,,,,1,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],DM:[,[,,"[57-9]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4]|70[1-3])\\d{4}","\\d{7}(?:\\d{3})?",,,"7674201234"],[,,"767(?:2(?:[234689]5|7[5-7])|31[5-7]|61[2-7])\\d{4}","\\d{10}",,,"7672251234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"DM",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"767",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],DO:[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"8(?:[04]9[2-9]\\d{6}|29(?:2(?:[0-59]\\d|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9]\\d|4[7-9])|[45]\\d{2}|6(?:[0-27-9]\\d|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37]\\d|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248]\\d|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24]\\d|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9]))\\d{4})","\\d{7}(?:\\d{3})?",,,"8092345678"],[,,"8[024]9[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"8092345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"DO",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"8[024]9",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],DZ:[,[,,"(?:[1-4]|[5-9]\\d)\\d{7}","\\d{8,9}"],[,,"(?:1\\d|2[014-79]|3[0-8]|4[0135689])\\d{6}|9619\\d{5}","\\d{8,9}",,,"12345678"],[,,"(?:5[4-6]|7[7-9])\\d{7}|6(?:[569]\\d|7[0-4])\\d{6}","\\d{9}",,,"551234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"80[3-689]1\\d{5}","\\d{9}",,,"808123456"],[,,"80[12]1\\d{5}","\\d{9}",,,"801123456"],[,,"NA","NA"],[,,"98[23]\\d{6}","\\d{9}",,,"983123456"],"DZ",213,"00","0",,,"0",,,,[[,"([1-4]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1","",0],[,"([5-8]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1","",0],[,"(9\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],EC:[,[,,"1\\d{9,10}|[2-8]\\d{7}|9\\d{8}","\\d{7,11}"],[,,"[2-7][2-7]\\d{6}","\\d{7,8}",,,"22123456"],[,,"9(?:39|[45][89]|[67][7-9]|[89]\\d)\\d{6}","\\d{9}",,,"991234567"],[,,"1800\\d{6,7}","\\d{10,11}",,,"18001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"[2-7]890\\d{4}","\\d{8}",,,"28901234"],"EC",593,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[247]|[356][2-8]"],"(0$1)","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["1"],"$1","",0]],[[,"(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[247]|[356][2-8]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["1"],"$1","",0]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],EE:[,[,,"1\\d{3,4}|[3-9]\\d{6,7}|800\\d{6,7}","\\d{4,10}"],[,,"(?:3[23589]|4[3-8]|6\\d|7[1-9]|88)\\d{5}","\\d{7}",,,"3212345"],[,,"(?:5\\d|8[1-5])\\d{6}|5(?:[02]\\d{2}|1(?:[0-8]\\d|95)|5[0-478]\\d|64[0-4]|65[1-589])\\d{3}","\\d{7,8}",,,"51234567"],[,,"800(?:0\\d{3}|1\\d|[2-9])\\d{3}","\\d{7,10}",,,"80012345"],[,,"(?:40\\d{2}|900)\\d{4}","\\d{7,8}",,,"9001234"],[,,"NA","NA"],[,,"70[0-2]\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"EE",372,"00",,,,,,,,[[,"([3-79]\\d{2})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"],"","",0],[,"(70)(\\d{2})(\\d{4})","$1 $2 $3",["70"],"","",0],[,"(8000)(\\d{3})(\\d{3})","$1 $2 $3",["800","8000"],"","",0],[,"([458]\\d{3})(\\d{3,4})","$1 $2",["40|5|8(?:00|[1-5])","40|5|8(?:00[1-9]|[1-5])"],"","",0]],,[,,"NA","NA"],,,[,,"1\\d{3,4}|800[2-9]\\d{3}","\\d{4,7}",,,"8002123"],[,,"1(?:2[01245]|3[0-6]|4[1-489]|5[0-59]|6[1-46-9]|7[0-27-9]|8[189]|9[012])\\d{1,2}","\\d{4,5}",,,"12123"],,,[,,"NA","NA"]],EG:[,[,,"1\\d{4,9}|[2456]\\d{8}|3\\d{7}|[89]\\d{8,9}","\\d{5,10}"],[,,"(?:1(?:3[23]\\d|5(?:[23]|9\\d))|2[2-4]\\d{2}|3\\d{2}|4(?:0[2-5]|[578][23]|64)\\d|5(?:0[2-7]|[57][23])\\d|6[24-689]3\\d|8(?:2[2-57]|4[26]|6[237]|8[2-4])\\d|9(?:2[27]|3[24]|52|6[2356]|7[2-4])\\d)\\d{5}|1[69]\\d{3}","\\d{5,9}",,,"234567890"],[,,"1(?:0[0-269]|1[0-245]|2[0-278])\\d{7}","\\d{10}",,,"1001234567"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"EG",20,"00","0",,,"0",,,,[[,"(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1[012]|[89]00"],"0$1","",0],[,"(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|[89][2-9]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],EH:[,[,,"[5689]\\d{8}","\\d{9}"],[,,"528[89]\\d{5}","\\d{9}",,,"528812345"],[,,"6(?:0[0-8]|[12-7]\\d|8[01]|9[2457-9])\\d{6}","\\d{9}",,,"650123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89\\d{7}","\\d{9}",,,"891234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"EH",212,"00","0",,,"0",,,,,,[,,"NA","NA"],,"528[89]",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ER:[,[,,"[178]\\d{6}","\\d{6,7}"],[,,"1(?:1[12568]|20|40|55|6[146])\\d{4}|8\\d{6}","\\d{6,7}",,,"8370362"],[,,"17[1-3]\\d{4}|7\\d{6}","\\d{7}",,,"7123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ER",291,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ES:[,[,,"[5-9]\\d{8}","\\d{9}"],[,,"8(?:[13]0|[28][0-8]|[47][1-9]|5[01346-9]|6[0457-9])\\d{6}|9(?:[1238][0-8]\\d{6}|4[1-9]\\d{6}|5\\d{7}|6(?:[0-8]\\d{6}|9(?:0(?:[0-57-9]\\d{4}|6(?:0[0-8]|1[1-9]|[2-9]\\d)\\d{2})|[1-9]\\d{5}))|7(?:[124-9]\\d{2}|3(?:[0-8]\\d|9[1-9]))\\d{4})","\\d{9}",,,"810123456"],[,,"(?:6\\d{6}|7[1-4]\\d{5}|9(?:6906(?:09|10)|7390\\d{2}))\\d{2}","\\d{9}",,,"612345678"],[,,"[89]00\\d{6}","\\d{9}",,,"800123456"],[,,"80[367]\\d{6}","\\d{9}",,,"803123456"],[,,"90[12]\\d{6}","\\d{9}",,,"901123456"],[,,"70\\d{7}","\\d{9}",,,"701234567"],[,,"NA","NA"],"ES",34,"00",,,,,,,,[[,"([5-9]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[568]|[79][0-8]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"51\\d{7}","\\d{9}",,,"511234567"],,,[,,"NA","NA"]],ET:[,[,,"[1-59]\\d{8}","\\d{7,9}"],[,,"(?:11(?:1(?:1[124]|2[2-57]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[57]|44|5[0-4])|6(?:18|2[69]|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33\\d|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|22[0-6]|33[0134689]|44[04]|55[0-6]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:11[1-9]|22[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77\\d)))\\d{4}","\\d{7,9}",,,"111112345"],[,,"9(?:[1-3]\\d|5[89])\\d{6}","\\d{9}",,,"911234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ET",251,"00","0",,,"0",,,,[[,"([1-59]\\d)(\\d{3})(\\d{4})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],FI:[,[,,"1\\d{4,11}|[2-9]\\d{4,10}","\\d{5,12}"],[,,"1(?:[3569][1-8]\\d{3,9}|[47]\\d{5,10})|2[1-8]\\d{3,9}|3(?:[1-8]\\d{3,9}|9\\d{4,8})|[5689][1-8]\\d{3,9}","\\d{5,12}",,,"1312345678"],[,,"4\\d{5,10}|50\\d{4,8}","\\d{6,11}",,,"412345678"],[,,"800\\d{4,7}","\\d{7,10}",,,"8001234567"],[,,"[67]00\\d{5,6}","\\d{8,9}",,,"600123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FI",358,"00|99[049]","0",,,"0",,,,[[,"(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]00|[6-8]0)"],"0$1","",0],[,"(\\d{2})(\\d{4,10})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1","",0],[,"(\\d)(\\d{4,11})","$1 $2",["[25689][1-8]|3"],"0$1","",0]],,[,,"NA","NA"],1,,[,,"[13]00\\d{3,7}|2(?:0(?:0\\d{3,7}|2[023]\\d{1,6}|9[89]\\d{1,6}))|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"100123"],[,,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"10112345"],,,[,,"NA","NA"]],FJ:[,[,,"[36-9]\\d{6}|0\\d{10}","\\d{7}(?:\\d{4})?"],[,,"(?:3[0-5]|6[25-7]|8[58])\\d{5}","\\d{7}",,,"3212345"],[,,"(?:7[0-8]|8[034679]|9\\d)\\d{5}","\\d{7}",,,"7012345"],[,,"0800\\d{7}","\\d{11}",,,"08001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FJ",679,"0(?:0|52)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[36-9]"],"","",0],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],FK:[,[,,"[2-7]\\d{4}","\\d{5}"],[,,"[2-47]\\d{4}","\\d{5}",,,"31234"],[,,"[56]\\d{4}","\\d{5}",,,"51234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FK",500,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],FM:[,[,,"[39]\\d{6}","\\d{7}"],[,,"3[2357]0[1-9]\\d{3}|9[2-6]\\d{5}","\\d{7}",,,"3201234"],[,,"3[2357]0[1-9]\\d{3}|9[2-7]\\d{5}","\\d{7}",,,"3501234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FM",691,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],FO:[,[,,"[2-9]\\d{5}","\\d{6}"],[,,"(?:20|[3-4]\\d|8[19])\\d{4}","\\d{6}",,,"201234"],[,,"(?:2[1-9]|5\\d|7[1-79])\\d{4}","\\d{6}",,,"211234"],[,,"80[257-9]\\d{3}","\\d{6}",,,"802123"],[,,"90(?:[1345][15-7]|2[125-7]|99)\\d{2}","\\d{6}",,,"901123"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:6[0-36]|88)\\d{4}","\\d{6}",,,"601234"],"FO",298,"00",,,,"(10(?:01|[12]0|88))",,,,[[,"(\\d{6})","$1",,"","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],FR:[,[,,"[1-9]\\d{8}","\\d{9}"],[,,"[1-5]\\d{8}","\\d{9}",,,"123456789"],[,,"6\\d{8}|7[5-9]\\d{7}","\\d{9}",,,"612345678"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89[1-37-9]\\d{6}","\\d{9}",,,"891123456"],[,,"8(?:1[019]|2[0156]|84|90)\\d{6}","\\d{9}",,,"810123456"],[,,"NA","NA"],[,,"9\\d{8}","\\d{9}",,,"912345678"],"FR",33,"00","0",,,"0",,,,[[,"([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1","",0],[,"(1\\d{2})(\\d{3})","$1 $2",["11"],"$1","",0],[,"(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1","",0]],[[,"([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1","",0],[,"(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1","",0]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GA:[,[,,"0?\\d{7}","\\d{7,8}"],[,,"01\\d{6}","\\d{8}",,,"01441234"],[,,"0?[2-7]\\d{6}","\\d{7,8}",,,"06031234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GA",241,"00",,,,,,,,[[,"(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],GB:[,[,,"\\d{7,10}","\\d{4,10}"],[,,"2(?:0[01378]|3[0189]|4[017]|8[0-46-9]|9[012])\\d{7}|1(?:(?:1(?:3[0-48]|[46][0-4]|5[012789]|7[0-49]|8[01349])|21[0-7]|31[0-8]|[459]1\\d|61[0-46-9]))\\d{6}|1(?:2(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-4789]|7[013-9]|9\\d)|3(?:0\\d|[25][02-9]|3[02-579]|[468][0-46-9]|7[1235679]|9[24578])|4(?:0[03-9]|[28][02-5789]|[37]\\d|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1235-9]|2[024-9]|3[015689]|4[02-9]|5[03-9]|6\\d|7[0-35-9]|8[0-468]|9[0-5789])|6(?:0[034689]|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0124578])|7(?:0[0246-9]|2\\d|3[023678]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-5789]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|2[02-689]|3[1-5789]|4[2-9]|5[0-579]|6[234789]|7[0124578]|8\\d|9[2-57]))\\d{6}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-4789]|8[345])))|3(?:638[2-5]|647[23]|8(?:47[04-9]|64[015789]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[123]))|5(?:24(?:3[2-79]|6\\d)|276\\d|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[567]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|955[0-4])|7(?:26(?:6[13-9]|7[0-7])|442\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|84(?:3[2-58]))|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}|176888[234678]\\d{2}|16977[23]\\d{3}","\\d{4,10}",,,"1212345678"],[,,"7(?:[1-4]\\d\\d|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[04-9]\\d|1[02-9]|2[0-35-9]|3[0-689]))\\d{6}","\\d{10}",,,"7400123456"],[,,"80(?:0(?:1111|\\d{6,7})|8\\d{7})|500\\d{6}","\\d{7}(?:\\d{2,3})?",,,"8001234567"],[,,"(?:87[123]|9(?:[01]\\d|8[2349]))\\d{7}","\\d{10}",,,"9012345678"],[,,"8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})","\\d{7}(?:\\d{3})?",,,"8431234567"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"GB",44,"00","0"," x",,"0",,,,[[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2|5[56]|7(?:0|6[013-9])","2|5[56]|7(?:0|6(?:[013-9]|2[0-35-9]))"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:1|\\d1)|3|9[018]"],"0$1","",0],[,"(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:387|5(?:24|39)|697|768|946)","1(?:3873|5(?:242|39[456])|697[347]|768[347]|9467)"],"0$1","",0],[,"(1\\d{3})(\\d{5,6})","$1 $2",["1"],"0$1","",0],[,"(7\\d{3})(\\d{6})","$1 $2",["7(?:[1-5789]|62)","7(?:[1-5789]|624)"],"0$1","",0],[,"(800)(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1","",0],[,"(845)(46)(4\\d)","$1 $2 $3",["845","8454","84546","845464"],"0$1","",0],[,"(8\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:4[2-5]|7[0-3])"],"0$1","",0],[,"(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1","",0],[,"([58]00)(\\d{6})","$1 $2",["[58]00"],"0$1","",0]],,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","\\d{10}",,,"7640123456"],1,,[,,"NA","NA"],[,,"(?:3[0347]|55)\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],GD:[,[,,"[4589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|68|73|90)|63[68]|7(?:58|84)|800|938)\\d{4}","\\d{7}(?:\\d{3})?",,,"4732691234"],[,,"473(?:4(?:0[2-79]|1[04-9]|20|58)|5(?:2[01]|3[3-8])|901)\\d{4}","\\d{10}",,,"4734031234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"GD",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"473",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],
GE:[,[,,"[34578]\\d{8}","\\d{6,9}"],[,,"(?:3(?:[256]\\d|4[124-9]|7[0-4])|4(?:1\\d|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))\\d{6}","\\d{6,9}",,,"322123456"],[,,"5(?:14|5[01578]|68|7[0147-9]|9[0-35-9])\\d{6}","\\d{9}",,,"555123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"706\\d{6}","\\d{9}",,,"706123456"],"GE",995,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5"],"$1","",0]],,[,,"NA","NA"],,,[,,"706\\d{6}","\\d{9}",,,"706123456"],[,,"NA","NA"],,,[,,"NA","NA"]],GF:[,[,,"[56]\\d{8}","\\d{9}"],[,,"594(?:10|2[012457-9]|3[0-57-9]|4[3-9]|5[7-9]|6[0-3]|9[014])\\d{4}","\\d{9}",,,"594101234"],[,,"694(?:[04][0-7]|1[0-5]|3[018]|[29]\\d)\\d{4}","\\d{9}",,,"694201234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GF",594,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GG:[,[,,"[135789]\\d{6,9}","\\d{6,10}"],[,,"1481\\d{6}","\\d{6,10}",,,"1481456789"],[,,"7(?:781|839|911)\\d{6}","\\d{10}",,,"7781123456"],[,,"80(?:0(?:1111|\\d{6,7})|8\\d{7})|500\\d{6}","\\d{7}(?:\\d{2,3})?",,,"8001234567"],[,,"(?:87[123]|9(?:[01]\\d|8[0-3]))\\d{7}","\\d{10}",,,"9012345678"],[,,"8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})","\\d{7}(?:\\d{3})?",,,"8431234567"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"GG",44,"00","0"," x",,"0",,,,,,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","\\d{10}",,,"7640123456"],,,[,,"NA","NA"],[,,"(?:3[0347]|55)\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],GH:[,[,,"[235]\\d{8}|8\\d{7}","\\d{7,9}"],[,,"3(?:0[237]\\d|[167](?:2[0-6]|7\\d)|2(?:2[0-5]|7\\d)|3(?:2[0-3]|7\\d)|4(?:2[013-9]|3[01]|7\\d)|5(?:2[0-7]|7\\d)|8(?:2[0-2]|7\\d)|9(?:20|7\\d))\\d{5}","\\d{7,9}",,,"302345678"],[,,"(?:2[034678]\\d|5(?:[047]\\d|54))\\d{6}","\\d{9}",,,"231234567"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GH",233,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1","",0],[,"(\\d{3})(\\d{5})","$1 $2",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],,,[,,"NA","NA"]],GI:[,[,,"[2568]\\d{7}","\\d{8}"],[,,"2(?:00\\d|1(?:6[24-7]|9\\d)|2(?:00|2[2457]))\\d{4}","\\d{8}",,,"20012345"],[,,"(?:5[46-8]|62)\\d{6}","\\d{8}",,,"57123456"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"8[1-689]\\d{6}","\\d{8}",,,"88123456"],[,,"87\\d{6}","\\d{8}",,,"87123456"],[,,"NA","NA"],[,,"NA","NA"],"GI",350,"00",,,,,,,,[[,"(\\d{3})(\\d{5})","$1 $2",["2"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GL:[,[,,"[1-689]\\d{5}","\\d{6}"],[,,"(?:19|3[1-6]|6[14689]|8[14-79]|9\\d)\\d{4}","\\d{6}",,,"321000"],[,,"[245][2-9]\\d{4}","\\d{6}",,,"221234"],[,,"80\\d{4}","\\d{6}",,,"801234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"3[89]\\d{4}","\\d{6}",,,"381234"],"GL",299,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GM:[,[,,"[2-9]\\d{6}","\\d{7}"],[,,"(?:4(?:[23]\\d{2}|4(?:1[024679]|[6-9]\\d))|5(?:54[0-7]|6(?:[67]\\d)|7(?:1[04]|2[035]|3[58]|48))|8\\d{3})\\d{3}","\\d{7}",,,"5661234"],[,,"(?:2[0-6]|[3679]\\d)\\d{5}","\\d{7}",,,"3012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GM",220,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GN:[,[,,"[367]\\d{7,8}","\\d{8,9}"],[,,"30(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])\\d{4}","\\d{8}",,,"30241234"],[,,"6[02356]\\d{7}","\\d{9}",,,"601123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"722\\d{6}","\\d{9}",,,"722123456"],"GN",224,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"],"","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GP:[,[,,"[56]\\d{8}","\\d{9}"],[,,"590(?:0[13468]|1[012]|2[0-68]|3[28]|4[0-8]|5[579]|6[0189]|70|8[0-689]|9\\d)\\d{4}","\\d{9}",,,"590201234"],[,,"690(?:0[0-7]|[1-9]\\d)\\d{4}","\\d{9}",,,"690301234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GP",590,"00","0",,,"0",,,,[[,"([56]90)(\\d{2})(\\d{4})","$1 $2-$3",,"0$1","",0]],,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GQ:[,[,,"[23589]\\d{8}","\\d{9}"],[,,"3(?:3(?:3\\d[7-9]|[0-24-9]\\d[46])|5\\d{2}[7-9])\\d{4}","\\d{9}",,,"333091234"],[,,"(?:222|551)\\d{6}","\\d{9}",,,"222123456"],[,,"80\\d[1-9]\\d{5}","\\d{9}",,,"800123456"],[,,"90\\d[1-9]\\d{5}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GQ",240,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"],"","",0],[,"(\\d{3})(\\d{6})","$1 $2",["[89]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GR:[,[,,"[26-9]\\d{9}","\\d{10}"],[,,"2(?:1\\d{2}|2(?:2[1-46-9]|3[1-8]|4[1-7]|5[1-4]|6[1-8]|7[1-5]|[89][1-9])|3(?:1\\d|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1\\d|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1\\d|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1\\d|3[1245]|4[1-7]|5[13-9]|[269][1-6]|7[14]|8[1-5])|7(?:1\\d|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1\\d|2[1-5]|[34][1-4]|9[1-57]))\\d{6}","\\d{10}",,,"2123456789"],[,,"69\\d{8}","\\d{10}",,,"6912345678"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"90[19]\\d{7}","\\d{10}",,,"9091234567"],[,,"8(?:0[16]|12|25)\\d{7}","\\d{10}",,,"8011234567"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"NA","NA"],"GR",30,"00",,,,,,,,[[,"([27]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["21|7"],"","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["2[2-9]1|[689]"],"","",0],[,"(2\\d{3})(\\d{6})","$1 $2",["2[2-9][02-9]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GT:[,[,,"[2-7]\\d{7}|1[89]\\d{9}","\\d{8}(?:\\d{3})?"],[,,"[267][2-9]\\d{6}","\\d{8}",,,"22456789"],[,,"[345]\\d{7}","\\d{8}",,,"51234567"],[,,"18[01]\\d{8}","\\d{11}",,,"18001112222"],[,,"19\\d{9}","\\d{11}",,,"19001112222"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GT",502,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]"],"","",0],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GU:[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:56|7[1-9]|8[236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[5-9])|7(?:[079]7|2[0167]|3[45]|8[789])|8(?:[2-5789]8|6[48])|9(?:2[29]|6[79]|7[179]|8[789]|9[78]))\\d{4}","\\d{7}(?:\\d{3})?",,,"6713001234"],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:56|7[1-9]|8[236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[5-9])|7(?:[079]7|2[0167]|3[45]|8[789])|8(?:[2-5789]8|6[48])|9(?:2[29]|6[79]|7[179]|8[789]|9[78]))\\d{4}","\\d{7}(?:\\d{3})?",,,"6713001234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"GU",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"671",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GW:[,[,,"[3-79]\\d{6}","\\d{7}"],[,,"3(?:2[0125]|3[1245]|4[12]|5[1-4]|70|9[1-467])\\d{4}","\\d{7}",,,"3201234"],[,,"(?:[5-7]\\d|9[012])\\d{5}","\\d{7}",,,"5012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"40\\d{5}","\\d{7}",,,"4012345"],"GW",245,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GY:[,[,,"[2-4679]\\d{6}","\\d{7}"],[,,"(?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6\\d|7[0-24-79])|3(?:2[25-9]|3\\d)|4(?:4[0-24]|5[56])|77[1-57])\\d{4}","\\d{7}",,,"2201234"],[,,"6\\d{6}","\\d{7}",,,"6091234"],[,,"(?:289|862)\\d{4}","\\d{7}",,,"2891234"],[,,"9008\\d{3}","\\d{7}",,,"9008123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GY",592,"001",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],HK:[,[,,"[235-7]\\d{7}|8\\d{7,8}|9\\d{4,10}","\\d{5,11}"],[,,"(?:[23]\\d|5[78])\\d{6}","\\d{8}",,,"21234567"],[,,"(?:5[1-69]\\d|6\\d{2}|9(?:0[1-9]|[1-8]\\d))\\d{5}","\\d{8}",,,"51234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900(?:[0-24-9]\\d{7}|3\\d{1,4})","\\d{5,11}",,,"90012345678"],[,,"NA","NA"],[,,"8[1-3]\\d{6}","\\d{8}",,,"81123456"],[,,"NA","NA"],"HK",852,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[235-7]|[89](?:0[1-9]|[1-9])"],"","",0],[,"(800)(\\d{3})(\\d{3})","$1 $2 $3",["800"],"","",0],[,"(900)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["900"],"","",0],[,"(900)(\\d{2,5})","$1 $2",["900"],"","",0]],,[,,"7\\d{7}","\\d{8}",,,"71234567"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],HN:[,[,,"[237-9]\\d{7}","\\d{8}"],[,,"2(?:2(?:0[019]|1[1-36]|[23]\\d|4[056]|5[57]|7[01389]|8[0146-9]|9[012])|4(?:2[3-59]|3[13-689]|4[0-68]|5[1-35])|5(?:4[3-5]|5\\d|6[56]|74)|6(?:[056]\\d|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[34])|8(?:79|8[0-35789]|9[1-57-9]))\\d{4}","\\d{8}",,,"22123456"],[,,"[37-9]\\d{7}","\\d{8}",,,"91234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"HN",504,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1-$2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],HR:[,[,,"[1-7]\\d{5,8}|[89]\\d{6,11}","\\d{6,12}"],[,,"1\\d{7}|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3])\\d{6}","\\d{6,8}",,,"12345678"],[,,"9[1257-9]\\d{6,10}","\\d{8,12}",,,"912345678"],[,,"80[01]\\d{4,7}","\\d{7,10}",,,"8001234567"],[,,"6(?:[09]\\d{7}|[145]\\d{4,7})","\\d{6,9}",,,"611234"],[,,"NA","NA"],[,,"7[45]\\d{4,7}","\\d{6,9}",,,"741234567"],[,,"NA","NA"],"HR",385,"00","0",,,"0",,,,[[,"(1)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1","",0],[,"(6[09])(\\d{4})(\\d{3})","$1 $2 $3",["6[09]"],"0$1","",0],[,"(62)(\\d{3})(\\d{3,4})","$1 $2 $3",["62"],"0$1","",0],[,"([2-5]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-5]"],"0$1","",0],[,"(9\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1","",0],[,"(9\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(9\\d)(\\d{3,4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[145]|7"],"0$1","",0],[,"(\\d{2})(\\d{3,4})(\\d{3})","$1 $2 $3",["6[145]|7"],"0$1","",0],[,"(80[01])(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1","",0],[,"(80[01])(\\d{3,4})(\\d{3})","$1 $2 $3",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"62\\d{6,7}","\\d{8,9}",,,"62123456"],,,[,,"NA","NA"]],HT:[,[,,"[2-489]\\d{7}","\\d{8}"],[,,"2(?:[24]\\d|5[1-5]|94)\\d{5}","\\d{8}",,,"22453300"],[,,"(?:3[1-9]|4\\d)\\d{6}","\\d{8}",,,"34101234"],[,,"8\\d{7}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"98[89]\\d{5}","\\d{8}",,,"98901234"],"HT",509,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],HU:[,[,,"[1-9]\\d{7,8}","\\d{6,9}"],[,,"(?:1\\d|2(?:1\\d|[2-9])|3[2-7]|4[24-9]|5[2-79]|6[23689]|7(?:1\\d|[2-9])|8[2-57-9]|9[2-69])\\d{6}","\\d{6,9}",,,"12345678"],[,,"(?:[27]0|3[01])\\d{7}","\\d{9}",,,"201234567"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"9[01]\\d{6}","\\d{8}",,,"90123456"],[,,"40\\d{6}","\\d{8}",,,"40123456"],[,,"NA","NA"],[,,"NA","NA"],"HU",36,"00","06",,,"06",,,,[[,"(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"($1)","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"($1)","",0]],,[,,"NA","NA"],,,[,,"[48]0\\d{6}","\\d{8}",,,"80123456"],[,,"NA","NA"],,,[,,"NA","NA"]],ID:[,[,,"[1-9]\\d{6,10}","\\d{5,11}"],[,,"2(?:1(?:14\\d{3}|[0-8]\\d{6,7}|500\\d{3}|9\\d{6})|[24]\\d{7,8})|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8\\d|9[1-8])|3(?:1|2[1-578]|3[1-68]|4[1-3]|5[1-8]|6[1-3568]|7[0-46]|8\\d)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[1246-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25]\\d|3[1-469]|4[1-6])|7(?:1[1-46-9]|2[14-9]|[36]\\d|4[1-8]|5[1-9]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))\\d{5,8}","\\d{5,10}",,,"612345678"],[,,"(?:2(?:1(?:3[145]|4[01]|5[1-469]|60|8[0359]|9\\d)|2(?:88|9[1256])|3[1-4]9|4(?:36|91)|5(?:1[349]|[2-4]9)|6[0-7]9|7(?:[1-36]9|4[39])|8[1-5]9|9[1-48]9)|3(?:19[1-3]|2[12]9|3[13]9|4(?:1[69]|39)|5[14]9|6(?:1[69]|2[89])|709)|4[13]19|5(?:1(?:19|8[39])|4[129]9|6[12]9)|6(?:19[12]|2(?:[23]9|77))|7(?:1[13]9|2[15]9|419|5(?:1[89]|29)|6[15]9|7[178]9))\\d{5,6}|8[1-35-9]\\d{7,9}","\\d{9,11}",,,"812345678"],[,,"177\\d{6,8}|800\\d{5,7}","\\d{8,11}",,,"8001234567"],[,,"809\\d{7}","\\d{10}",,,"8091234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ID",62,"0(?:0[1789]|10(?:00|1[67]))","0",,,"0",,,,[[,"(\\d{2})(\\d{5,8})","$1 $2",["2[124]|[36]1"],"(0$1)","",0],[,"(\\d{3})(\\d{5,7})","$1 $2",["[4579]|2[035-9]|[36][02-9]"],"(0$1)","",0],[,"(8\\d{2})(\\d{3,4})(\\d{3,4})","$1-$2-$3",["8[1-35-9]"],"0$1","",0],[,"(177)(\\d{6,8})","$1 $2",["1"],"0$1","",0],[,"(800)(\\d{5,7})","$1 $2",["800"],"0$1","",0],[,"(80\\d)(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80[79]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"8071\\d{6}","\\d{10}",,,"8071123456"],[,,"8071\\d{6}","\\d{10}",,,"8071123456"],,,[,,"NA","NA"]],IE:[,[,,"[124-9]\\d{6,9}","\\d{5,10}"],[,,"1\\d{7,8}|2(?:1\\d{6,7}|3\\d{7}|[24-9]\\d{5})|4(?:0[24]\\d{5}|[1-469]\\d{7}|5\\d{6}|7\\d{5}|8[0-46-9]\\d{7})|5(?:0[45]\\d{5}|1\\d{6}|[23679]\\d{7}|8\\d{5})|6(?:1\\d{6}|[237-9]\\d{5}|[4-6]\\d{7})|7[14]\\d{7}|9(?:1\\d{6}|[04]\\d{7}|[35-9]\\d{5})","\\d{5,10}",,,"2212345"],[,,"8(?:22\\d{6}|[35-9]\\d{7})","\\d{9}",,,"850123456"],[,,"1800\\d{6}","\\d{10}",,,"1800123456"],[,,"15(?:1[2-8]|[2-8]0|9[089])\\d{6}","\\d{10}",,,"1520123456"],[,,"18[59]0\\d{6}","\\d{10}",,,"1850123456"],[,,"700\\d{6}","\\d{9}",,,"700123456"],[,,"76\\d{7}","\\d{9}",,,"761234567"],"IE",353,"00","0",,,"0",,,,[[,"(1)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)","",0],[,"(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)","",0],[,"(\\d{3})(\\d{5})","$1 $2",["40[24]|50[45]"],"(0$1)","",0],[,"(48)(\\d{4})(\\d{4})","$1 $2 $3",["48"],"(0$1)","",0],[,"(818)(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[24-69]|7[14]"],"(0$1)","",0],[,"([78]\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["76|8[35-9]"],"0$1","",0],[,"(700)(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1","",0],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:8[059]|5)","1(?:8[059]0|5)"],"$1","",0]],,[,,"NA","NA"],,,[,,"18[59]0\\d{6}","\\d{10}",,,"1850123456"],[,,"818\\d{6}","\\d{9}",,,"818123456"],,,[,,"8[35-9]\\d{8}","\\d{10}",,,"8501234567"]],IL:[,[,,"[17]\\d{6,9}|[2-589]\\d{3}(?:\\d{3,6})?|6\\d{3}","\\d{4,10}"],[,,"[2-489]\\d{7}","\\d{7,8}",,,"21234567"],[,,"5(?:[02347-9]\\d{2}|5(?:01|2[23]|3[34]|4[45]|5[5689]|6[67]|7[78]|8[89]|9[7-9])|6[2-9]\\d)\\d{5}","\\d{9}",,,"501234567"],[,,"1(?:80[019]\\d{3}|255)\\d{3}","\\d{7,10}",,,"1800123456"],[,,"1(?:212|(?:9(?:0[01]|19)|200)\\d{2})\\d{4}","\\d{8,10}",,,"1919123456"],[,,"1700\\d{6}","\\d{10}",,,"1700123456"],[,,"NA","NA"],[,,"7(?:2[23]\\d|3[237]\\d|47\\d|6(?:5\\d|8[068])|7\\d{2}|8(?:33|55|77|81))\\d{5}","\\d{9}",,,"771234567"],"IL",972,"0(?:0|1[2-9])","0",,,"0",,,,[[,"([2-489])(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1","",0],[,"([57]\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1","",0],[,"(1)([7-9]\\d{2})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"],"$1","",0],[,"(1255)(\\d{3})","$1-$2",["125"],"$1","",0],[,"(1200)(\\d{3})(\\d{3})","$1-$2-$3",["120"],"$1","",0],[,"(1212)(\\d{2})(\\d{2})","$1-$2-$3",["121"],"$1","",0],[,"(1599)(\\d{6})","$1-$2",["15"],"$1","",0],[,"(\\d{4})","*$1",["[2-689]"],"$1","",0]],,[,,"NA","NA"],,,[,,"1700\\d{6}|[2-689]\\d{3}","\\d{4,10}",,,"1700123456"],[,,"[2-689]\\d{3}|1599\\d{6}","\\d{4}(?:\\d{6})?",,,"1599123456"],,,[,,"NA","NA"]],IM:[,[,,"[135789]\\d{6,9}","\\d{6,10}"],[,,"1624\\d{6}","\\d{6,10}",,,"1624456789"],[,,"7[569]24\\d{6}","\\d{10}",,,"7924123456"],[,,"808162\\d{4}","\\d{10}",,,"8081624567"],[,,"(?:872299|90[0167]624)\\d{4}","\\d{10}",,,"9016247890"],[,,"8(?:4(?:40[49]06|5624\\d)|70624\\d)\\d{3}","\\d{10}",,,"8456247890"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"IM",44,"00","0"," x",,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"3(?:08162\\d|3\\d{5}|4(?:40[49]06|5624\\d)|7(?:0624\\d|2299\\d))\\d{3}|55\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],IN:[,[,,"1\\d{7,12}|[2-9]\\d{9,10}","\\d{6,13}"],[,,"(?:11|2[02]|33|4[04]|79)[2-7]\\d{7}|80[2-467]\\d{7}|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[126-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:[136][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]\\d{6}|(?:(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[13-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1-5]|4[25-8]|5[125689]|6[235-7]|7[157-9]|8[2-467])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|[57][2-689]|6[24-578]|8[1-6])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5\\d|6[2457-9]|7[1-6]|8[1256]|9[2-4]))\\d|7(?:(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|9\\d)\\d|8(?:2[0-6]|[013-8]\\d)))[2-7]\\d{5}","\\d{6,10}",,,"1123456789"],[,,"(?:7(?:0(?:2[2-9]|[3-8]\\d|9[0-4])|2(?:0[04-9]|5[09]|7[5-8]|9[389])|3(?:0[1-9]|[58]\\d|7[3679]|9[689])|4(?:0[1-9]|1[15-9]|[29][89]|39|8[389])|5(?:[034678]\\d|2[03-9]|5[017-9]|9[7-9])|6(?:0[0127]|1[0-257-9]|2[0-4]|3[19]|5[4589]|[6-9]\\d)|7(?:0[2-9]|[1-79]\\d|8[1-9])|8(?:[0-7]\\d|9[013-9]))|8(?:0(?:[01589]\\d|6[67])|1(?:[02-589]\\d|1[0135-9]|7[0-79])|2(?:[236-9]\\d|5[1-9])|3(?:[0357-9]\\d|4[1-9])|[45]\\d{2}|6[02457-9]\\d|7[1-69]\\d|8(?:[0-26-9]\\d|44|5[2-9])|9(?:[035-9]\\d|2[2-9]|4[0-8]))|9\\d{3})\\d{6}","\\d{10}",,,"9123456789"],[,,"1(?:600\\d{6}|80(?:0\\d{4,8}|3\\d{9}))","\\d{8,13}",,,"1800123456"],[,,"186[12]\\d{9}","\\d{13}",,,"1861123456789"],[,,"1860\\d{7}","\\d{11}",,,"18603451234"],[,,"NA","NA"],[,,"NA","NA"],"IN",91,"00","0",,,"0",,,,[[,"(\\d{5})(\\d{5})","$1 $2",["7(?:0[2-9]|2[0579]|3[057-9]|4[0-389]|6[0-35-9]|[57]|8[0-79])|8(?:0[015689]|1[0-57-9]|2[2356-9]|3[0-57-9]|[45]|6[02457-9]|7[1-69]|8[0124-9]|9[02-9])|9","7(?:0(?:2[2-9]|[3-8]|9[0-4])|2(?:0[04-9]|5[09]|7[5-8]|9[389])|3(?:0[1-9]|[58]|7[3679]|9[689])|4(?:0[1-9]|1[15-9]|[29][89]|39|8[389])|5(?:[034678]|2[03-9]|5[017-9]|9[7-9])|6(?:0[0-27]|1[0-257-9]|2[0-4]|3[19]|5[4589]|[6-9])|7(?:0[2-9]|[1-79]|8[1-9])|8(?:[0-7]|9[013-9]))|8(?:0(?:[01589]|6[67])|1(?:[02-589]|1[0135-9]|7[0-79])|2(?:[236-9]|5[1-9])|3(?:[0357-9]|4[1-9])|[45]|6[02457-9]|7[1-69]|8(?:[0-26-9]|44|5[2-9])|9(?:[035-9]|2[2-9]|4[0-8]))|9"],"0$1","",1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79|80[2-46]"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[569][14]|7[1257]|8[1346]|[68][1-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[126-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:[136][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)","7(?:12|2[14]|3[134]|4[47]|5(?:1|5[2-6])|[67]1|88)"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"],"0$1","",1],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[23579]|[468][1-9])|[2-8]"],"0$1","",1],[,"(1600)(\\d{2})(\\d{4})","$1 $2 $3",["160","1600"],"$1","",1],[,"(1800)(\\d{4,5})","$1 $2",["180","1800"],"$1","",1],[,"(18[06]0)(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],"$1","",1],[,"(140)(\\d{3})(\\d{4})","$1 $2 $3",["140"],"$1","",1],[,"(\\d{4})(\\d{3})(\\d{4})(\\d{2})","$1 $2 $3 $4",["18[06]","18(?:03|6[12])"],"$1","",1]],,[,,"NA","NA"],,,[,,"1(?:600\\d{6}|8(?:0(?:0\\d{4,8}|3\\d{9})|6(?:0\\d{7}|[12]\\d{9})))","\\d{8,13}",,,"1800123456"],[,,"140\\d{7}","\\d{10}",,,"1409305260"],,,[,,"NA","NA"]],IO:[,[,,"3\\d{6}","\\d{7}"],[,,"37\\d{5}","\\d{7}",,,"3709100"],[,,"38\\d{5}","\\d{7}",,,"3801234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"IO",246,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],IQ:[,[,,"[1-7]\\d{7,9}","\\d{6,10}"],[,,"1\\d{7}|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026])\\d{6,7}","\\d{6,9}",,,"12345678"],[,,"7[3-9]\\d{8}","\\d{10}",,,"7912345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"IQ",964,"00","0",,,"0",,,,[[,"(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1","",0],[,"([2-6]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1","",0],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],IR:[,[,,"[14-8]\\d{6,9}|[23]\\d{4,9}|9(?:[0-4]\\d{8}|9\\d{2,8})","\\d{4,10}"],[,,"1(?:[13-589][12]|[27][1-4])\\d{7}|2(?:1\\d{3,8}|3[12]\\d{7}|4(?:1\\d{4,7}|2\\d{7})|53\\d{7}|6\\d{8}|7[34]\\d{7}|[89][12]\\d{7})|3(?:1[2-5]\\d{7}|2[1-4]\\d{7}|3(?:[125]\\d{7}|4\\d{6,7})|4(?:1\\d{6,7}[24-9]\\d{7})|5(?:1\\d{4,7}|[23]\\d{7})|[6-9][12]\\d{7})|4(?:[135-9][12]\\d{7}|2[1-467]\\d{7}|4(?:1\\d{4,7}|[2-4]\\d{7}))|5(?:1[2-5]\\d{7}|2[89]\\d{7}|3[1-5]\\d{7}|4(?:1\\d{4,7}|[2-8]\\d{7})|[5-7][12]\\d{7}|8[1245]\\d{7})|6(?:1(?:1\\d{6,7}|2\\d{7})|[347-9][12]\\d{7}|5(?:1\\d{7}|2\\d{6,7})|6[1-6]\\d{7})|7(?:1[2-5]|2[1289]|[3589][12]|4[1-4]|6[1-6]|7[1-3])\\d{7}|8(?:[145][12]|3[124578]|6[2-6]|7[1245])\\d{7}","\\d{5,10}",,,"2123456789"],[,,"9(?:0[12]|[1-3]\\d)\\d{7}","\\d{10}",,,"9123456789"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:[2-6]0\\d|993)\\d{7}","\\d{10}",,,"9932123456"],"IR",98,"00","0",,,"0",,,,[[,"(21)(\\d{3,5})","$1 $2",["21"],"0$1","",0],[,"(2[15])(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1|5[0-47-9])"],"0$1","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[156]|31|51|71|86"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]|2[02-47-9]"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["[13-9]|2[02-47-9]"],"0$1","",0],[,"(\\d{3})(\\d{3})","$1 $2",["[13-9]|2[02-47-9]"],"0$1","",0]],,[,,"943\\d{7}","\\d{10}",,,"9432123456"],,,[,,"NA","NA"],[,,"9990\\d{0,6}","\\d{4,10}",,,"9990123456"],,,[,,"NA","NA"]],IS:[,[,,"[4-9]\\d{6}|38\\d{7}","\\d{7,9}"],[,,"(?:4(?:1[0-24-6]|2[0-7]|[37][0-8]|4[0-245]|5[0-3568]|6\\d|8[0-36-8])|5(?:05|[156]\\d|2[02578]|3[013-7]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|87[23])\\d{4}","\\d{7}",,,"4101234"],[,,"38[589]\\d{6}|(?:6(?:1[1-8]|3[089]|4[0167]|5[019]|[67][0-69]|9\\d)|7(?:5[057]|7\\d|8[0-36-8])|8(?:2[0-5]|3[0-4]|[469]\\d|5[1-9]))\\d{4}","\\d{7,9}",,,"6111234"],[,,"800\\d{4}","\\d{7}",,,"8001234"],[,,"90\\d{5}","\\d{7}",,,"9011234"],[,,"NA","NA"],[,,"NA","NA"],[,,"49\\d{5}","\\d{7}",,,"4921234"],"IS",354,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[4-9]"],"","",0],[,"(3\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["3"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"(?:6(?:2[0-8]|49|8\\d)|87[0189]|95[48])\\d{4}","\\d{7}",,,"6201234"]],IT:[,[,,"[01589]\\d{5,10}|3(?:[12457-9]\\d{8}|[36]\\d{7,9})","\\d{6,11}"],[,,"0(?:[26]\\d{4,9}|(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2346]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[34578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7})","\\d{6,11}",,,"0212345678"],[,,"3(?:[12457-9]\\d{8}|6\\d{7,8}|3\\d{7,9})","\\d{9,11}",,,"3123456789"],[,,"80(?:0\\d{6}|3\\d{3})","\\d{6,9}",,,"800123456"],[,,"0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})","\\d{6,10}",,,"899123456"],[,,"84(?:[08]\\d{6}|[17]\\d{3})","\\d{6,9}",,,"848123456"],[,,"1(?:78\\d|99)\\d{6}","\\d{9,10}",,,"1781234567"],[,,"55\\d{8}","\\d{10}",,,"5512345678"],"IT",39,"00",,,,,,,,[[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|55"],"","",0],[,"(0[26])(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"],"","",0],[,"(0[26])(\\d{4,6})","$1 $2",["0[26]"],"","",0],[,"(0\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"],"","",0],[,"(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"],"","",0],[,"(0\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["0[13-57-9][2-46-8]"],"","",0],[,"(0\\d{3})(\\d{2,6})","$1 $2",["0[13-57-9][2-46-8]"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"],"","",0],[,"(\\d{4})(\\d{4})","$1 $2",["894","894[5-9]"],"","",0],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3"],"","",0]],,[,,"NA","NA"],,,[,,"848\\d{6}","\\d{9}",,,"848123456"],[,,"NA","NA"],1,,[,,"NA","NA"]],JE:[,[,,"[135789]\\d{6,9}","\\d{6,10}"],[,,"1534\\d{6}","\\d{6,10}",,,"1534456789"],[,,"7(?:509|7(?:00|97)|829|937)\\d{6}","\\d{10}",,,"7797123456"],[,,"80(?:07(?:35|81)|8901)\\d{4}","\\d{10}",,,"8007354567"],[,,"(?:871206|90(?:066[59]|1810|71(?:07|55)))\\d{4}","\\d{10}",,,"9018105678"],[,,"8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|70002)\\d{4}","\\d{10}",,,"8447034567"],[,,"701511\\d{4}","\\d{10}",,,"7015115678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"JE",44,"00","0"," x",,"0",,,,,,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","\\d{10}",,,"7640123456"],,,[,,"NA","NA"],[,,"3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))\\d{4}|55\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],JM:[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"876(?:5(?:0[12]|1[0-468]|2[35]|63)|6(?:0[1-3579]|1[027-9]|[23]\\d|40|5[06]|6[2-589]|7[05]|8[04]|9[4-9])|7(?:0[2-689]|[1-6]\\d|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8]\\d|9[2-468]))\\d{4}","\\d{7}(?:\\d{3})?",,,"8765123456"],[,,"876(?:2[1789]\\d|[348]\\d{2}|5(?:08|27|6[0-24-9]|[3-578]\\d)|7(?:0[07]|7\\d|8[1-47-9]|9[0-36-9])|9(?:[01]9|9[0579]))\\d{4}","\\d{10}",,,"8762101234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"JM",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"876",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],JO:[,[,,"[235-9]\\d{7,8}","\\d{7,9}"],[,,"(?:2(?:6(?:2[0-35-9]|3[0-57-8]|4[24-7]|5[0-24-8]|[6-8][02]|9[0-2])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3\\d|4[0-2]|[57][02]|60)|53(?:0[0-2]|[13][02]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2[50]0|300|4(?:0[0125]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7\\d|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[17-8]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[02-39]))|87(?:[02]0|7[08]|9[09]))\\d{4}","\\d{7,8}",,,"62001234"],[,,"7(?:55|7[25-9]|8[05-9]|9[015-9])\\d{6}","\\d{9}",,,"790123456"],[,,"80\\d{6}","\\d{8}",,,"80012345"],[,,"900\\d{5}","\\d{8}",,,"90012345"],[,,"85\\d{6}","\\d{8}",,,"85012345"],[,,"70\\d{7}","\\d{9}",,,"700123456"],[,,"NA","NA"],"JO",962,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)","",0],[,"(7)(\\d{4})(\\d{4})","$1 $2 $3",["7[457-9]"],"0$1","",0],[,"(\\d{3})(\\d{5,6})","$1 $2",["70|8[0158]|9"],"0$1","",0]],,[,,"74(?:66|77)\\d{5}","\\d{9}",,,"746612345"],,,[,,"NA","NA"],[,,"8(?:10|8\\d)\\d{5}","\\d{8}",,,"88101234"],,,[,,"NA","NA"]],JP:[,[,,"[1-9]\\d{8,9}|00(?:[36]\\d{7,14}|7\\d{5,7}|8\\d{7})","\\d{8,17}"],[,,"(?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|2[2-9]\\d|[36][1-9]\\d|4(?:6[02-8]|[2-578]\\d|9[2-59])|5(?:6[1-9]|7[2-8]|[2-589]\\d)|7(?:3[4-9]|4[02-9]|[25-9]\\d)|8(?:3[2-9]|4[5-9]|5[1-9]|8[03-9]|[2679]\\d)|9(?:[679][1-9]|[2-58]\\d))\\d{6}","\\d{9}",,,"312345678"],[,,"[7-9]0[1-9]\\d{7}","\\d{10}",,,"7012345678"],[,,"120\\d{6}|800\\d{7}|00(?:37\\d{6,13}|66\\d{6,13}|777(?:[01]\\d{2}|5\\d{3}|8\\d{4})|882[1245]\\d{4})","\\d{8,17}",,,"120123456"],[,,"990\\d{6}","\\d{9}",,,"990123456"],[,,"NA","NA"],[,,"60\\d{7}","\\d{9}",,,"601234567"],[,,"50[1-9]\\d{7}","\\d{10}",,,"5012345678"],"JP",81,"010","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1","",0],[,"(\\d{4})(\\d{4})","$1-$2",["0077"],"$1","",0],[,"(\\d{4})(\\d{2})(\\d{3,4})","$1-$2-$3",["0077"],"$1","",0],[,"(\\d{4})(\\d{2})(\\d{4})","$1-$2-$3",["0088"],"$1","",0],[,"(\\d{4})(\\d{3})(\\d{3,4})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{4})(\\d{4})(\\d{4,5})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{4})(\\d{5})(\\d{5,6})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{4})(\\d{6})(\\d{6,7})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"],"0$1","",0],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|5(?:76|97)|499|746|8(?:3[89]|63|47|51)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:76|97)9|499[2468]|7468|8(?:3(?:8[78]|96)|636|477|51[24])|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:769|979[2-69])|499[2468]|7468|8(?:3(?:8[78]|96[2457-9])|636[2-57-9]|477|51[24])|9(?:496|802|9(?:1[23]|69))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:7[2-6]|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|[4-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6[56]))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6(?:5[25]|60)))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:[2-589]|39)|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93(?:31|4))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:9[14-79]|74|[34]7|[56]9)|82|993"],"0$1","",0],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"],"0$1","",0]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"],"0$1","",0],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|5(?:76|97)|499|746|8(?:3[89]|63|47|51)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:76|97)9|499[2468]|7468|8(?:3(?:8[78]|96)|636|477|51[24])|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:769|979[2-69])|499[2468]|7468|8(?:3(?:8[78]|96[2457-9])|636[2-57-9]|477|51[24])|9(?:496|802|9(?:1[23]|69))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:7[2-6]|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|[4-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6[56]))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6(?:5[25]|60)))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:[2-589]|39)|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93(?:31|4))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:9[14-79]|74|[34]7|[56]9)|82|993"],"0$1","",0],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"],"0$1","",0]],[,,"20\\d{8}","\\d{10}",,,"2012345678"],,,[,,"00(?:37\\d{6,13}|66\\d{6,13}|777(?:[01]\\d{2}|5\\d{3}|8\\d{4})|882[1245]\\d{4})","\\d{8,17}",,,"00777012"],[,,"570\\d{6}","\\d{9}",,,"570123456"],1,,[,,"NA","NA"]],
KE:[,[,,"20\\d{6,7}|[4-9]\\d{6,9}","\\d{7,10}"],[,,"20\\d{6,7}|4(?:[0136]\\d{7}|[245]\\d{5,7})|5(?:[08]\\d{7}|[1-79]\\d{5,7})|6(?:[01457-9]\\d{5,7}|[26]\\d{7})","\\d{7,9}",,,"202012345"],[,,"7(?:[0-36]\\d|5[0-6]|7[0-5]|8[0-25-9])\\d{6}","\\d{9}",,,"712123456"],[,,"800[24-8]\\d{5,6}","\\d{9,10}",,,"800223456"],[,,"900[02-9]\\d{5}","\\d{9}",,,"900223456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KE",254,"000","0",,,"0",,,,[[,"(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1","",0],[,"(\\d{3})(\\d{6,7})","$1 $2",["7"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KG:[,[,,"[235-8]\\d{8,9}","\\d{5,10}"],[,,"(?:3(?:1(?:[256]\\d|3[1-9]|47)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6\\d)|5(?:22|3[4-7]|59|6\\d)|6(?:22|5[35-7]|6\\d)|7(?:22|3[468]|4[1-9]|59|[67]\\d)|9(?:22|4[1-8]|6\\d))|6(?:09|12|2[2-4])\\d)\\d{5}","\\d{5,10}",,,"312123456"],[,,"(?:20[0-35]|5[124-7]\\d|7[07]\\d)\\d{6}","\\d{9}",,,"700123456"],[,,"800\\d{6,7}","\\d{9,10}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KG",996,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[25-7]|31[25]"],"0$1","",0],[,"(\\d{4})(\\d{5})","$1 $2",["3(?:1[36]|[2-9])"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d)(\\d{3})","$1 $2 $3 $4",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KH:[,[,,"[1-9]\\d{7,9}","\\d{6,10}"],[,,"(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:[237-9]|4[56]|5\\d|6\\d?)\\d{5}|23(?:4[234]|8\\d{2})\\d{4}","\\d{6,9}",,,"23756789"],[,,"(?:1(?:[013-9]|2\\d?)|3[18]\\d|6[016-9]|7(?:[07-9]|6\\d)|8(?:[013-79]|8\\d)|9(?:6\\d|7\\d?|[0-589]))\\d{6}","\\d{8,9}",,,"91234567"],[,,"1800(?:1\\d|2[019])\\d{4}","\\d{10}",,,"1800123456"],[,,"1900(?:1\\d|2[09])\\d{4}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KH",855,"00[14-9]","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["1\\d[1-9]|[2-9]"],"0$1","",0],[,"(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[89]0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KI:[,[,,"[2458]\\d{4}|3\\d{4,7}|7\\d{7}","\\d{5,8}"],[,,"(?:[24]\\d|3[1-9]|50|8[0-5])\\d{3}","\\d{5}",,,"31234"],[,,"7(?:[24]\\d|3[1-9]|8[0-5])\\d{5}","\\d{8}",,,"72012345"],[,,"NA","NA"],[,,"3001\\d{4}","\\d{5,8}",,,"30010000"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KI",686,"00",,,,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KM:[,[,,"[379]\\d{6}","\\d{7}"],[,,"7(?:6[0-37-9]|7[0-57-9])\\d{4}","\\d{7}",,,"7712345"],[,,"3[234]\\d{5}","\\d{7}",,,"3212345"],[,,"NA","NA"],[,,"(?:39[01]|9[01]0)\\d{4}","\\d{7}",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KM",269,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KN:[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"869(?:2(?:29|36)|302|4(?:6[015-9]|70))\\d{4}","\\d{7}(?:\\d{3})?",,,"8692361234"],[,,"869(?:5(?:5[6-8]|6[5-7])|66\\d|76[02-6])\\d{4}","\\d{10}",,,"8697652917"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"KN",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"869",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KP:[,[,,"1\\d{9}|[28]\\d{7}","\\d{6,8}|\\d{10}"],[,,"2\\d{7}|85\\d{6}","\\d{6,8}",,,"21234567"],[,,"19[123]\\d{7}","\\d{10}",,,"1921234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KP",850,"00|99","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1","",0],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"2(?:[0-24-9]\\d{2}|3(?:[0-79]\\d|8[02-9]))\\d{4}","\\d{8}",,,"23821234"],[,,"NA","NA"],,,[,,"NA","NA"]],KR:[,[,,"[1-7]\\d{3,9}|8\\d{8}","\\d{4,10}"],[,,"(?:2|3[1-3]|[46][1-4]|5[1-5])(?:1\\d{2,3}|[1-9]\\d{6,7})","\\d{4,10}",,,"22123456"],[,,"1[0-26-9]\\d{7,8}","\\d{9,10}",,,"1023456789"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"60[2-9]\\d{6}","\\d{9}",,,"602345678"],[,,"NA","NA"],[,,"50\\d{8}","\\d{10}",,,"5012345678"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],"KR",82,"00(?:[124-68]|[37]\\d{2})","0",,,"0(8[1-46-8]|85\\d{2})?",,,,[[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["1(?:0|1[19]|[69]9|5[458])|[57]0","1(?:0|1[19]|[69]9|5(?:44|59|8))|[57]0"],"0$1","0$CC-$1",0],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["1(?:[169][2-8]|[78]|5[1-4])|[68]0|[3-6][1-9][1-9]","1(?:[169][2-8]|[78]|5(?:[1-3]|4[56]))|[68]0|[3-6][1-9][1-9]"],"0$1","0$CC-$1",0],[,"(\\d{3})(\\d)(\\d{4})","$1-$2-$3",["131","1312"],"0$1","0$CC-$1",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["131","131[13-9]"],"0$1","0$CC-$1",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["13[2-9]"],"0$1","0$CC-$1",0],[,"(\\d{2})(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3-$4",["30"],"0$1","0$CC-$1",0],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2[1-9]"],"0$1","0$CC-$1",0],[,"(\\d)(\\d{3,4})","$1-$2",["21[0-46-9]"],"0$1","0$CC-$1",0],[,"(\\d{2})(\\d{3,4})","$1-$2",["[3-6][1-9]1","[3-6][1-9]1(?:[0-46-9])"],"0$1","0$CC-$1",0],[,"(\\d{4})(\\d{4})","$1-$2",["1(?:5[46-9]|6[04678])","1(?:5(?:44|66|77|88|99)|6(?:00|44|6[16]|70|88))"],"$1","0$CC-$1",0]],,[,,"15\\d{7,8}","\\d{9,10}",,,"1523456789"],,,[,,"NA","NA"],[,,"1(?:5(?:44|66|77|88|99)|6(?:00|44|6[16]|70|88))\\d{4}","\\d{8}",,,"15441234"],,,[,,"NA","NA"]],KW:[,[,,"[12569]\\d{6,7}","\\d{7,8}"],[,,"(?:18\\d|2(?:[23]\\d{2}|4(?:[1-35-9]\\d|44)|5(?:0[034]|[2-46]\\d|5[1-3]|7[1-7])))\\d{4}","\\d{7,8}",,,"22345678"],[,,"(?:5(?:[05]\\d|1[0-6])|6(?:0[034679]|5[015-9]|6\\d|7[067]|9[0369])|9(?:0[09]|4[049]|55|6[069]|[79]\\d|8[089]))\\d{5}","\\d{8}",,,"50012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KW",965,"00",,,,,,,,[[,"(\\d{4})(\\d{3,4})","$1 $2",["[1269]"],"","",0],[,"(5[015]\\d)(\\d{5})","$1 $2",["5"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KY:[,[,,"[3589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"345(?:2(?:22|44)|444|6(?:23|38|40)|7(?:4[35-79]|6[6-9]|77)|8(?:00|1[45]|25|[48]8)|9(?:14|4[035-9]))\\d{4}","\\d{7}(?:\\d{3})?",,,"3452221234"],[,,"345(?:32[1-9]|5(?:1[67]|2[5-7]|4[6-8]|76)|9(?:1[67]|2[3-9]|3[689]))\\d{4}","\\d{10}",,,"3453231234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}|345976\\d{4}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"KY",1,"011","1",,,"1",,,,,,[,,"345849\\d{4}","\\d{10}",,,"3458491234"],,"345",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KZ:[,[,,"(?:33\\d|7\\d{2}|80[09])\\d{7}","\\d{10}"],[,,"33622\\d{5}|7(?:1(?:0(?:[23]\\d|4[023]|59|63)|1(?:[23]\\d|4[0-79]|59)|2(?:[23]\\d|59)|3(?:2\\d|3[1-79]|4[0-35-9]|59)|4(?:2\\d|3[013-79]|4[0-8]|5[1-79])|5(?:2\\d|3[1-8]|4[1-7]|59)|6(?:[234]\\d|5[19]|61)|72\\d|8(?:[27]\\d|3[1-46-9]|4[0-5]))|2(?:1(?:[23]\\d|4[46-9]|5[3469])|2(?:2\\d|3[0679]|46|5[12679])|3(?:[234]\\d|5[139])|4(?:2\\d|3[1235-9]|59)|5(?:[23]\\d|4[01246-8]|59|61)|6(?:2\\d|3[1-9]|4[0-4]|59)|7(?:[237]\\d|40|5[279])|8(?:[23]\\d|4[0-3]|59)|9(?:2\\d|3[124578]|59)))\\d{5}","\\d{10}",,,"7123456789"],[,,"7(?:0[012578]|47|6[02-4]|7[15-8]|85)\\d{7}","\\d{10}",,,"7710009998"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"809\\d{7}","\\d{10}",,,"8091234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"751\\d{7}","\\d{10}",,,"7511234567"],"KZ",7,"810","8",,,"8",,"8~10",,,,[,,"NA","NA"],,,[,,"751\\d{7}","\\d{10}",,,"7511234567"],[,,"NA","NA"],,,[,,"NA","NA"]],LA:[,[,,"[2-8]\\d{7,9}","\\d{6,10}"],[,,"(?:2[13]|3(?:0\\d|[14])|[5-7][14]|41|8[1468])\\d{6}","\\d{6,9}",,,"21212862"],[,,"20(?:2[2389]|5[4-689]|7[6-8]|9[57-9])\\d{6}","\\d{10}",,,"2023123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LA",856,"00","0",,,"0",,,,[[,"(20)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["20"],"0$1","",0],[,"([2-8]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1","",0],[,"(30)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LB:[,[,,"[13-9]\\d{6,7}","\\d{7,8}"],[,,"(?:[14-6]\\d{2}|7(?:[2-579]\\d|62|8[0-7])|[89][2-9]\\d)\\d{4}","\\d{7}",,,"1123456"],[,,"(?:3\\d|7(?:[019]\\d|6[013-9]|8[89]))\\d{5}","\\d{7,8}",,,"71123456"],[,,"NA","NA"],[,,"9[01]\\d{6}","\\d{8}",,,"90123456"],[,,"8[01]\\d{6}","\\d{8}",,,"80123456"],[,,"NA","NA"],[,,"NA","NA"],"LB",961,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-6]|7(?:[2-579]|62|8[0-7])|[89][2-9]"],"0$1","",0],[,"([7-9]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[89][01]|7(?:[019]|6[013-9]|8[89])"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LC:[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"758(?:4(?:30|5[0-9]|6[2-9]|8[0-2])|57[0-2]|638)\\d{4}","\\d{7}(?:\\d{3})?",,,"7584305678"],[,,"758(?:28[4-7]|384|4(?:6[01]|8[4-9])|5(?:1[89]|20|84)|7(?:1[2-9]|2[0-8]))\\d{4}","\\d{10}",,,"7582845678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"LC",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"758",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LI:[,[,,"6\\d{8}|[23789]\\d{6}","\\d{7,9}"],[,,"(?:2(?:01|1[27]|3\\d|6[02-578]|96)|3(?:7[0135-7]|8[048]|9[0269]))\\d{4}","\\d{7}",,,"2345678"],[,,"6(?:51[01]|6(?:[01][0-4]|2[016-9]|88)|710)\\d{5}|7(?:36|4[25]|56|[7-9]\\d)\\d{4}","\\d{7,9}",,,"661234567"],[,,"80(?:0(?:2[238]|79)|9\\d{2})\\d{2}","\\d{7}",,,"8002222"],[,,"90(?:0(?:2[278]|79)|1(?:23|3[012])|6(?:4\\d|6[0126]))\\d{2}","\\d{7}",,,"9002222"],[,,"NA","NA"],[,,"701\\d{4}","\\d{7}",,,"7011234"],[,,"NA","NA"],"LI",423,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[23]|7[3-57-9]|87"],"","",0],[,"(6\\d)(\\d{3})(\\d{3})","$1 $2 $3",["6"],"","",0],[,"(6[567]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["6[567]"],"","",0],[,"(69)(7\\d{2})(\\d{4})","$1 $2 $3",["697"],"","",0],[,"([7-9]0\\d)(\\d{2})(\\d{2})","$1 $2 $3",["[7-9]0"],"","",0],[,"([89]0\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]0"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"87(?:0[128]|7[0-4])\\d{3}","\\d{7}",,,"8770123"],,,[,,"697(?:[35]6|4[25]|[7-9]\\d)\\d{4}","\\d{9}",,,"697361234"]],LK:[,[,,"[1-9]\\d{8}","\\d{7,9}"],[,,"(?:[189]1|2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7])[2-57]\\d{6}","\\d{7,9}",,,"112345678"],[,,"7[125-8]\\d{7}","\\d{9}",,,"712345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LK",94,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{1})(\\d{6})","$1 $2 $3",["[1-689]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LR:[,[,,"2\\d{7}|[37-9]\\d{8}|[45]\\d{6}","\\d{7,9}"],[,,"2\\d{7}","\\d{8}",,,"21234567"],[,,"(?:330\\d|4[67]|5\\d|77\\d{2}|88\\d{2}|994\\d)\\d{5}","\\d{7,9}",,,"770123456"],[,,"NA","NA"],[,,"90[03]\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"332(?:0[02]|5\\d)\\d{4}","\\d{9}",,,"332001234"],"LR",231,"00","0",,,"0",,,,[[,"(2\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1","",0],[,"([79]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[79]"],"0$1","",0],[,"([4-6])(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[38]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LS:[,[,,"[2568]\\d{7}","\\d{8}"],[,,"2\\d{7}","\\d{8}",,,"22123456"],[,,"[56]\\d{7}","\\d{8}",,,"50123456"],[,,"800[256]\\d{4}","\\d{8}",,,"80021234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LS",266,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LT:[,[,,"[3-9]\\d{7}","\\d{8}"],[,,"(?:3[1478]|4[124-6]|52)\\d{6}","\\d{8}",,,"31234567"],[,,"6\\d{7}","\\d{8}",,,"61234567"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"9(?:0[0239]|10)\\d{5}","\\d{8}",,,"90012345"],[,,"808\\d{5}","\\d{8}",,,"80812345"],[,,"700\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"LT",370,"00","8",,,"[08]",,,,[[,"([34]\\d)(\\d{6})","$1 $2",["37|4(?:1|5[45]|6[2-4])"],"(8-$1)","",1],[,"([3-6]\\d{2})(\\d{5})","$1 $2",["3[148]|4(?:[24]|6[09])|528|6"],"(8-$1)","",1],[,"([7-9]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1","",1],[,"(5)(2\\d{2})(\\d{4})","$1 $2 $3",["52[0-79]"],"(8-$1)","",1]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"70[67]\\d{5}","\\d{8}",,,"70712345"],,,[,,"NA","NA"]],LU:[,[,,"[24-9]\\d{3,10}|3(?:[0-46-9]\\d{2,9}|5[013-9]\\d{1,8})","\\d{4,11}"],[,,"(?:2(?:2\\d{1,2}|3[2-9]|[67]\\d|4[1-8]\\d?|5[1-5]\\d?|9[0-24-9]\\d?)|3(?:[059][05-9]|[13]\\d|[26][015-9]|4[0-26-9]|7[0-389]|8[08])\\d?|4\\d{2,3}|5(?:[01458]\\d|[27][0-69]|3[0-3]|[69][0-7])\\d?|7(?:1[019]|2[05-9]|3[05]|[45][07-9]|[679][089]|8[06-9])\\d?|8(?:0[2-9]|1[0-36-9]|3[3-9]|[469]9|[58][7-9]|7[89])\\d?|9(?:0[89]|2[0-49]|37|49|5[0-27-9]|7[7-9]|9[0-478])\\d?)\\d{1,7}","\\d{4,11}",,,"27123456"],[,,"6(?:[269][18]|71)\\d{6}","\\d{9}",,,"628123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90[01]\\d{5}","\\d{8}",,,"90012345"],[,,"801\\d{5}","\\d{8}",,,"80112345"],[,,"70\\d{6}","\\d{8}",,,"70123456"],[,,"20(?:1\\d{5}|[2-689]\\d{1,7})","\\d{4,10}",,,"20201234"],"LU",352,"00",,,,"(15(?:0[06]|1[12]|35|4[04]|55|6[26]|77|88|99)\\d)",,,,[[,"(\\d{2})(\\d{3})","$1 $2",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,4})","$1 $2 $3 $4",["2(?:[12589]|4[12])|[3-5]|7[1-9]|[89](?:[1-9]|0[2-9])"],"","$CC $1",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0[01]|70"],"","$CC $1",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"],"","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LV:[,[,,"[2689]\\d{7}","\\d{8}"],[,,"6[3-8]\\d{6}","\\d{8}",,,"63123456"],[,,"2\\d{7}","\\d{8}",,,"21234567"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"81\\d{6}","\\d{8}",,,"81123456"],[,,"NA","NA"],[,,"NA","NA"],"LV",371,"00",,,,,,,,[[,"([2689]\\d)(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LY:[,[,,"[25679]\\d{8}","\\d{7,9}"],[,,"(?:2[1345]|5[1347]|6[123479]|71)\\d{7}","\\d{7,9}",,,"212345678"],[,,"9[1-6]\\d{7}","\\d{9}",,,"912345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LY",218,"00","0",,,"0",,,,[[,"([25679]\\d)(\\d{7})","$1-$2",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MA:[,[,,"[5689]\\d{8}","\\d{9}"],[,,"5(?:2(?:(?:[015-7]\\d|2[2-9]|3[2-57]|4[2-8]|8[235-7])\\d|9(?:0\\d|[89]0))|3(?:(?:[0-4]\\d|[57][2-9]|6[235-8]|9[3-9])\\d|8(?:0\\d|[89]0)))\\d{4}","\\d{9}",,,"520123456"],[,,"6(?:0[0-8]|[12-7]\\d|8[01]|9[2457-9])\\d{6}","\\d{9}",,,"650123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89\\d{7}","\\d{9}",,,"891234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MA",212,"00","0",,,"0",,,,[[,"([56]\\d{2})(\\d{6})","$1-$2",["5(?:2[015-7]|3[0-4])|6"],"0$1","",0],[,"([58]\\d{3})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9])|892","5(?:2(?:[2-48]|90)|3(?:[5-79]|80))|892"],"0$1","",0],[,"(5\\d{4})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]"],"0$1","",0],[,"(8[09])(\\d{7})","$1-$2",["8(?:0|9[013-9])"],"0$1","",0]],,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MC:[,[,,"[4689]\\d{7,8}","\\d{8,9}"],[,,"870\\d{5}|9[2-47-9]\\d{6}","\\d{8}",,,"99123456"],[,,"6\\d{8}|4(?:4\\d|5[2-9])\\d{5}","\\d{8,9}",,,"612345678"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MC",377,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1","",0],[,"(6)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["8"],"$1","",0]],,[,,"NA","NA"],,,[,,"8\\d{7}","\\d{8}"],[,,"NA","NA"],,,[,,"NA","NA"]],MD:[,[,,"[235-9]\\d{7}","\\d{8}"],[,,"(?:2(?:1[0569]|2\\d|3[015-7]|4[1-46-9]|5[0-24689]|6[2-589]|7[1-37]|9[1347-9])|5(?:33|5[257]))\\d{5}","\\d{8}",,,"22212345"],[,,"(?:562\\d|6(?:[089]\\d{2}|1[01]\\d|21\\d|50\\d|7(?:[1-6]\\d|7[0-4]))|7(?:6[07]|7[457-9]|[89]\\d)\\d)\\d{4}","\\d{8}",,,"65012345"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90[056]\\d{5}","\\d{8}",,,"90012345"],[,,"808\\d{5}","\\d{8}",,,"80812345"],[,,"NA","NA"],[,,"3[08]\\d{6}","\\d{8}",,,"30123456"],"MD",373,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1","",0],[,"([25-7]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["2[13-79]|[5-7]"],"0$1","",0],[,"([89]\\d{2})(\\d{5})","$1 $2",["[89]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"8(?:03|14)\\d{5}","\\d{8}",,,"80312345"],,,[,,"NA","NA"]],ME:[,[,,"[2-9]\\d{7,8}","\\d{6,9}"],[,,"(?:20[2-8]|3(?:0[2-7]|1[35-7]|2[3567]|3[4-7])|4(?:0[237]|1[27])|5(?:0[47]|1[27]|2[378]))\\d{5}","\\d{6,8}",,,"30234567"],[,,"6(?:32\\d|[89]\\d{2}|7(?:[0-8]\\d|9(?:[3-9]|[0-2]\\d)))\\d{4}","\\d{8,9}",,,"67622901"],[,,"800[28]\\d{4}","\\d{8}",,,"80080002"],[,,"(?:88\\d|9(?:4[13-8]|5[16-8]))\\d{5}","\\d{8}",,,"94515151"],[,,"NA","NA"],[,,"NA","NA"],[,,"78[1-9]\\d{5}","\\d{8}",,,"78108780"],"ME",382,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]|6[3789]","[2-57-9]|6(?:[389]|7(?:[0-8]|9[3-9]))"],"0$1","",0],[,"(67)(9)(\\d{3})(\\d{3})","$1 $2 $3 $4",["679","679[0-2]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"77\\d{6}","\\d{8}",,,"77273012"],,,[,,"NA","NA"]],MF:[,[,,"[56]\\d{8}","\\d{9}"],[,,"590(?:[02][79]|13|5[0-268]|[78]7)\\d{4}","\\d{9}",,,"590271234"],[,,"690(?:0[0-7]|[1-9]\\d)\\d{4}","\\d{9}",,,"690301234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MF",590,"00","0",,,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MG:[,[,,"[23]\\d{8}","\\d{7,9}"],[,,"20(?:2\\d{2}|4[47]\\d|5[3467]\\d|6[279]\\d|7(?:2[29]|[35]\\d)|8[268]\\d|9[245]\\d)\\d{4}","\\d{7,9}",,,"202123456"],[,,"3[2-49]\\d{7}","\\d{9}",,,"321234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"22\\d{7}","\\d{9}",,,"221234567"],"MG",261,"00","0",,,"0",,,,[[,"([23]\\d)(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MH:[,[,,"[2-6]\\d{6}","\\d{7}"],[,,"(?:247|528|625)\\d{4}","\\d{7}",,,"2471234"],[,,"(?:235|329|45[56]|545)\\d{4}","\\d{7}",,,"2351234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"635\\d{4}","\\d{7}",,,"6351234"],"MH",692,"011","1",,,"1",,,,[[,"(\\d{3})(\\d{4})","$1-$2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MK:[,[,,"[2-578]\\d{7}","\\d{8}"],[,,"(?:2(?:[23]\\d|5[124578]|6[01])|3(?:1[3-6]|[23][2-6]|4[2356])|4(?:[23][2-6]|4[3-6]|5[256]|6[25-8]|7[24-6]|8[4-6]))\\d{5}","\\d{6,8}",,,"22212345"],[,,"7(?:[0-25-8]\\d{2}|32\\d|421)\\d{4}","\\d{8}",,,"72345678"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"5[02-9]\\d{6}","\\d{8}",,,"50012345"],[,,"8(?:0[1-9]|[1-9]\\d)\\d{5}","\\d{8}",,,"80123456"],[,,"NA","NA"],[,,"NA","NA"],"MK",389,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1","",0],[,"([347]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1","",0],[,"([58]\\d{2})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ML:[,[,,"[246-9]\\d{7}","\\d{8}"],[,,"(?:2(?:0(?:2[0-589]|7\\d)|1(?:2[5-7]|[3-689]\\d|7[2-4689]))|44[239]\\d)\\d{4}","\\d{8}",,,"20212345"],[,,"[67]\\d{7}|9[0-25-9]\\d{6}","\\d{8}",,,"65012345"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ML",223,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[246-9]"],"","",0],[,"(\\d{4})","$1",["67|74"],"","",0]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[246-9]"],"","",0]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MM:[,[,,"[14578]\\d{5,7}|[26]\\d{5,8}|9(?:2\\d{0,2}|[58]|3\\d|4\\d{1,2}|6\\d?|[79]\\d{0,2})\\d{6}","\\d{5,10}"],[,,"1(?:2\\d{1,2}|[3-5]\\d|6\\d?|[89][0-6]\\d)\\d{4}|2(?:[236-9]\\d{4}|4(?:0\\d{5}|\\d{4})|5(?:1\\d{3,6}|[02-9]\\d{3,5}))|4(?:2[245-8]|[346][2-6]|5[3-5])\\d{4}|5(?:2(?:20?|[3-8])|3[2-68]|4(?:21?|[4-8])|5[23]|6[2-4]|7[2-8]|8[24-7]|9[2-7])\\d{4}|6(?:0[23]|1[2356]|[24][2-6]|3[24-6]|5[2-4]|6[2-8]|7(?:[2367]|4\\d|5\\d?|8[145]\\d)|8[245]|9[24])\\d{4}|7(?:[04][24-8]|[15][2-7]|22|3[2-4])\\d{4}|8(?:1(?:2\\d?|[3-689])|2[2-8]|3[24]|4[24-7]|5[245]|6[23])\\d{4}","\\d{5,9}",,,"1234567"],[,,"17[01]\\d{4}|9(?:2(?:[0-4]|5\\d{2})|3[136]\\d|4(?:0[0-4]\\d|[1379]\\d|[24][0-589]\\d|5\\d{2}|88)|5[0-6]|61?\\d|7(?:3\\d|9\\d{2})|8\\d|9(?:1\\d|7\\d{2}|[089]))\\d{5}","\\d{7,10}",,,"92123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"1333\\d{4}","\\d{8}",,,"13331234"],"MM",95,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["1|2[45]"],"0$1","",0],[,"(2)(\\d{4})(\\d{4})","$1 $2 $3",["251"],"0$1","",0],[,"(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["67|81"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{3,4})","$1 $2 $3",["[4-8]"],"0$1","",0],[,"(9)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[13789])"],"0$1","",0],[,"(9)(4\\d{4})(\\d{4})","$1 $2 $3",["94[0245]"],"0$1","",0],[,"(9)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["925"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MN:[,[,,"[12]\\d{7,9}|[57-9]\\d{7}","\\d{6,10}"],[,,"[12](?:1\\d|2(?:[1-3]\\d?|7\\d)|3[2-8]\\d{1,2}|4[2-68]\\d{1,2}|5[1-4689]\\d{1,2})\\d{5}|5[0568]\\d{6}","\\d{6,10}",,,"50123456"],[,,"(?:8[689]|9[013-9])\\d{6}","\\d{8}",,,"88123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"7[05-8]\\d{6}","\\d{8}",,,"75123456"],"MN",976,"001","0",,,"0",,,,[[,"([12]\\d)(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1","",0],[,"([12]2\\d)(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1","",0],[,"([12]\\d{3})(\\d{5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)2"],"0$1","",0],[,"(\\d{4})(\\d{4})","$1 $2",["[57-9]"],"$1","",0],[,"([12]\\d{4})(\\d{4,5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)[4-9]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MO:[,[,,"[268]\\d{7}","\\d{8}"],[,,"(?:28[2-57-9]|8[2-57-9]\\d)\\d{5}","\\d{8}",,,"28212345"],[,,"6[236]\\d{6}","\\d{8}",,,"66123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MO",853,"00",,,,,,,,[[,"([268]\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MP:[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[589]|8[3-9]8|989)\\d{4}","\\d{7}(?:\\d{3})?",,,"6702345678"],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[589]|8[3-9]8|989)\\d{4}","\\d{7}(?:\\d{3})?",,,"6702345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"MP",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"670",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MQ:[,[,,"[56]\\d{8}","\\d{9}"],[,,"596(?:0[2-5]|[12]0|3[05-9]|4[024-8]|[5-7]\\d|89|9[4-8])\\d{4}","\\d{9}",,,"596301234"],[,,"696(?:[0-479]\\d|5[01]|8[0-689])\\d{4}","\\d{9}",,,"696201234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MQ",596,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MR:[,[,,"[2-48]\\d{7}","\\d{8}"],[,,"25[08]\\d{5}|35\\d{6}|45[1-7]\\d{5}","\\d{8}",,,"35123456"],[,,"(?:2(?:2\\d|70)|3(?:3\\d|6[1-36]|7[1-3])|4(?:[49]\\d|6[0457-9]|7[4-9]|8[01346-8]))\\d{5}","\\d{8}",,,"22123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MR",222,"00",,,,,,,,[[,"([2-48]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MS:[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"664491\\d{4}","\\d{7}(?:\\d{3})?",,,"6644912345"],[,,"66449[2-6]\\d{4}","\\d{10}",,,"6644923456"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"MS",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"664",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MT:[,[,,"[2357-9]\\d{7}","\\d{8}"],[,,"2(?:0(?:1[0-6]|3[1-4]|[69]\\d)|[1-357]\\d{2})\\d{4}","\\d{8}",,,"21001234"],[,,"(?:7(?:210|[79]\\d{2})|9(?:2(?:1[01]|31)|696|8(?:1[1-3]|89|97)|9\\d{2}))\\d{4}","\\d{8}",,,"96961234"],[,,"800[3467]\\d{4}","\\d{8}",,,"80071234"],[,,"5(?:0(?:0(?:37|43)|6\\d{2}|70\\d|9[0168])|[12]\\d0[1-5])\\d{3}","\\d{8}",,,"50037123"],[,,"NA","NA"],[,,"NA","NA"],[,,"3550\\d{4}","\\d{8}",,,"35501234"],"MT",356,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"7117\\d{4}","\\d{8}",,,"71171234"],,,[,,"NA","NA"],[,,"501\\d{5}","\\d{8}",,,"50112345"],,,[,,"NA","NA"]],MU:[,[,,"[2-9]\\d{6,7}","\\d{7,8}"],[,,"(?:2(?:[03478]\\d|1[0-7]|6[1-69])|4(?:[013568]\\d|2[4-7])|5(?:44\\d|471)|6\\d{2}|8(?:14|3[129]))\\d{4}","\\d{7,8}",,,"2012345"],[,,"5(?:2[59]\\d|4(?:2[1-389]|4\\d|7[1-9]|9\\d)|7\\d{2}|8(?:[256]\\d|7[15-8])|9[0-8]\\d)\\d{4}","\\d{8}",,,"52512345"],[,,"80[012]\\d{4}","\\d{7}",,,"8001234"],[,,"30\\d{5}","\\d{7}",,,"3012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"3(?:20|9\\d)\\d{4}","\\d{7}",,,"3201234"],"MU",230,"0(?:0|[2-7]0|33)",,,,,,"020",,[[,"([2-46-9]\\d{2})(\\d{4})","$1 $2",["[2-46-9]"],"","",0],[,"(5\\d{3})(\\d{4})","$1 $2",["5"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MV:[,[,,"[3467]\\d{6}|9(?:00\\d{7}|\\d{6})","\\d{7,10}"],[,,"(?:3(?:0[01]|3[0-59])|6(?:[567][02468]|8[024689]|90))\\d{4}","\\d{7}",,,"6701234"],[,,"(?:46[46]|7[3-9]\\d|9[16-9]\\d)\\d{4}","\\d{7}",,,"7712345"],[,,"NA","NA"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MV",960,"0(?:0|19)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1-$2",["[3467]|9(?:[1-9]|0[1-9])"],"","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["900"],"","",0]],,[,,"781\\d{4}","\\d{7}",,,"7812345"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MW:[,[,,"(?:1(?:\\d{2})?|[2789]\\d{2})\\d{6}","\\d{7,9}"],[,,"(?:1[2-9]|21\\d{2})\\d{5}","\\d{7,9}",,,"1234567"],[,,"(?:111|77\\d|88\\d|99\\d)\\d{6}","\\d{9}",,,"991234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MW",265,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1"],"0$1","",0],[,"(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1789]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MX:[,[,,"[1-9]\\d{9,10}","\\d{7,11}"],[,,"(?:33|55|81)\\d{8}|(?:2(?:2[2-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[234][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7}","\\d{7,10}",,,"2221234567"],[,,"1(?:(?:33|55|81)\\d{8}|(?:2(?:2[2-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7})","\\d{11}",,,"12221234567"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MX",52,"0[09]","01",,,"0[12]|04[45](\\d{10})","1$1",,,[[,"([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"],"01 $1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[12457-9]|5[89]|8[02-9]|9[0-35-9]"],"01 $1","",1],[,"(1)([358]\\d)(\\d{4})(\\d{4})","044 $2 $3 $4",["1(?:33|55|81)"],"$1","",1],[,"(1)(\\d{3})(\\d{3})(\\d{4})","044 $2 $3 $4",["1(?:[2467]|3[12457-9]|5[89]|8[2-9]|9[1-35-9])"],"$1","",1]],[[,"([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"],"01 $1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[12457-9]|5[89]|8[02-9]|9[0-35-9]"],"01 $1","",1],[,"(1)([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3 $4",["1(?:33|55|81)"]],[,"(1)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1(?:[2467]|3[12457-9]|5[89]|8[2-9]|9[1-35-9])"]]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],MY:[,[,,"[13-9]\\d{7,9}","\\d{6,10}"],[,,"(?:3[2-9]\\d|[4-9][2-9])\\d{6}","\\d{6,9}",,,"323456789"],[,,"1(?:1[1-3]\\d{2}|[02-4679][2-9]\\d|59\\d{2}|8(?:1[23]|[2-9]\\d))\\d{5}","\\d{9,10}",,,"123456789"],[,,"1[378]00\\d{6}","\\d{10}",,,"1300123456"],[,,"1600\\d{6}","\\d{10}",,,"1600123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"154\\d{7}","\\d{10}",,,"1541234567"],"MY",60,"00","0",,,"0",,,,[[,"([4-79])(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1","",0],[,"(3)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1","",0],[,"([18]\\d)(\\d{3})(\\d{3,4})","$1-$2 $3",["1[02-46-9][1-9]|8"],"0$1","",0],[,"(1)([36-8]00)(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]0"],"","",0],[,"(11)(\\d{4})(\\d{4})","$1-$2 $3",["11"],"0$1","",0],[,"(15[49])(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MZ:[,[,,"[28]\\d{7,8}","\\d{8,9}"],[,,"2(?:[1346]\\d|5[0-2]|[78][12]|93)\\d{5}","\\d{8}",,,"21123456"],[,,"8[23467]\\d{7}","\\d{9}",,,"821234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MZ",258,"00",,,,,,,,[[,"([28]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-7]"],"","",0],[,"(80\\d)(\\d{3})(\\d{3})","$1 $2 $3",["80"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NA:[,[,,"[68]\\d{7,8}","\\d{8,9}"],[,,"6(?:1(?:17|2(?:[0189]\\d|[2-6]|7\\d?)|3(?:[01378]|2\\d)|4[01]|69|7[014])|2(?:17|5(?:[0-36-8]|4\\d?)|69|70)|3(?:17|2(?:[0237]\\d?|[14-689])|34|6[29]|7[01]|81)|4(?:17|2(?:[012]|7?)|4(?:[06]|1\\d)|5(?:[01357]|[25]\\d?)|69|7[01])|5(?:17|2(?:[0459]|[23678]\\d?)|69|7[01])|6(?:17|2(?:5|6\\d?)|38|42|69|7[01])|7(?:17|2(?:[569]|[234]\\d?)|3(?:0\\d?|[13])|69|7[01]))\\d{4}","\\d{8,9}",,,"61221234"],[,,"(?:60|8[125])\\d{7}","\\d{9}",,,"811234567"],[,,"NA","NA"],[,,"8701\\d{5}","\\d{9}",,,"870123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"8(?:3\\d{2}|86)\\d{5}","\\d{8,9}",,,"88612345"],"NA",264,"00","0",,,"0",,,,[[,"(8\\d)(\\d{3})(\\d{4})","$1 $2 $3",["8[1235]"],"0$1","",0],[,"(6\\d)(\\d{2,3})(\\d{4})","$1 $2 $3",["6"],"0$1","",0],[,"(88)(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1","",0],[,"(870)(\\d{3})(\\d{3})","$1 $2 $3",["870"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NC:[,[,,"[2-57-9]\\d{5}","\\d{6}"],[,,"(?:2[03-9]|3[0-5]|4[1-7]|88)\\d{4}","\\d{6}",,,"201234"],[,,"(?:5[0-4]|[79]\\d|8[0-79])\\d{4}","\\d{6}",,,"751234"],[,,"NA","NA"],[,,"36\\d{4}","\\d{6}",,,"366711"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NC",687,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-46-9]|5[0-4]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NE:[,[,,"[0289]\\d{7}","\\d{8}"],[,,"2(?:0(?:20|3[1-7]|4[134]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))\\d{4}","\\d{8}",,,"20201234"],[,,"(?:89|9\\d)\\d{6}","\\d{8}",,,"93123456"],[,,"08\\d{6}","\\d{8}",,,"08123456"],[,,"09\\d{6}","\\d{8}",,,"09123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NE",227,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[289]|09"],"","",0],[,"(08)(\\d{3})(\\d{3})","$1 $2 $3",["08"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],NF:[,[,,"[13]\\d{5}","\\d{5,6}"],[,,"(?:1(?:06|17|28|39)|3[012]\\d)\\d{3}","\\d{5,6}",,,"106609"],[,,"38\\d{4}","\\d{5,6}",,,"381234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NF",672,"00",,,,,,,,[[,"(\\d{2})(\\d{4})","$1 $2",["1"],"","",0],[,"(\\d)(\\d{5})","$1 $2",["3"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NG:[,[,,"[1-6]\\d{5,8}|9\\d{5,9}|[78]\\d{5,13}","\\d{5,14}"],[,,"[12]\\d{6,7}|9(?:0[3-9]|[1-9]\\d)\\d{5}|(?:3\\d|4[023568]|5[02368]|6[02-469]|7[4-69]|8[2-9])\\d{6}|(?:4[47]|5[14579]|6[1578]|7[0-357])\\d{5,6}|(?:78|41)\\d{5}","\\d{5,9}",,,"12345678"],[,,"(?:1(?:7[34]\\d|8(?:04|[124579]\\d|8[0-3])|95\\d)|287[0-7]|3(?:18[1-8]|88[0-7]|9(?:8[5-9]|6[1-5]))|4(?:28[0-2]|6(?:7[1-9]|8[02-47])|88[0-2])|5(?:2(?:7[7-9]|8\\d)|38[1-79]|48[0-7]|68[4-7])|6(?:2(?:7[7-9]|8\\d)|4(?:3[7-9]|[68][129]|7[04-69]|9[1-8])|58[0-2]|98[7-9])|7(?:38[0-7]|69[1-8]|78[2-4])|8(?:28[3-9]|38[0-2]|4(?:2[12]|3[147-9]|5[346]|7[4-9]|8[014-689]|90)|58[1-8]|78[2-9]|88[5-7])|98[07]\\d)\\d{4}|(?:70(?:[13-9]\\d|2[1-9])|8(?:0[2-9]|1\\d)\\d|90[239]\\d)\\d{6}","\\d{8,10}",,,"8021234567"],[,,"800\\d{7,11}","\\d{10,14}",,,"80017591759"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NG",234,"009","0",,,"0",,,,[[,"([129])(\\d{3})(\\d{3,4})","$1 $2 $3",["[129]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-6]|7(?:[1-79]|0[1-9])|8[2-9]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["70|8[01]|90[239]"],"0$1","",0],[,"([78]00)(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]00"],"0$1","",0],[,"([78]00)(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]00"],"0$1","",0],[,"(78)(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"700\\d{7,11}","\\d{10,14}",,,"7001234567"],,,[,,"NA","NA"]],
NI:[,[,,"[12578]\\d{7}","\\d{8}"],[,,"2\\d{7}","\\d{8}",,,"21234567"],[,,"5(?:5[0-7]\\d{5}|[78]\\d{6})|7[5-8]\\d{6}|8\\d{7}","\\d{8}",,,"81234567"],[,,"1800\\d{4}","\\d{8}",,,"18001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NI",505,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NL:[,[,,"1\\d{4,8}|[2-7]\\d{8}|[89]\\d{6,9}","\\d{5,10}"],[,,"(?:1[0135-8]|2[02-69]|3[0-68]|4[0135-9]|[57]\\d|8[478])\\d{7}","\\d{9}",,,"101234567"],[,,"6[1-58]\\d{7}","\\d{9}",,,"612345678"],[,,"800\\d{4,7}","\\d{7,10}",,,"8001234"],[,,"90[069]\\d{4,7}","\\d{7,10}",,,"9061234"],[,,"NA","NA"],[,,"NA","NA"],[,,"85\\d{7}","\\d{9}",,,"851234567"],"NL",31,"00","0",,,"0",,,,[[,"([1-578]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]"],"0$1","",0],[,"([1-5]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1","",0],[,"(6)(\\d{8})","$1 $2",["6[0-57-9]"],"0$1","",0],[,"(66)(\\d{7})","$1 $2",["66"],"0$1","",0],[,"(14)(\\d{3,4})","$1 $2",["14"],"$1","",0],[,"([89]0\\d)(\\d{4,7})","$1 $2",["80|9"],"0$1","",0]],,[,,"66\\d{7}","\\d{9}",,,"662345678"],,,[,,"14\\d{3,4}","\\d{5,6}"],[,,"140(?:1(?:[035]|[16-8]\\d)|2(?:[0346]|[259]\\d)|3(?:[03568]|[124]\\d)|4(?:[0356]|[17-9]\\d)|5(?:[0358]|[124679]\\d)|7\\d|8[458])","\\d{5,6}",,,"14020"],,,[,,"NA","NA"]],NO:[,[,,"0\\d{4}|[2-9]\\d{7}","\\d{5}(?:\\d{3})?"],[,,"(?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])\\d{6}","\\d{8}",,,"21234567"],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}","\\d{8}",,,"40612345"],[,,"80[01]\\d{5}","\\d{8}",,,"80012345"],[,,"82[09]\\d{5}","\\d{8}",,,"82012345"],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}","\\d{8}",,,"81021234"],[,,"880\\d{5}","\\d{8}",,,"88012345"],[,,"85[0-5]\\d{5}","\\d{8}",,,"85012345"],"NO",47,"00",,,,,,,,[[,"([489]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[489]"],"","",0],[,"([235-7]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"],"","",0]],,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}","\\d{5}(?:\\d{3})?",,,"01234"],1,,[,,"81[23]\\d{5}","\\d{8}",,,"81212345"]],NP:[,[,,"[1-8]\\d{7}|9(?:[1-69]\\d{6}|7[2-6]\\d{5,7}|8\\d{8})","\\d{6,10}"],[,,"(?:1[0124-6]|2[13-79]|3[135-8]|4[146-9]|5[135-7]|6[13-9]|7[15-9]|8[1-46-9]|9[1-79])\\d{6}","\\d{6,8}",,,"14567890"],[,,"9(?:7[45]|8[01456])\\d{7}","\\d{10}",,,"9841234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NP",977,"00","0",,,"0",,,,[[,"(1)(\\d{7})","$1-$2",["1[2-6]"],"0$1","",0],[,"(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-69]|7[15-9])"],"0$1","",0],[,"(9\\d{2})(\\d{7})","$1-$2",["9(?:7[45]|8)"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NR:[,[,,"[458]\\d{6}","\\d{7}"],[,,"(?:444|888)\\d{4}","\\d{7}",,,"4441234"],[,,"55[5-9]\\d{4}","\\d{7}",,,"5551234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NR",674,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NU:[,[,,"[1-5]\\d{3}","\\d{4}"],[,,"[34]\\d{3}","\\d{4}",,,"4002"],[,,"[125]\\d{3}","\\d{4}",,,"1234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NU",683,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NZ:[,[,,"6[235-9]\\d{6}|[2-57-9]\\d{7,10}","\\d{7,11}"],[,,"(?:3[2-79]|[49][2-689]|6[235-9]|7[2-5789])\\d{6}|24099\\d{3}","\\d{7,8}",,,"32345678"],[,,"2(?:[028]\\d{7,8}|1(?:[03]\\d{5,7}|[12457]\\d{5,6}|[689]\\d{5})|[79]\\d{7})","\\d{8,10}",,,"211234567"],[,,"508\\d{6,7}|80\\d{6,8}","\\d{8,10}",,,"800123456"],[,,"90\\d{7,9}","\\d{9,11}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NZ",64,"0(?:0|161)","0",,,"0",,"00",,[[,"([34679])(\\d{3})(\\d{4})","$1-$2 $3",["[3467]|9[1-9]"],"0$1","",0],[,"(24099)(\\d{3})","$1 $2",["240","2409","24099"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["21"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:1[1-9]|[69]|7[0-35-9])|86"],"0$1","",0],[,"(2\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["2[028]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|5|[89]0"],"0$1","",0]],,[,,"[28]6\\d{6,7}","\\d{8,9}",,,"26123456"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],OM:[,[,,"(?:2[2-6]|5|9[1-9])\\d{6}|800\\d{5,6}","\\d{7,9}"],[,,"2[2-6]\\d{6}","\\d{8}",,,"23123456"],[,,"9[1-9]\\d{6}","\\d{8}",,,"92123456"],[,,"8007\\d{4,5}|500\\d{4}","\\d{7,9}",,,"80071234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"OM",968,"00",,,,,,,,[[,"(2\\d)(\\d{6})","$1 $2",["2"],"","",0],[,"(9\\d{3})(\\d{4})","$1 $2",["9"],"","",0],[,"([58]00)(\\d{4,6})","$1 $2",["[58]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PA:[,[,,"[1-9]\\d{6,7}","\\d{7,8}"],[,,"(?:1(?:0[02-579]|19|2[37]|3[03]|4[479]|57|65|7[016-8]|8[58]|9[1349])|2(?:[0235679]\\d|1[0-7]|4[04-9]|8[028])|3(?:[09]\\d|1[14-7]|2[0-3]|3[03]|4[0457]|5[56]|6[068]|7[06-8]|8[089])|4(?:3[013-69]|4\\d|7[0-689])|5(?:[01]\\d|2[0-7]|[56]0|79)|7(?:0[09]|2[0-267]|3[06]|[49]0|5[06-9]|7[0-24-7]|8[89])|8(?:[34]\\d|5[0-4]|8[02])|9(?:0[6-8]|1[016-8]|2[036-8]|3[3679]|40|5[0489]|6[06-9]|7[046-9]|8[36-8]|9[1-9]))\\d{4}","\\d{7}",,,"2001234"],[,,"(?:1[16]1|21[89]|8(?:1[01]|7[23]))\\d{4}|6(?:[024-9]\\d|1[0-5]|3[0-24-9])\\d{5}","\\d{7,8}",,,"60012345"],[,,"80[09]\\d{4}","\\d{7}",,,"8001234"],[,,"(?:779|8(?:2[235]|55|60|7[578]|86|95)|9(?:0[0-2]|81))\\d{4}","\\d{7}",,,"8601234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PA",507,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"],"","",0],[,"(\\d{4})(\\d{4})","$1-$2",["6"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PE:[,[,,"[14-9]\\d{7,8}","\\d{6,9}"],[,,"(?:1\\d|4[1-4]|5[1-46]|6[1-7]|7[2-46]|8[2-4])\\d{6}","\\d{6,8}",,,"11234567"],[,,"9\\d{8}","\\d{9}",,,"912345678"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"805\\d{5}","\\d{8}",,,"80512345"],[,,"801\\d{5}","\\d{8}",,,"80112345"],[,,"80[24]\\d{5}","\\d{8}",,,"80212345"],[,,"NA","NA"],"PE",51,"19(?:1[124]|77|90)00","0"," Anexo ",,"0",,,,[[,"(1)(\\d{7})","$1 $2",["1"],"(0$1)","",0],[,"([4-8]\\d)(\\d{6})","$1 $2",["[4-7]|8[2-4]"],"(0$1)","",0],[,"(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)","",0],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PF:[,[,,"4\\d{5,7}|8\\d{7}","\\d{6}(?:\\d{2})?"],[,,"4(?:[09][45689]\\d|4)\\d{4}","\\d{6}(?:\\d{2})?",,,"40412345"],[,,"8[79]\\d{6}","\\d{8}",,,"87123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PF",689,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[09]|8[79]"],"","",0],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"],"","",0]],,[,,"NA","NA"],,,[,,"44\\d{4}","\\d{6}",,,"441234"],[,,"NA","NA"],,,[,,"NA","NA"]],PG:[,[,,"[1-9]\\d{6,7}","\\d{7,8}"],[,,"(?:3[0-2]\\d|4[25]\\d|5[34]\\d|64[1-9]|77(?:[0-24]\\d|30)|85[02-46-9]|9[78]\\d)\\d{4}","\\d{7}",,,"3123456"],[,,"(?:20150|68\\d{2}|7(?:[0-369]\\d|75)\\d{2})\\d{3}","\\d{7,8}",,,"6812345"],[,,"180\\d{4}","\\d{7}",,,"1801234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"275\\d{4}","\\d{7}",,,"2751234"],"PG",675,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[13-689]|27"],"","",0],[,"(\\d{4})(\\d{4})","$1 $2",["20|7"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PH:[,[,,"2\\d{5,7}|[3-9]\\d{7,9}|1800\\d{7,9}","\\d{5,13}"],[,,"2\\d{5}(?:\\d{2})?|(?:3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578]|8[2-8])\\d{7}|88(?:22\\d{6}|42\\d{4})","\\d{5,10}",,,"21234567"],[,,"(?:81[37]|9(?:0[5-9]|1[024-9]|2[0-35-9]|3[02-9]|4[236-9]|7[34-79]|89|9[4-9]))\\d{7}","\\d{10}",,,"9051234567"],[,,"1800\\d{7,9}","\\d{11,13}",,,"180012345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PH",63,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"(0$1)","",0],[,"(2)(\\d{5})","$1 $2",["2"],"(0$1)","",0],[,"(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|5(?:22|44)|642|8(?:62|8[245])","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)","",0],[,"(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)","",0],[,"([3-8]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[3-8]"],"(0$1)","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["81|9"],"0$1","",0],[,"(1800)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"","",0],[,"(1800)(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PK:[,[,,"1\\d{8}|[2-8]\\d{5,11}|9(?:[013-9]\\d{4,9}|2\\d(?:111\\d{6}|\\d{3,7}))","\\d{6,12}"],[,,"(?:21|42)[2-9]\\d{7}|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]\\d{6}|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]\\d{5,6}|58[126]\\d{7}","\\d{6,10}",,,"2123456789"],[,,"3(?:0\\d|[12][0-5]|3[1-7]|4[0-7]|55|64)\\d{7}","\\d{10}",,,"3012345678"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"900\\d{5}","\\d{8}",,,"90012345"],[,,"NA","NA"],[,,"122\\d{6}","\\d{9}",,,"122044444"],[,,"NA","NA"],"PK",92,"00","0",,,"0",,,,[[,"(\\d{2})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)1","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)11","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)111"],"(0$1)","",0],[,"(\\d{3})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d1","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d11","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d111"],"(0$1)","",0],[,"(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)","",0],[,"(\\d{3})(\\d{6,7})","$1 $2",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d[2-9]"],"(0$1)","",0],[,"(3\\d{2})(\\d{7})","$1 $2",["3"],"0$1","",0],[,"([15]\\d{3})(\\d{5,6})","$1 $2",["58[12]|1"],"(0$1)","",0],[,"(586\\d{2})(\\d{5})","$1 $2",["586"],"(0$1)","",0],[,"([89]00)(\\d{3})(\\d{2})","$1 $2 $3",["[89]00"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"(?:2(?:[125]|3[2358]|4[2-4]|9[2-8])|4(?:[0-246-9]|5[3479])|5(?:[1-35-7]|4[2-467])|6(?:[1-8]|0[468])|7(?:[14]|2[236])|8(?:[16]|2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|22|3[27-9]|4[2-6]|6[3569]|9[2-7]))111\\d{6}","\\d{11,12}",,,"21111825888"],,,[,,"NA","NA"]],PL:[,[,,"[12]\\d{6,8}|[3-57-9]\\d{8}|6\\d{5,8}","\\d{6,9}"],[,,"(?:1[2-8]|2[2-59]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])\\d{7}|[12]2\\d{5}","\\d{6,9}",,,"123456789"],[,,"(?:5[0137]|6[069]|7[2389]|88)\\d{7}","\\d{9}",,,"512345678"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"70\\d{7}","\\d{9}",,,"701234567"],[,,"801\\d{6}","\\d{9}",,,"801234567"],[,,"NA","NA"],[,,"39\\d{7}","\\d{9}",,,"391234567"],"PL",48,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[124]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"],"","",0],[,"(\\d{2})(\\d{1})(\\d{4})","$1 $2 $3",["[12]2"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["39|5[0137]|6[0469]|7[02389]|8[08]"],"","",0],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"],"","",0],[,"(\\d{3})(\\d{3})","$1 $2",["64"],"","",0]],,[,,"64\\d{4,7}","\\d{6,9}",,,"641234567"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PM:[,[,,"[45]\\d{5}","\\d{6}"],[,,"41\\d{4}","\\d{6}",,,"411234"],[,,"55\\d{4}","\\d{6}",,,"551234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PM",508,"00","0",,,"0",,,,[[,"([45]\\d)(\\d{2})(\\d{2})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PR:[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"(?:787|939)[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"7872345678"],[,,"(?:787|939)[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"7872345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"PR",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"787|939",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PS:[,[,,"[24589]\\d{7,8}|1(?:[78]\\d{8}|[49]\\d{2,3})","\\d{4,10}"],[,,"(?:22[234789]|42[45]|82[01458]|92[369])\\d{5}","\\d{7,8}",,,"22234567"],[,,"5[69]\\d{7}","\\d{9}",,,"599123456"],[,,"1800\\d{6}","\\d{10}",,,"1800123456"],[,,"1(?:4|9\\d)\\d{2}","\\d{4,5}",,,"19123"],[,,"1700\\d{6}","\\d{10}",,,"1700123456"],[,,"NA","NA"],[,,"NA","NA"],"PS",970,"00","0",,,"0",,,,[[,"([2489])(2\\d{2})(\\d{4})","$1 $2 $3",["[2489]"],"0$1","",0],[,"(5[69]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1","",0],[,"(1[78]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[78]"],"$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PT:[,[,,"[2-46-9]\\d{8}","\\d{9}"],[,,"2(?:[12]\\d|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])\\d{6}","\\d{9}",,,"212345678"],[,,"9(?:[136]\\d{2}|2[0-79]\\d|480)\\d{5}","\\d{9}",,,"912345678"],[,,"80[02]\\d{6}","\\d{9}",,,"800123456"],[,,"76(?:0[1-57]|1[2-47]|2[237])\\d{5}","\\d{9}",,,"760123456"],[,,"80(?:8\\d|9[1579])\\d{5}","\\d{9}",,,"808123456"],[,,"884[128]\\d{5}","\\d{9}",,,"884123456"],[,,"30\\d{7}","\\d{9}",,,"301234567"],"PT",351,"00",,,,,,,,[[,"(2\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"],"","",0],[,"([2-46-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[3-9]|[346-9]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"70(?:7\\d|8[17])\\d{5}","\\d{9}",,,"707123456"],,,[,,"NA","NA"]],PW:[,[,,"[2-8]\\d{6}","\\d{7}"],[,,"2552255|(?:277|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76))\\d{4}","\\d{7}",,,"2771234"],[,,"(?:6[234689]0|77[45789])\\d{4}","\\d{7}",,,"6201234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PW",680,"01[12]",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PY:[,[,,"5[0-5]\\d{4,7}|[2-46-9]\\d{5,8}","\\d{5,9}"],[,,"(?:[26]1|3[289]|4[124678]|7[123]|8[1236])\\d{5,7}|(?:2(?:2[4568]|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51)|4(?:18|2[45]|3[12]|5[13]|64|71|9[1-47])|5(?:[1-4]\\d|5[0234])|6(?:3[1-3]|44|7[1-4678])|7(?:17|4[0-4]|6[1-578]|75|8[0-8])|858)\\d{5,6}","\\d{5,9}",,,"212345678"],[,,"9(?:6[12]|[78][1-6]|9[1-5])\\d{6}","\\d{9}",,,"961456789"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"8700[0-4]\\d{4}","\\d{9}",,,"870012345"],"PY",595,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{5,7})","$1 $2",["(?:[26]1|3[289]|4[124678]|7[123]|8[1236])"],"($1)","",0],[,"(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1","",0],[,"(\\d{3})(\\d{6})","$1 $2",["9[1-9]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8700"],"","",0],[,"(\\d{3})(\\d{4,6})","$1 $2",["[2-8][1-9]"],"($1)","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"[2-9]0\\d{4,7}","\\d{6,9}",,,"201234567"],,,[,,"NA","NA"]],QA:[,[,,"[2-8]\\d{6,7}","\\d{7,8}"],[,,"4[04]\\d{6}","\\d{7,8}",,,"44123456"],[,,"[3567]\\d{7}","\\d{7,8}",,,"33123456"],[,,"800\\d{4}","\\d{7,8}",,,"8001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"QA",974,"00",,,,,,,,[[,"([28]\\d{2})(\\d{4})","$1 $2",["[28]"],"","",0],[,"([3-7]\\d{3})(\\d{4})","$1 $2",["[3-7]"],"","",0]],,[,,"2(?:[12]\\d|61)\\d{4}","\\d{7}",,,"2123456"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],RE:[,[,,"[268]\\d{8}","\\d{9}"],[,,"262\\d{6}","\\d{9}",,,"262161234"],[,,"6(?:9[23]|47)\\d{6}","\\d{9}",,,"692123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89[1-37-9]\\d{6}","\\d{9}",,,"891123456"],[,,"8(?:1[019]|2[0156]|84|90)\\d{6}","\\d{9}",,,"810123456"],[,,"NA","NA"],[,,"NA","NA"],"RE",262,"00","0",,,"0",,,,[[,"([268]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],1,"262|6[49]|8",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],RO:[,[,,"2\\d{5,8}|[37-9]\\d{8}","\\d{6,9}"],[,,"2(?:1(?:\\d{7}|9\\d{3})|[3-6](?:\\d{7}|\\d9\\d{2}))|3[13-6]\\d{7}","\\d{6,9}",,,"211234567"],[,,"7(?:000|[1-8]\\d{2}|99\\d)\\d{5}","\\d{9}",,,"712345678"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"90[036]\\d{6}","\\d{9}",,,"900123456"],[,,"801\\d{6}","\\d{9}",,,"801123456"],[,,"802\\d{6}","\\d{9}",,,"802123456"],[,,"NA","NA"],"RO",40,"00","0"," int ",,"0",,,,[[,"([237]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1","",0],[,"(21)(\\d{4})","$1 $2",["21"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23][3-7]|[7-9]"],"0$1","",0],[,"(2\\d{2})(\\d{3})","$1 $2",["2[3-6]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"37\\d{7}","\\d{9}",,,"372123456"],,,[,,"NA","NA"]],RS:[,[,,"[126-9]\\d{4,11}|3(?:[0-79]\\d{3,10}|8[2-9]\\d{2,9})","\\d{5,12}"],[,,"(?:1(?:[02-9][2-9]|1[1-9])\\d|2(?:[0-24-7][2-9]\\d|[389](?:0[2-9]|[2-9]\\d))|3(?:[0-8][2-9]\\d|9(?:[2-9]\\d|0[2-9])))\\d{3,8}","\\d{5,12}",,,"10234567"],[,,"6(?:[0-689]|7\\d)\\d{6,7}","\\d{8,10}",,,"601234567"],[,,"800\\d{3,9}","\\d{6,12}",,,"80012345"],[,,"(?:90[0169]|78\\d)\\d{3,7}","\\d{6,12}",,,"90012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"RS",381,"00","0",,,"0",,,,[[,"([23]\\d{2})(\\d{4,9})","$1 $2",["(?:2[389]|39)0"],"0$1","",0],[,"([1-3]\\d)(\\d{5,10})","$1 $2",["1|2(?:[0-24-7]|[389][1-9])|3(?:[0-8]|9[1-9])"],"0$1","",0],[,"(6\\d)(\\d{6,8})","$1 $2",["6"],"0$1","",0],[,"([89]\\d{2})(\\d{3,9})","$1 $2",["[89]"],"0$1","",0],[,"(7[26])(\\d{4,9})","$1 $2",["7[26]"],"0$1","",0],[,"(7[08]\\d)(\\d{4,9})","$1 $2",["7[08]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"7[06]\\d{4,10}","\\d{6,12}",,,"700123456"],,,[,,"NA","NA"]],RU:[,[,,"[3489]\\d{9}","\\d{10}"],[,,"(?:3(?:0[12]|4[1-35-79]|5[1-3]|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-7]|7[1-37-9]))\\d{7}","\\d{10}",,,"3011234567"],[,,"9\\d{9}","\\d{10}",,,"9123456789"],[,,"80[04]\\d{7}","\\d{10}",,,"8001234567"],[,,"80[39]\\d{7}","\\d{10}",,,"8091234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"RU",7,"810","8",,,"8",,"8~10",,[[,"(\\d{3})(\\d{2})(\\d{2})","$1-$2-$3",["[1-79]"],"$1","",1],[,"([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[34689]"],"8 ($1)","",1],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)","",1]],[[,"([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[34689]"],"8 ($1)","",1],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)","",1]],[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],RW:[,[,,"[027-9]\\d{7,8}","\\d{8,9}"],[,,"2[258]\\d{7}|06\\d{6}","\\d{8,9}",,,"250123456"],[,,"7[238]\\d{7}","\\d{9}",,,"720123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"RW",250,"00","0",,,"0",,,,[[,"(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"$1","",0],[,"([7-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1","",0],[,"(0\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],SA:[,[,,"1\\d{7,8}|(?:[2-467]|92)\\d{7}|5\\d{8}|8\\d{9}","\\d{7,10}"],[,,"11\\d{7}|1?(?:2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])\\d{6}","\\d{7,9}",,,"112345678"],[,,"(?:5(?:[013-689]\\d|7[0-26-8])|811\\d)\\d{6}","\\d{9,10}",,,"512345678"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"NA","NA"],[,,"92[05]\\d{6}","\\d{9}",,,"920012345"],[,,"NA","NA"],[,,"NA","NA"],"SA",966,"00","0",,,"0",,,,[[,"([1-467])(\\d{3})(\\d{4})","$1 $2 $3",["[1-467]"],"0$1","",0],[,"(1\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[1-467]"],"0$1","",0],[,"(5\\d)(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1","",0],[,"(92\\d{2})(\\d{5})","$1 $2",["92"],"$1","",0],[,"(800)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"$1","",0],[,"(811)(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SB:[,[,,"[1-9]\\d{4,6}","\\d{5,7}"],[,,"(?:1[4-79]|[23]\\d|4[01]|5[03]|6[0-37])\\d{3}","\\d{5}",,,"40123"],[,,"48\\d{3}|7(?:[0146-8]\\d|5[025-9]|9[0124])\\d{4}|8[4-8]\\d{5}|9(?:[46]\\d|5[0-46-9]|7[0-689]|8[0-79]|9[0-8])\\d{4}","\\d{5,7}",,,"7421234"],[,,"1[38]\\d{3}","\\d{5}",,,"18123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"5[12]\\d{3}","\\d{5}",,,"51123"],"SB",677,"0[01]",,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["[7-9]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SC:[,[,,"[24689]\\d{5,6}","\\d{6,7}"],[,,"4[2-46]\\d{5}","\\d{7}",,,"4217123"],[,,"2[5-8]\\d{5}","\\d{7}",,,"2510123"],[,,"8000\\d{2}","\\d{6}",,,"800000"],[,,"98\\d{4}","\\d{6}",,,"981234"],[,,"NA","NA"],[,,"NA","NA"],[,,"64\\d{5}","\\d{7}",,,"6412345"],"SC",248,"0[0-2]",,,,,,"00",,[[,"(\\d{3})(\\d{3})","$1 $2",["[89]"],"","",0],[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SD:[,[,,"[19]\\d{8}","\\d{9}"],[,,"1(?:[125]\\d|8[3567])\\d{6}","\\d{9}",,,"121231234"],[,,"9[012569]\\d{7}","\\d{9}",,,"911231234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SD",249,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SE:[,[,,"[1-9]\\d{5,9}","\\d{5,10}"],[,,"1(?:0[1-8]\\d{6}|[136]\\d{5,7}|(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89]\\d)\\d{5,6})|2(?:[136]\\d{5,7}|(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])\\d{5,6})|3(?:[356]\\d{5,7}|(?:0[0-4]|1\\d|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])\\d{5,6})|4(?:0[1-9]\\d{4,6}|[246]\\d{5,7}|(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])\\d{5,6})|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4\\d|6[03-5]|7[013]|8[0-79]|9[01])\\d{5,6}|6(?:0[1-9]\\d{4,6}|3\\d{5,7}|(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])\\d{5,6})|8[1-9]\\d{5,7}|9(?:0[1-9]\\d{4,6}|(?:1[0-68]|2\\d|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8])\\d{5,6})","\\d{5,9}",,,"8123456"],[,,"7[0236]\\d{7}","\\d{9}",,,"701234567"],[,,"20(?:0(?:0\\d{2}|[1-9](?:0\\d{1,4}|[1-9]\\d{4}))|1(?:0\\d{4}|[1-9]\\d{4,5})|[2-9]\\d{5})","\\d{6,9}",,,"20123456"],[,,"9(?:00|39|44)(?:1(?:[0-26]\\d{5}|[3-57-9]\\d{2})|2(?:[0-2]\\d{5}|[3-9]\\d{2})|3(?:[0139]\\d{5}|[24-8]\\d{2})|4(?:[045]\\d{5}|[1-36-9]\\d{2})|5(?:5\\d{5}|[0-46-9]\\d{2})|6(?:[679]\\d{5}|[0-58]\\d{2})|7(?:[078]\\d{5}|[1-69]\\d{2})|8(?:[578]\\d{5}|[0-469]\\d{2}))","\\d{7}(?:\\d{3})?",,,"9001234567"],[,,"77(?:0(?:0\\d{2}|[1-9](?:0\\d|[1-9]\\d{4}))|[1-6][1-9]\\d{5})","\\d{6}(?:\\d{3})?",,,"771234567"],[,,"75[1-8]\\d{6}","\\d{9}",,,"751234567"],[,,"NA","NA"],"SE",46,"00","0",,,"0",,,,[[,"(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1","",0],[,"([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"],"0$1","",0],[,"([1-69]\\d)(\\d{3})(\\d{2})","$1-$2 $3",["1[13689]|2[136]|3[1356]|4[0246]|54|6[03]|90"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"],"0$1","",0],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"],"0$1","",0],[,"(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["7"],"0$1","",0],[,"(77)(\\d{2})(\\d{2})","$1-$2$3",["7"],"0$1","",0],[,"(20)(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1","",0],[,"(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9[034]"],"0$1","",0],[,"(9[034]\\d)(\\d{4})","$1-$2",["9[034]"],"0$1","",0]],[[,"(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1 $2 $3 $4",["8"]],[,"([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"]],[,"([1-69]\\d)(\\d{3})(\\d{2})","$1 $2 $3",["1[13689]|2[136]|3[1356]|4[0246]|54|6[03]|90"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"]],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1 $2 $3",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"]],[,"(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7"]],[,"(77)(\\d{2})(\\d{2})","$1 $2 $3",["7"]],[,"(20)(\\d{2,3})(\\d{2})","$1 $2 $3",["20"]],[,"(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["9[034]"]],[,"(9[034]\\d)(\\d{4})","$1 $2",["9[034]"]]],[,,"74[02-9]\\d{6}","\\d{9}",,,"740123456"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SG:[,[,,"[36]\\d{7}|[17-9]\\d{7,10}","\\d{8,11}"],[,,"6[1-9]\\d{6}","\\d{8}",,,"61234567"],[,,"(?:8[1-7]|9[0-8])\\d{6}","\\d{8}",,,"81234567"],[,,"1?800\\d{7}","\\d{10,11}",,,"18001234567"],[,,"1900\\d{7}","\\d{11}",,,"19001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"3[12]\\d{6}","\\d{8}",,,"31234567"],"SG",65,"0[0-3]\\d",,,,,,,,[[,"([3689]\\d{3})(\\d{4})","$1 $2",["[369]|8[1-9]"],"","",0],[,"(1[89]00)(\\d{3})(\\d{4})","$1 $2 $3",["1[89]"],"","",0],[,"(7000)(\\d{4})(\\d{3})","$1 $2 $3",["70"],"","",0],[,"(800)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"7000\\d{7}","\\d{11}",,,"70001234567"],,,[,,"NA","NA"]],SH:[,[,,"[2-79]\\d{3,4}","\\d{4,5}"],[,,"2(?:[0-57-9]\\d|6[4-9])\\d{2}|(?:[2-46]\\d|7[01])\\d{2}","\\d{4,5}",,,"2158"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:[59]\\d|7[2-9])\\d{2}","\\d{4,5}",,,"5012"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SH",290,"00",,,,,,,,,,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SI:[,[,,"[1-7]\\d{6,7}|[89]\\d{4,7}","\\d{5,8}"],[,,"(?:1\\d|[25][2-8]|3[4-8]|4[24-8]|7[3-8])\\d{6}","\\d{7,8}",,,"11234567"],[,,"(?:[37][01]|4[0139]|51|6[48])\\d{6}","\\d{8}",,,"31234567"],[,,"80\\d{4,6}","\\d{6,8}",,,"80123456"],[,,"90\\d{4,6}|89[1-3]\\d{2,5}","\\d{5,8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:59|8[1-3])\\d{6}","\\d{8}",,,"59012345"],"SI",386,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[12]|3[4-8]|4[24-8]|5[2-8]|7[3-8]"],"(0$1)","",0],[,"([3-7]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1","",0],[,"([89][09])(\\d{3,6})","$1 $2",["[89][09]"],"0$1","",0],[,"([58]\\d{2})(\\d{5})","$1 $2",["59|8[1-3]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SJ:[,[,,"0\\d{4}|[4789]\\d{7}","\\d{5}(?:\\d{3})?"],[,,"79\\d{6}","\\d{8}",,,"79123456"],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}","\\d{8}",,,"41234567"],[,,"80[01]\\d{5}","\\d{8}",,,"80012345"],[,,"82[09]\\d{5}","\\d{8}",,,"82012345"],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}","\\d{8}",,,"81021234"],[,,"880\\d{5}","\\d{8}",,,"88012345"],[,,"85[0-5]\\d{5}","\\d{8}",,,"85012345"],"SJ",47,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}","\\d{5}(?:\\d{3})?",,,"01234"],1,,[,,"81[23]\\d{5}","\\d{8}",,,"81212345"]],SK:[,[,,"[2-689]\\d{8}","\\d{9}"],[,,"[2-5]\\d{8}","\\d{9}",,,"212345678"],[,,"9(?:0[1-8]|1[0-24-9]|4[0489])\\d{6}","\\d{9}",,,"912123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"9(?:[78]\\d{7}|00\\d{6})","\\d{9}",,,"900123456"],[,,"8[5-9]\\d{7}","\\d{9}",,,"850123456"],[,,"NA","NA"],[,,"6(?:5[0-4]|9[0-6])\\d{6}","\\d{9}",,,"690123456"],"SK",421,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1","",0],[,"([3-5]\\d)(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1","",0],[,"([689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"(?:8(?:00|[5-9]\\d)|9(?:00|[78]\\d))\\d{6}","\\d{9}",,,"800123456"],[,,"96\\d{7}","\\d{9}",,,"961234567"],,,[,,"NA","NA"]],SL:[,[,,"[2-578]\\d{7}","\\d{6,8}"],[,,"[235]2[2-4][2-9]\\d{4}","\\d{6,8}",,,"22221234"],[,,"(?:2[15]|3[034]|4[04]|5[05]|7[6-9]|88)\\d{6}","\\d{6,8}",,,"25123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SL",232,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",,"(0$1)","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SM:[,[,,"[05-7]\\d{7,9}","\\d{6,10}"],[,,"0549(?:8[0157-9]|9\\d)\\d{4}","\\d{6,10}",,,"0549886377"],[,,"6[16]\\d{6}","\\d{8}",,,"66661212"],[,,"NA","NA"],[,,"7[178]\\d{6}","\\d{8}",,,"71123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"5[158]\\d{6}","\\d{8}",,,"58001110"],"SM",378,"00",,,,"(?:0549)?([89]\\d{5})","0549$1",,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"],"","",0],[,"(0549)(\\d{6})","$1 $2",["0"],"","",0],[,"(\\d{6})","0549 $1",["[89]"],"","",0]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"],"","",0],[,"(0549)(\\d{6})","($1) $2",["0"]],[,"(\\d{6})","(0549) $1",["[89]"]]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],SN:[,[,,"[3789]\\d{8}","\\d{9}"],[,,"3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611|90[1-5])\\d{5}","\\d{9}",,,"301012345"],[,,"7(?:[067]\\d|21|8[0-26]|90)\\d{6}","\\d{9}",,,"701234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"88[4689]\\d{6}","\\d{9}",,,"884123456"],[,,"81[02468]\\d{6}","\\d{9}",,,"810123456"],[,,"NA","NA"],[,,"3392\\d{5}|93330\\d{4}","\\d{9}",,,"933301234"],"SN",221,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"],"","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SO:[,[,,"[1-79]\\d{6,8}","\\d{7,9}"],[,,"(?:1\\d|2[0-79]|3[0-46-8]|4[0-7]|59)\\d{5}","\\d{7}",,,"4012345"],[,,"(?:15\\d|2(?:4\\d|8)|6[137-9]?\\d{2}|7[1-9]\\d|907\\d)\\d{5}","\\d{7,9}",,,"71123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SO",252,"00","0",,,"0",,,,[[,"(\\d)(\\d{6})","$1 $2",["2[0-79]|[13-5]"],"","",0],[,"(\\d)(\\d{7})","$1 $2",["24|[67]"],"","",0],[,"(\\d{2})(\\d{5,7})","$1 $2",["15|28|6[1378]"],"","",0],[,"(69\\d)(\\d{6})","$1 $2",["69"],"","",0],[,"(90\\d)(\\d{3})(\\d{3})","$1 $2 $3",["90"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SR:[,[,,"[2-8]\\d{5,6}","\\d{6,7}"],[,,"(?:2[1-3]|3[0-7]|4\\d|5[2-58]|68\\d)\\d{4}","\\d{6,7}",,,"211234"],[,,"(?:7[124-7]|8[1-9])\\d{5}","\\d{7}",,,"7412345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"5(?:6\\d{4}|90[0-4]\\d{3})","\\d{6,7}",,,"561234"],"SR",597,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1-$2",["[2-4]|5[2-58]"],"","",0],[,"(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"],"","",0],[,"(\\d{3})(\\d{4})","$1-$2",["59|[6-8]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SS:[,[,,"[19]\\d{8}","\\d{9}"],[,,"18\\d{7}","\\d{9}",,,"181234567"],[,,"(?:12|9[1257])\\d{7}","\\d{9}",,,"977123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SS",211,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ST:[,[,,"[29]\\d{6}","\\d{7}"],[,,"22\\d{5}","\\d{7}",,,"2221234"],[,,"9[89]\\d{5}","\\d{7}",,,"9812345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ST",239,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SV:[,[,,"[267]\\d{7}|[89]\\d{6}(?:\\d{4})?","\\d{7,8}|\\d{11}"],[,,"2[1-6]\\d{6}","\\d{8}",,,"21234567"],[,,"[67]\\d{7}","\\d{8}",,,"70123456"],[,,"800\\d{4}(?:\\d{4})?","\\d{7}(?:\\d{4})?",,,"8001234"],[,,"900\\d{4}(?:\\d{4})?","\\d{7}(?:\\d{4})?",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SV",503,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[267]"],"","",0],[,"(\\d{3})(\\d{4})","$1 $2",["[89]"],"","",0],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SX:[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"7215(?:4[2-8]|8[239]|9[056])\\d{4}","\\d{7}(?:\\d{3})?",,,"7215425678"],[,,"7215(?:1[02]|2\\d|5[034679]|8[014-8])\\d{4}","\\d{10}",,,"7215205678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"SX",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"721",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SY:[,[,,"[1-59]\\d{7,8}","\\d{6,9}"],[,,"(?:1(?:1\\d?|4\\d|[2356])|2(?:1\\d?|[235])|3(?:[13]\\d|4)|4[13]|5[1-3])\\d{6}","\\d{6,9}",,,"112345678"],[,,"9(?:22|[35][0-8]|4\\d|6[024-9]|88|9[0-489])\\d{6}","\\d{9}",,,"944567890"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SY",963,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1","",1],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1","",1]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SZ:[,[,,"[027]\\d{7}","\\d{8}"],[,,"2(?:2(?:0[07]|[13]7|2[57])|3(?:0[34]|[1278]3|3[23]|[46][34])|(?:40[4-69]|67)|5(?:0[5-7]|1[6-9]|[23][78]|48|5[01]))\\d{4}","\\d{8}",,,"22171234"],[,,"7[6-8]\\d{6}","\\d{8}",,,"76123456"],[,,"0800\\d{4}","\\d{8}",,,"08001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SZ",268,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[027]"],"","",0]],,[,,"NA","NA"],,,[,,"0800\\d{4}","\\d{8}",,,"08001234"],[,,"NA","NA"],1,,[,,"NA","NA"]],TA:[,[,,"8\\d{3}","\\d{4}"],[,,"8\\d{3}","\\d{4}",,,"8999"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TA",290,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TC:[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"649(?:712|9(?:4\\d|50))\\d{4}","\\d{7}(?:\\d{3})?",,,"6497121234"],[,,"649(?:2(?:3[129]|4[1-7])|3(?:3[1-389]|4[1-7])|4[34][1-3])\\d{4}","\\d{10}",,,"6492311234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"64971[01]\\d{4}","\\d{10}",,,"6497101234"],"TC",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"649",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],
TD:[,[,,"[2679]\\d{7}","\\d{8}"],[,,"22(?:[3789]0|5[0-5]|6[89])\\d{4}","\\d{8}",,,"22501234"],[,,"(?:6[02368]\\d|77\\d|9(?:5[0-4]|9\\d))\\d{5}","\\d{8}",,,"63012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TD",235,"00|16",,,,,,"00",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TG:[,[,,"[29]\\d{7}","\\d{8}"],[,,"2(?:2[2-7]|3[23]|44|55|66|77)\\d{5}","\\d{8}",,,"22212345"],[,,"9[0-289]\\d{6}","\\d{8}",,,"90112345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TG",228,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TH:[,[,,"[2-9]\\d{7,8}|1\\d{3}(?:\\d{6})?","\\d{4}|\\d{8,10}"],[,,"(?:2\\d|3[2-9]|4[2-5]|5[2-6]|7[3-7])\\d{6}","\\d{8}",,,"21234567"],[,,"(?:61|[89]\\d)\\d{7}","\\d{9}",,,"812345678"],[,,"1800\\d{6}","\\d{10}",,,"1800123456"],[,,"1900\\d{6}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"6[08]\\d{7}","\\d{9}",,,"601234567"],"TH",66,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1","",0],[,"([3-9]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[3-9]"],"0$1","",0],[,"(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1"],"$1","",0]],,[,,"NA","NA"],,,[,,"1\\d{3}","\\d{4}",,,"1100"],[,,"1\\d{3}","\\d{4}",,,"1100"],,,[,,"NA","NA"]],TJ:[,[,,"[3-59]\\d{8}","\\d{3,9}"],[,,"(?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))\\d{6}","\\d{3,9}",,,"372123456"],[,,"(?:50[125]|9[0-35-9]\\d)\\d{6}","\\d{9}",,,"917123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TJ",992,"810","8",,,"8",,"8~10",,[[,"([349]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"],"(8) $1","",1],[,"([459]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[48]|5|9(?:1[59]|[0235-9])"],"(8) $1","",1],[,"(331700)(\\d)(\\d{2})","$1 $2 $3",["331","3317","33170","331700"],"(8) $1","",1],[,"(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]","3(?:[1245]|3(?:[02-9]|1[0-589]))"],"(8) $1","",1]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TK:[,[,,"[2-9]\\d{3}","\\d{4}"],[,,"[2-4]\\d{3}","\\d{4}",,,"3010"],[,,"[5-9]\\d{3}","\\d{4}",,,"5190"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TK",690,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TL:[,[,,"[2-489]\\d{6}|7\\d{6,7}","\\d{7,8}"],[,,"(?:2[1-5]|3[1-9]|4[1-4])\\d{5}","\\d{7}",,,"2112345"],[,,"7[3-8]\\d{6}","\\d{8}",,,"77212345"],[,,"80\\d{5}","\\d{7}",,,"8012345"],[,,"90\\d{5}","\\d{7}",,,"9012345"],[,,"NA","NA"],[,,"70\\d{5}","\\d{7}",,,"7012345"],[,,"NA","NA"],"TL",670,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-489]"],"","",0],[,"(\\d{4})(\\d{4})","$1 $2",["7"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TM:[,[,,"[1-6]\\d{7}","\\d{8}"],[,,"(?:1(?:2\\d|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4\\d|6[15])|5(?:22|5[7-9]|6[014-689]))\\d{5}","\\d{8}",,,"12345678"],[,,"6[2-8]\\d{6}","\\d{8}",,,"66123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TM",993,"810","8",,,"8",,"8~10",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)","",0],[,"(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1","",0],[,"(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["13|[2-5]"],"(8 $1)","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TN:[,[,,"[2-57-9]\\d{7}","\\d{8}"],[,,"3[012]\\d{6}|7\\d{7}|81200\\d{3}","\\d{8}",,,"71234567"],[,,"(?:[259]\\d|4[0-24])\\d{6}","\\d{8}",,,"20123456"],[,,"8010\\d{4}","\\d{8}",,,"80101234"],[,,"88\\d{6}","\\d{8}",,,"88123456"],[,,"8[12]10\\d{4}","\\d{8}",,,"81101234"],[,,"NA","NA"],[,,"NA","NA"],"TN",216,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TO:[,[,,"[02-8]\\d{4,6}","\\d{5,7}"],[,,"(?:2\\d|3[1-8]|4[1-4]|[56]0|7[0149]|8[05])\\d{3}","\\d{5}",,,"20123"],[,,"(?:7[578]|8[7-9])\\d{5}","\\d{7}",,,"7715123"],[,,"0800\\d{3}","\\d{7}",,,"0800222"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TO",676,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1-$2",["[1-6]|7[0-4]|8[05]"],"","",0],[,"(\\d{3})(\\d{4})","$1 $2",["7[5-9]|8[7-9]"],"","",0],[,"(\\d{4})(\\d{3})","$1 $2",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],TR:[,[,,"[2-589]\\d{9}|444\\d{4}","\\d{7,10}"],[,,"(?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26]))\\d{7}","\\d{10}",,,"2123456789"],[,,"5(?:0[1-7]|22|[34]\\d|5[1-59]|9[246])\\d{7}","\\d{10}",,,"5012345678"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TR",90,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[23]|4(?:[0-35-9]|4[0-35-9])"],"(0$1)","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[589]"],"0$1","",1],[,"(444)(\\d{1})(\\d{3})","$1 $2 $3",["444"],"","",0]],,[,,"512\\d{7}","\\d{10}",,,"5123456789"],,,[,,"444\\d{4}","\\d{7}",,,"4441444"],[,,"444\\d{4}|850\\d{7}","\\d{7,10}",,,"4441444"],,,[,,"NA","NA"]],TT:[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"868(?:2(?:01|2[1-5])|6(?:0[79]|1[02-9]|2[1-9]|[3-69]\\d|7[0-79])|82[124])\\d{4}","\\d{7}(?:\\d{3})?",,,"8682211234"],[,,"868(?:2(?:[89]\\d)|3(?:0[1-9]|1[02-9]|[2-9]\\d)|4[6-9]\\d|6(?:20|78|8\\d)|7(?:0[1-9]|1[02-9]|[2-9]\\d))\\d{4}","\\d{10}",,,"8682911234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"TT",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"868",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TV:[,[,,"[29]\\d{4,5}","\\d{5,6}"],[,,"2[02-9]\\d{3}","\\d{5}",,,"20123"],[,,"90\\d{4}","\\d{6}",,,"901234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TV",688,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TW:[,[,,"[2-689]\\d{7,8}|7\\d{7,9}","\\d{8,10}"],[,,"[2-8]\\d{7,8}","\\d{8,9}",,,"21234567"],[,,"9\\d{8}","\\d{9}",,,"912345678"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],"TW",886,"0(?:0[25679]|19)","0","#",,"0",,,,[[,"([2-8])(\\d{3,4})(\\d{4})","$1 $2 $3",["[2-6]|[78][1-9]"],"0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["80|9"],"0$1","",0],[,"(70)(\\d{4})(\\d{4})","$1 $2 $3",["70"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TZ:[,[,,"\\d{9}","\\d{7,9}"],[,,"2[2-8]\\d{7}","\\d{7,9}",,,"222345678"],[,,"(?:6[158]|7[1-9])\\d{7}","\\d{9}",,,"612345678"],[,,"80[08]\\d{6}","\\d{9}",,,"800123456"],[,,"90\\d{7}","\\d{9}",,,"900123456"],[,,"8(?:40|6[01])\\d{6}","\\d{9}",,,"840123456"],[,,"NA","NA"],[,,"41\\d{7}","\\d{9}",,,"412345678"],"TZ",255,"00[056]","0",,,"0",,,,[[,"([24]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1","",0],[,"([67]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1","",0],[,"([89]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],UA:[,[,,"[3-689]\\d{8}","\\d{5,9}"],[,,"(?:3[1-8]|4[13-8]|5[1-7]|6[12459])\\d{7}","\\d{5,9}",,,"311234567"],[,,"(?:39|50|6[36-8]|9[1-9])\\d{7}","\\d{9}",,,"391234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"89\\d{7}","\\d{9}",,,"891234567"],"UA",380,"00","0",,,"0",,"0~0",,[[,"([3-689]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[38]9|4(?:[45][0-5]|87)|5(?:0|6[37]|7[37])|6[36-8]|9[1-9]","[38]9|4(?:[45][0-5]|87)|5(?:0|6(?:3[14-7]|7)|7[37])|6[36-8]|9[1-9]"],"0$1","",0],[,"([3-689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["3[1-8]2|4[13678]2|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90","3(?:[1-46-8]2[013-9]|52)|4(?:[1378]2|62[013-9])|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90"],"0$1","",0],[,"([3-6]\\d{3})(\\d{5})","$1 $2",["3(?:5[013-9]|[1-46-8])|4(?:[137][013-9]|6|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6[0135-9]|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])","3(?:5[013-9]|[1-46-8](?:22|[013-9]))|4(?:[137][013-9]|6(?:[013-9]|22)|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6(?:3[02389]|[015689])|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],UG:[,[,,"\\d{9}","\\d{5,9}"],[,,"20(?:[0147]\\d{2}|2(?:40|[5-9]\\d)|3[23]\\d|5[0-4]\\d|6[03]\\d|8[0-2]\\d)\\d{4}|[34]\\d{8}","\\d{5,9}",,,"312345678"],[,,"2030\\d{5}|7(?:0[0-7]|[15789]\\d|2[03]|30|[46][0-4])\\d{6}","\\d{9}",,,"712345678"],[,,"800[123]\\d{5}","\\d{9}",,,"800123456"],[,,"90[123]\\d{6}","\\d{9}",,,"901123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"UG",256,"00[057]","0",,,"0",,,,[[,"(\\d{3})(\\d{6})","$1 $2",["[7-9]|20(?:[013-8]|2[5-9])|4(?:6[45]|[7-9])"],"0$1","",0],[,"(\\d{2})(\\d{7})","$1 $2",["3|4(?:[1-5]|6[0-36-9])"],"0$1","",0],[,"(2024)(\\d{5})","$1 $2",["2024"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],US:[,[,,"[2-9]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[4589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[036]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[4589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[036]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"US",1,"011","1",,,"1",,,1,[[,"(\\d{3})(\\d{4})","$1-$2",,"","",1],[,"(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",,"","",1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3"]],[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],UY:[,[,,"[2489]\\d{6,7}","\\d{7,8}"],[,,"2\\d{7}|4[2-7]\\d{6}","\\d{7,8}",,,"21231234"],[,,"9[1-9]\\d{6}","\\d{8}",,,"94231234"],[,,"80[05]\\d{4}","\\d{7}",,,"8001234"],[,,"90[0-8]\\d{4}","\\d{7}",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"UY",598,"0(?:1[3-9]\\d|0)","0"," int. ",,"0",,"00",,[[,"(\\d{4})(\\d{4})","$1 $2",["[24]"],"","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{4})","$1 $2",["[89]0"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],UZ:[,[,,"[679]\\d{8}","\\d{7,9}"],[,,"(?:6(?:1(?:22|3[124]|4[1-4]|5[123578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6\\d{2}|7(?:[23]\\d|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[12456]|9[135-8])|1[12]\\d|2(?:22|3[1345789]|4[123579]|5[14])|3(?:2\\d|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2\\d|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9])))\\d{5}","\\d{7,9}",,,"662345678"],[,,"6(?:1(?:2(?:98|2[01])|35[0-4]|50\\d|61[23]|7(?:[01][017]|4\\d|55|9[5-9]))|2(?:11\\d|2(?:[12]1|9[01379])|5(?:[126]\\d|3[0-4])|7\\d{2})|5(?:19[01]|2(?:27|9[26])|30\\d|59\\d|7\\d{2})|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|3[79]\\d|4(?:56|83)|7(?:[07]\\d|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79])|9[0-3]\\d)|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0\\d|[39][07])|9(?:0\\d|7[079]))|9(?:2(?:1[1267]|5\\d|3[01]|7[0-4])|5[67]\\d|6(?:2[0-26]|8\\d)|7\\d{2}))\\d{4}|7(?:0\\d{3}|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98\\d)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57\\d|7(?:0\\d|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|33\\d|5(?:0[0-4]|5[579]|9\\d)|7(?:[0-3579]\\d|4[0467]|6[67]|8[078])|9[4-6]\\d)|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8\\d|9[5-9])|7(?:0\\d|1[024589]|2[0127]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89]\\d))|5(?:112|2(?:0\\d|2[29]|[49]4)|3[1568]\\d|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7]\\d|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39\\d|41[179]|5(?:[349]\\d|5[0-2])|7(?:0[017]|[13]\\d|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7\\d)|57[05629]|7(?:2[05-9]|3[37]|4\\d|60|7[2579]|87|9[07])))\\d{4}|9[0-57-9]\\d{7}","\\d{7,9}",,,"912345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"UZ",998,"810","8",,,"8",,"8~10",,[[,"([679]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"8 $1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],VA:[,[,,"06\\d{8}","\\d{10}"],[,,"06698\\d{5}","\\d{10}",,,"0669812345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"VA",379,"00",,,,,,,,[[,"(06)(\\d{4})(\\d{4})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],VC:[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"784(?:266|3(?:6[6-9]|7\\d|8[0-24-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)\\d{4}","\\d{7}(?:\\d{3})?",,,"7842661234"],[,,"784(?:4(?:3[0-4]|5[45]|89|9[0-5])|5(?:2[6-9]|3[0-4]))\\d{4}","\\d{10}",,,"7844301234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"VC",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"784",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],VE:[,[,,"[24589]\\d{9}","\\d{7,10}"],[,,"(?:2(?:12|3[457-9]|[58][1-9]|[467]\\d|9[1-6])|50[01])\\d{7}","\\d{7,10}",,,"2121234567"],[,,"4(?:1[24-8]|2[46])\\d{7}","\\d{10}",,,"4121234567"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"VE",58,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{7})","$1-$2",,"0$1","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],VG:[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"284(?:(?:229|4(?:22|9[45])|774|8(?:52|6[459]))\\d{4}|496[0-5]\\d{3})","\\d{7}(?:\\d{3})?",,,"2842291234"],[,,"284(?:(?:3(?:0[0-3]|4[0-367])|4(?:4[0-6]|68|99)|54[0-57])\\d{4}|496[6-9]\\d{3})","\\d{10}",,,"2843001234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"VG",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"284",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],VI:[,[,,"[3589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7\\d)|884|998)\\d{4}","\\d{7}(?:\\d{3})?",,,"3406421234"],[,,"340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7\\d)|884|998)\\d{4}","\\d{7}(?:\\d{3})?",,,"3406421234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"VI",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"340",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],VN:[,[,,"[17]\\d{6,9}|[2-69]\\d{7,9}|8\\d{6,8}","\\d{7,10}"],[,,"(?:2(?:[025-79]|1[0189]|[348][01])|3(?:[0136-9]|[25][01])|4\\d|5(?:[01][01]|[2-9])|6(?:[0-46-8]|5[01])|7(?:[02-79]|[18][01])|8[1-9])\\d{7}","\\d{9,10}",,,"2101234567"],[,,"(?:9\\d|1(?:2\\d|6[2-9]|8[68]|99))\\d{7}","\\d{9,10}",,,"912345678"],[,,"1800\\d{4,6}","\\d{8,10}",,,"1800123456"],[,,"1900\\d{4,6}","\\d{8,10}",,,"1900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"VN",84,"00","0",,,"0",,,,[[,"([17]99)(\\d{4})","$1 $2",["[17]99"],"0$1","",1],[,"([48])(\\d{4})(\\d{4})","$1 $2 $3",["[48]"],"0$1","",1],[,"([235-7]\\d)(\\d{4})(\\d{3})","$1 $2 $3",["2[025-79]|3[0136-9]|5[2-9]|6[0-46-8]|7[02-79]"],"0$1","",1],[,"(80)(\\d{5})","$1 $2",["80"],"0$1","",1],[,"(69\\d)(\\d{4,5})","$1 $2",["69"],"0$1","",1],[,"([235-7]\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["2[1348]|3[25]|5[01]|65|7[18]"],"0$1","",1],[,"(9\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1","",1],[,"(1[2689]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[26]|8[68]|99)"],"0$1","",1],[,"(1[89]00)(\\d{4,6})","$1 $2",["1[89]0"],"$1","",1]],,[,,"NA","NA"],,,[,,"[17]99\\d{4}|69\\d{5,6}","\\d{7,8}",,,"1992000"],[,,"[17]99\\d{4}|69\\d{5,6}|80\\d{5}","\\d{7,8}",,,"1992000"],,,[,,"NA","NA"]],VU:[,[,,"[2-57-9]\\d{4,6}","\\d{5,7}"],[,,"(?:2[02-9]\\d|3(?:[5-7]\\d|8[0-8])|48[4-9]|88\\d)\\d{2}","\\d{5}",,,"22123"],[,,"(?:5(?:7[2-5]|[3-69]\\d)|7[013-7]\\d)\\d{4}","\\d{7}",,,"5912345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"VU",678,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[579]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"3[03]\\d{3}|900\\d{4}","\\d{5,7}",,,"30123"],,,[,,"NA","NA"]],WF:[,[,,"[5-7]\\d{5}","\\d{6}"],[,,"(?:50|68|72)\\d{4}","\\d{6}",,,"501234"],[,,"(?:50|68|72)\\d{4}","\\d{6}",,,"501234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"WF",681,"00",,,,,,,1,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],WS:[,[,,"[2-8]\\d{4,6}","\\d{5,7}"],[,,"(?:[2-5]\\d|6[1-9]|84\\d{2})\\d{3}","\\d{5,7}",,,"22123"],[,,"(?:60|7[25-7]\\d)\\d{4}","\\d{6,7}",,,"601234"],[,,"800\\d{3}","\\d{6}",,,"800123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"WS",685,"0",,,,,,,,[[,"(8\\d{2})(\\d{3,4})","$1 $2",["8"],"","",0],[,"(7\\d)(\\d{5})","$1 $2",["7"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],YE:[,[,,"[1-7]\\d{6,8}","\\d{6,9}"],[,,"(?:1(?:7\\d|[2-68])|2[2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-68])\\d{5}","\\d{6,8}",,,"1234567"],[,,"7[0137]\\d{7}","\\d{9}",,,"712345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"YE",967,"00","0",,,"0",,,,[[,"([1-7])(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1","",0],[,"(7\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["7[0137]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],YT:[,[,,"[268]\\d{8}","\\d{9}"],[,,"2696[0-4]\\d{4}","\\d{9}",,,"269601234"],[,,"639\\d{6}","\\d{9}",,,"639123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"YT",262,"00","0",,,"0",,,,,,[,,"NA","NA"],,"269|63",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ZA:[,[,,"[1-79]\\d{8}|8(?:[067]\\d{7}|[1-4]\\d{3,7})","\\d{5,9}"],[,,"(?:1[0-8]|2[0-378]|3[1-69]|4\\d|5[1346-8])\\d{7}","\\d{9}",,,"101234567"],[,,"(?:6[0-5]|7[0-46-9])\\d{7}|8[1-4]\\d{3,7}","\\d{5,9}",,,"711234567"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"86[2-9]\\d{6}|90\\d{7}","\\d{9}",,,"862345678"],[,,"860\\d{6}","\\d{9}",,,"860123456"],[,,"NA","NA"],[,,"87\\d{7}","\\d{9}",,,"871234567"],"ZA",27,"00","0",,,"0",,,,[[,"(860)(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-79]|8(?:[0-47]|6[1-9])"],"0$1","",0],[,"(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"861\\d{6}","\\d{9}",,,"861123456"],,,[,,"NA","NA"]],ZM:[,[,,"[289]\\d{8}","\\d{9}"],[,,"21[1-8]\\d{6}","\\d{9}",,,"211234567"],[,,"9(?:5[05]|6\\d|7[1-9])\\d{6}","\\d{9}",,,"955123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ZM",260,"00","0",,,"0",,,,[[,"([29]\\d)(\\d{7})","$1 $2",["[29]"],"0$1","",0],[,"(800)(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ZW:[,[,,"2(?:[012457-9]\\d{3,8}|6\\d{3,6})|[13-79]\\d{4,8}|8[06]\\d{8}","\\d{3,10}"],[,,"(?:1[3-9]|2(?:0[45]|[16]|2[28]|[49]8?|58[23]|7[246]|8[1346-9])|3(?:08?|17?|3[78]|[2456]|7[1569]|8[379])|5(?:[07-9]|1[78]|483|5(?:7?|8))|6(?:0|28|37?|[45][68][78]|98?)|848)\\d{3,6}|(?:2(?:27|5|7[135789]|8[25])|3[39]|5[1-46]|6[126-8])\\d{4,6}|2(?:(?:0|70)\\d{5,6}|2[05]\\d{7})|(?:4\\d|9[2-8])\\d{4,7}","\\d{3,10}",,,"1312345"],[,,"7[1378]\\d{7}|86(?:22|44)\\d{6}","\\d{9,10}",,,"711234567"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"86(?:1[12]|30|55|77|8[367]|99)\\d{6}","\\d{10}",,,"8686123456"],"ZW",263,"00","0",,,"0",,,,[[,"([49])(\\d{3})(\\d{2,5})","$1 $2 $3",["4|9[2-9]"],"0$1","",0],[,"([179]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[19]1|7"],"0$1","",0],[,"(86\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["86[24]"],"0$1","",0],[,"([2356]\\d{2})(\\d{3,5})","$1 $2",["2(?:[278]|0[45]|[49]8)|3(?:08|17|3[78]|[78])|5[15][78]|6(?:[29]8|37|[68][78])"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:[278]|0[45]|48)|3(?:08|17|3[78]|[78])|5[15][78]|6(?:[29]8|37|[68][78])|80"],"0$1","",0],[,"([1-356]\\d)(\\d{3,5})","$1 $2",["1[3-9]|2(?:[1-469]|0[0-35-9]|[45][0-79])|3(?:0[0-79]|1[0-689]|[24-69]|3[0-69])|5(?:[02-46-9]|[15][0-69])|6(?:[0145]|[29][0-79]|3[0-689]|[68][0-69])"],"0$1","",0],[,"([1-356]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[3-9]|2(?:[1-469]|0[0-35-9]|[45][0-79])|3(?:0[0-79]|1[0-689]|[24-69]|3[0-69])|5(?:[02-46-9]|[15][0-69])|6(?:[0145]|[29][0-79]|3[0-689]|[68][0-69])"],"0$1","",0],[,"([25]\\d{3})(\\d{3,5})","$1 $2",["(?:25|54)8","258[23]|5483"],"0$1","",0],[,"([25]\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["(?:25|54)8","258[23]|5483"],"0$1","",0],[,"(8\\d{3})(\\d{6})","$1 $2",["86"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],800:[,[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",800,"",,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],808:[,[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA"],[,,"NA","NA"],"001",808,"",,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],870:[,[,,"[35-7]\\d{8}","\\d{9}",,,"301234567"],[,,"NA","NA",,,"301234567"],[,,"(?:[356]\\d|7[6-8])\\d{7}","\\d{9}",,,"301234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",870,"",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],878:[,[,,"1\\d{11}","\\d{12}",,,"101234567890"],[,,"NA","NA",,,"101234567890"],[,,"NA","NA",,,"101234567890"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"10\\d{10}","\\d{12}",,,"101234567890"],"001",878,"",,,,,,,1,[[,"(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],881:[,[,,"[67]\\d{8}","\\d{9}",,,"612345678"],[,,"NA","NA",,,"612345678"],[,,"[67]\\d{8}","\\d{9}",,,"612345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",881,"",,,,,,,,[[,"(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[67]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],882:[,[,,"[13]\\d{6,11}","\\d{7,12}",,,"3451234567"],[,,"NA","NA",,,"3451234567"],[,,"3(?:2\\d{3}|37\\d{2}|4(?:2|7\\d{3}))\\d{4}","\\d{7,10}",,,"3451234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15678]|9[0689])\\d{4}|6\\d{5,10})|345\\d{7}","\\d{7,12}",,,"3451234567"],"001",882,"",,,,,,,,[[,"(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"],"","",0],[,"(\\d{2})(\\d{5})","$1 $2",["16|342"],"","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"],"","",0],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["348"],"","",0],[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1"],"","",0],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"],"","",0],[,"(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["16"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"348[57]\\d{7}","\\d{11}",,,"3451234567"]],883:[,[,,"51\\d{7}(?:\\d{3})?","\\d{9}(?:\\d{3})?",,,"510012345"],[,,"NA","NA",,,"510012345"],[,,"NA","NA",,,"510012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"51(?:00\\d{5}(?:\\d{3})?|[13]0\\d{8})","\\d{9}(?:\\d{3})?",,,"510012345"],"001",883,"",,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["510"],"","",0],[,"(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],888:[,[,,"\\d{11}","\\d{11}",,,"12345678901"],[,,"NA","NA",,,"12345678901"],[,,"NA","NA",,,"12345678901"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",888,"",,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"\\d{11}","\\d{11}",,,"12345678901"],1,,[,,"NA","NA"]],979:[,[,,"\\d{9}","\\d{9}",,,"123456789"],[,,"NA","NA",,,"123456789"],[,,"NA","NA",,,"123456789"],[,,"NA","NA"],[,,"\\d{9}","\\d{9}",,,"123456789"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",979,"",,,,,,,1,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]]};C.r=function(){return C.ta?C.ta:C.ta=new C};var St={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9"},$t={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9",A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"},bt=RegExp("[+\uff0b]+"),_t=RegExp("^[+\uff0b]+"),wt=RegExp("([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9])"),xt=RegExp("[+\uff0b0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]"),Ct=/[\\\/] *x/,Pt=RegExp("[^0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9A-Za-z#]+$"),kt=/(?:.*?[A-Za-z]){3}.*/,Tt=RegExp("(?:;ext=([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})|[ \xa0\\t,]*(?:e?xt(?:ensi(?:o\u0301?|\xf3))?n?|\uff45?\uff58\uff54\uff4e?|[,x\uff58#\uff03~\uff5e]|int|anexo|\uff49\uff4e\uff54)[:\\.\uff0e]?[ \xa0\\t,-]*([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})#?|[- ]+([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,5})#)$","i"),Mt=RegExp("^[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{2}$|^[+\uff0b]*(?:[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \xa0\xad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\\[\\]/~\u2053\u223c\uff5e*]*[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){3,}[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \xa0\xad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\\[\\]/~\u2053\u223c\uff5e*A-Za-z0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*(?:;ext=([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})|[ \xa0\\t,]*(?:e?xt(?:ensi(?:o\u0301?|\xf3))?n?|\uff45?\uff58\uff54\uff4e?|[,x\uff58#\uff03~\uff5e]|int|anexo|\uff49\uff4e\uff54)[:\\.\uff0e]?[ \xa0\\t,-]*([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})#?|[- ]+([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,5})#)?$","i"),Et=/(\$\d)/,jt=/^\(?\$1\)?$/;C.prototype.format=function(t,e){if(0==h(t,2)&&null!=t.c[5]){var i=p(t,5);if(0<i.length)return i}var i=t.k(),n=I(t);if(0==e)return B(i,0,n,"");if(!(i in At))return n;var r,a=F(this,i,q(i));r=null!=t.c[3]&&0!=t.getExtension().length?3==e?";ext="+t.getExtension():null!=a.c[13]?h(a,13)+p(t,3):" ext. "+p(t,3):"";t:{for(var s,a=0==(u(a,20)||[]).length||2==e?u(a,19)||[]:u(a,20)||[],o=a.length,l=0;o>l;++l){s=a[l];var d=f(s,3);if((0==d||0==n.search(h(s,3,d-1)))&&(d=new RegExp(h(s,1)),Z(d,n))){a=s;break t}}a=null}return null!=a&&(o=a,a=p(o,2),s=new RegExp(h(o,1)),p(o,5),l="",o=p(o,4),l=2==e&&null!=o&&0<o.length?n.replace(s,a.replace(Et,o)):n.replace(s,a),3==e&&(l=l.replace(RegExp("^[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \xa0\xad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\\[\\]/~\u2053\u223c\uff5e]+"),""),l=l.replace(RegExp("[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \xa0\xad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\\[\\]/~\u2053\u223c\uff5e]+","g"),"-")),n=l),B(i,e,n,r)},C.prototype.parse=function(t,e){return Y(this,t,e,!1)};var Ft=new S;m(Ft,11,"NA");var It=/\[([^\[\]])*\]/g,Bt=/\d(?=[^,}][^,}])/g,Rt=RegExp("^[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \xa0\xad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\\[\\]/~\u2053\u223c\uff5e]*(\\$\\d[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \xa0\xad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\\[\\]/~\u2053\u223c\uff5e]*)+$"),Dt=/[- ]/;J.prototype.clear=function(){this.ia="",this.j.clear(),this.t.clear(),this.p.clear(),this.$=0,this.ba="",this.d.clear(),this.n="",this.b.clear(),this.l=!0,this.w=this.s=this.la=!1,this.g=[],this.ga=!1,this.h!=this.wa&&(this.h=X(this,this.ja))},t("intlTelInputUtils",{}),t("intlTelInputUtils.formatNumber",function(t,e,i){try{var n=t.replace(/\D/g,"");"+"==t.substr(0,1)&&(n="+"+n);var r=new J(e);e="";for(var a,s=0;s<n.length;s++){if(a=et(r,n.charAt(s)),e&&a.length<=e.length&&-1==a.indexOf(" "))return e;e=a}if(" "==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),i){var o=et(r,"5");" "==o.charAt(o.length-1)&&(o=o.substr(0,o.length-1)),isNaN(parseFloat(o.substr(o.length-2,1)))&&(e=o.substr(0,o.length-1))}return e}catch(l){return t}}),t("intlTelInputUtils.formatNumberE164",function(t,e){try{var i=C.r(),n=K(i,t,e);return i.format(n,0)}catch(r){return""}}),t("intlTelInputUtils.getExampleNumber",function(t,e,i){try{var n,r=C.r();t:{if(j(t)){var a=R(O(r,t),i);try{if(null!=a.c[6]){n=r.parse(p(a,6),t);break t}}catch(s){}}n=null}return r.format(n,e?2:1)}catch(o){return""}}),t("intlTelInputUtils.getNumberType",function(t,e){try{var i,n=C.r(),r=K(n,t,e),a=L(n,r),s=F(n,r.k(),a);if(null==s)i=-1;else{var o=I(r);i=D(o,s)}return i}catch(l){return-99}}),t("intlTelInputUtils.getValidationError",function(t,e){try{var i,n=C.r(),r=K(n,t,e),a=I(r),s=r.k();if(s in At){var o,l=F(n,s,q(s));o=h(l,1);var d=p(o,3);i=H(d,a)}else i=1;return i}catch(c){return"Invalid country calling code"==c?1:"The string supplied did not seem to be a phone number"==c?4:"Phone number too short after IDD"==c||"The string supplied is too short to be a phone number"==c?2:"The string supplied is too long to be a phone number"==c?3:-99}}),t("intlTelInputUtils.isValidNumber",function(t,e){try{var i,n=C.r(),r=K(n,t,e),a=L(n,r),s=r.k(),o=F(n,s,a);if(null==o||"001"!=a&&s!=z(n,a))i=!1;else{var l=I(r);i=-1!=D(l,o)}return i}catch(d){return!1}}),t("intlTelInputUtils.numberType",{FIXED_LINE:0,MOBILE:1,FIXED_LINE_OR_MOBILE:2,TOLL_FREE:3,PREMIUM_RATE:4,SHARED_COST:5,VOIP:6,PERSONAL_NUMBER:7,PAGER:8,UAN:9,VOICEMAIL:10,UNKNOWN:-1}),t("intlTelInputUtils.validationError",{IS_POSSIBLE:0,INVALID_COUNTRY_CODE:1,TOO_SHORT:2,TOO_LONG:3,NOT_A_NUMBER:4})}(),define("$components/intl-tel-input/utils",function(){}),define("$app/ui/shared/mobile_app_popover",["flight/lib/component","$app/ui/shared/with_form_base","$app/utils/mobile","$components/intl-tel-input/intlTelInput","$components/intl-tel-input/data","$components/intl-tel-input/utils","$app/templates/helpers/t"],function(t,e,i,n,r,a){function s(){this.defaultAttrs({popoverSelector:".js-mobile-app-popover",popoverTriggerSelector:".js-mobile-app-popover-trigger",sendSMSTriggerSelector:".js-button-send-sms",phoneNumberInputSelector:".js-mobile-number-field",popoverStateTriggerSelector:".js-state-trigger",stateOneSelector:".js-state-1",stateTwoSelector:".js-state-2",stateThreeSelector:".js-state-3",stateTwoTriggerSelector:".js-back",stateThreeTriggerSelector:".js-button-sms",purchaseEmailFieldSelector:".js-email",purchaseIdFieldSelector:".js-purchase-id",createAccountFormSelector:".js-create-account-form",createAccountTriggerSelector:".js-create-account-trigger"}),this.toggleMobilePopover=function(){this.select("purchaseEmailFieldSelector").text(this.select("popoverTriggerSelector").data("email"));
var t=this.select("popoverSelector"),e=this.select("popoverTriggerSelector");t.toggleClass("showing"),e.toggleClass("button-active"),t.css({top:e.position().top+e.outerHeight()+parseInt(e.css("margin-top"))+15,left:e.position().left-t.outerWidth()/2+e.outerWidth()/2}),t.hasClass("showing")?this.trigger("uiNeedsToDisplayMobileAppPopover"):this.trigger("uiNeedsToHideMobileAppPopover")},this.togglePopover=function(t){t.preventDefault(),this.toggleMobilePopover()},this.showStateOne=function(t){t&&t.preventDefault(),this.select("stateTwoSelector").hide(),this.select("stateOneSelector").show()},this.showStateTwo=function(t){t&&t.preventDefault(),this.select("stateOneSelector").hide(),this.select("stateThreeSelector").hide(),this.select("stateTwoSelector").show()},this.showSendSMSDialog=function(t){t.preventDefault(),this.select("stateTwoSelector").hide(),this.select("stateThreeSelector").show()},this.signupAndAddToLibrary=function(t){t.preventDefault();var e=this.select("createAccountTriggerSelector"),i=this.select("createAccountFormSelector");this.validateForm(i)&&(e.text(I18n.t("js.creating")),this.trigger("uiNeedsToSignupWithPurchase",{formData:i.serialize()}))},this.signupSuccess=function(t){this.select("stateOneSelector").hide(),this.select("stateTwoSelector").show()},this.signupFailure=function(t,e){this.select("createAccountTriggerSelector").text(I18n.t("js.create")),this.trigger("uiShowFlashMessage",{message:e.message})},this.sendSMS=function(t){t.preventDefault();var e=this.select("phoneNumberInputSelector");return e.intlTelInput("isValidNumber")?(this.select("sendSMSTriggerSelector").prop("disabled",!0),this.select("sendSMSTriggerSelector").text(I18n.t("js.sending")),void this.trigger("uiNeedsToSendMobileSMSCode",{phone_number:e.intlTelInput("getCleanNumber")})):!1},this.showSMSSendSuccessPrompt=function(t,e){this.select("sendSMSTriggerSelector").prop("disabled",!1),this.select("sendSMSTriggerSelector").text(I18n.t("js.sms_send_success_title"));var i=this;setTimeout(function(){i.select("sendSMSTriggerSelector").text(I18n.t("js.send_sms"))},2e3)},this.showSMSSendFailurePrompt=function(t,e){this.select("sendSMSTriggerSelector").prop("disabled",!1),this.select("sendSMSTriggerSelector").text(e.message);var i=this;setTimeout(function(){i.select("sendSMSTriggerSelector").text(I18n.t("js.send_sms"))},3e3)},this.validatePhoneNumber=function(t,e){var i=this.select("phoneNumberInputSelector"),n=this.select("sendSMSTriggerSelector");i.intlTelInput("isValidNumber")?n.attr("disabled",!1):n.attr("disabled",!0)},this.addPurchaseDetails=function(t,e){this.select("purchaseIdFieldSelector").val(e.id),this.select("purchaseEmailFieldSelector").val(e.email)},this.setCurrentUserInfo=function(t,e){e.is_logged_in&&this.showStateTwo()},this.hidePopoverWhenUnfocused=function(t){var e=this.select("popoverSelector"),i=this.select("popoverTriggerSelector");0==$(t.target).closest(e).length&&0==$(t.target).closest(i).length&&(e.removeClass("showing"),i.removeClass("button-active"))},this.after("initialize",function(){this.on("html","click",this.hidePopoverWhenUnfocused),this.select("phoneNumberInputSelector").intlTelInput(),this.validatePhoneNumber(),this.select("popoverTriggerSelector").data("has-purchaser")&&this.showStateTwo(),this.on("click",{popoverTriggerSelector:this.togglePopover,stateTwoTriggerSelector:this.showStateTwo,stateThreeTriggerSelector:this.showSendSMSDialog,sendSMSTriggerSelector:this.sendSMS,createAccountTriggerSelector:this.signupAndAddToLibrary}),this.on("keyup change",{phoneNumberInputSelector:this.validatePhoneNumber}),this.on(document,"dataCurrentUserInfo",this.setCurrentUserInfo),this.on(document,"dataPurchaseSuccessful",this.addPurchaseDetails),this.on(document,"dataSendSMSSuccess",this.showSMSSendSuccessPrompt),this.on(document,"dataSendSMSFailure",this.showSMSSendFailurePrompt),this.on(document,"dataSignupAndAddSuccess",this.signupSuccess),this.on(document,"dataSignupAndAddFailure",this.signupFailure)})}return t(s,e)}),define("$app/ui/shared/external_links",["flight/lib/component"],function(t){function e(){this.defaultAttrs({target:"_blank"}),this.after("initialize",function(){this.$node.find("a").attr("target",this.attr.target)})}return t(e)}),define("$app/ui/shared/purchase_form_debug",["flight/lib/component"],function(t){function e(){this.defaultAttrs({emailSelector:".envelope .email",purchaseStreetAddressSelector:".purchase_street_address",purchaseCitySelector:".purchase_city",purchaseStateSelector:".purchase_state",purchaseZipCodeSelector:".purchase_zip_code"}),this.after("initialize",function(){var t=!!window.location.search.match(/debug/);t&&(this.select("emailSelector").val("+"+Math.floor((new Date).getTime()/100)+"@gumroad.com"),this.select("purchaseStreetAddressSelector").val("1640 17th St"),this.select("purchaseCitySelector").val("San Francisco"),this.select("purchaseStateSelector").val("CA"),this.select("purchaseZipCodeSelector").val("94107"))})}return t(e)}),function(){define("$app/ui/shared/overlay",["flight/lib/component","$app/ui/product/product"],function(t,e){function i(){this.defaultAttrs({bundleToolTipSelector:".js-bundle-tool-tip",externalLinkSelector:"a:not(.js-logout-link):not(.js-preview-link)[href]",footerSelector:".js-footer",loginSelector:".js-login",productContainerSelector:".js-product-row",productDisplaySelector:".js-product-display",productListSelector:".js-bundled-product-list",productSelector:".js-product",bundleHeightSpacing:50,bundleWidthSpacing:50,isMinimized:!0,productParams:{},validDurationParams:["monthly","quarterly","biannually","yearly"],validOtherParams:["permalink","offerCodeName","locale","wanted","email","gift","recommended_by","url_parameters"]}),this.addTargetsToLinks=function(){this.select("externalLinkSelector").attr("target","_blank")},this.cancelCheckout=function(){this.attr.checkingOut=!1,$("body").removeClass("checking-out showing-bundle"),this.shrinkToBundle()},this.clickListener=function(t){if(!this.attr.checkingOut){for(var e=$(t.target||t.srcElement),i=["buy-form-main","buyer-bar-container","product-row"],n=0;n<i.length;n++){var r=i[n];if(e.hasClass(r)||e.parents("."+r).length>0)return}this.attr.completedPurchase?this.minimize():this.shrinkToBundle()}},this.completePurchase=function(t,e){this.attr.checkingOut=!1,this.attr.completedPurchase=!0,this.notifyGoogleAnalyticsOfPurchase(e)},this.getBundleWidth=function(){return parseInt(this.select("bundleToolTipSelector").outerWidth())+this.attr.bundleWidthSpacing},this.getBundleHeight=function(){var t=this.select("bundleToolTipSelector");return parseInt(t.outerHeight())+parseInt(t.css("margin-top")||0)+parseInt(t.css("margin-bottom")||0)+parseInt(t.css("top")||0)+this.attr.bundleHeightSpacing},this.getPersistentBundle=function(){this.trigger("uiNeedsToGetPersistentBundle")},this.getProduct=function(t){this.attr.productParams={};for(var e=0;e<this.attr.validParams.length;e++){var i=this.attr.validParams[e],n=t[i];n&&"false"!==n.toString().toLowerCase()&&(this.attr.productParams[i]=n)}this.setPaymentOption(),this.trigger(document,"uiNeedsAProduct",this.attr.productParams)},this.gotMessage=function(t){var e={};if(t.data)try{e=JSON.parse(t.data)}catch(i){}e.overlayMethod&&this[e.overlayMethod]&&this[e.overlayMethod](e.overlayArgs)},this.keyListener=function(t){27===t.keyCode&&(t.stopPropagation(),this.minimize())},this.maximize=function(){this.sendMessageToParent({parentMethod:"maximizeIframe"})},this.maximizeCallback=function(){this.refreshPreview(),this.attr.isMinimized=!1,$("body").removeClass("gumroad-minimized"),this.select("productContainerSelector").addClass("showing"),this.trigger("uiNeedsToShowProductCountInCircle"),setTimeout(function(){this.refreshPreview()}.bind(this),300)},this.minimize=function(t){var e={parentMethod:"minimizeIframe"};if(t&&t.minimizeDimensions)e.parentArgs=t.minimizeDimensions;else if(this.attr.checkingOut)return;$("body").addClass("gumroad-minimized"),this.select("productContainerSelector").addClass("not-showing"),this.trigger("uiNeedsToPauseVideo"),setTimeout(function(){this.sendMessageToParent(e)}.bind(this),300)},this.minimizeCallback=function(){$("body").addClass("gumroad-minimized"),this.select("productContainerSelector").width(0)},this.notifyGoogleAnalyticsOfPurchase=function(t){this.trigger("uiNeedsToTrackActivityWithSellerGoogleAnalytics",{permalink:t.permalink,action:"purchased",value:(Number(t.non_formatted_price)*(this.attr.isSingleUnit?1:100)).toString()}),this.trigger("uiNeedsToTrackECommerceEventWithSellerGoogleAnalytics",{permalink:t.permalink,purchase_external_id:t.id,currency:t.currency_type&&t.currency_type.toUpperCase(),product_name:t.name,price:t.non_formatted_price,quantity:t.quantity,tax:t.non_formatted_seller_tax_amount})},this.prepareProduct=function(t,i){this.removeProduct(),this.select("productDisplaySelector").html(i.html),this.select("productSelector").addClass("relative popped"),e.attachTo(this.attr.productContainerSelector,{incrementViewCountOnInit:!0,isMobile:this.attr.isMobile,isMultiBuyEnabled:!this.attr.singleProductMode,onUserProfile:!this.attr.singleProductMode,overlayOfferCode:this.attr.productParams.offerCodeName,overlayPaymentOption:this.attr.paymentOption,overlayRecommendedBy:this.attr.productParams.recommended_by,overlayUrlParams:this.attr.productParams.url_parameters,permalink:this.attr.productParams.permalink,userInfoToAdd:this.attr.user,wantThis:this.attr.productParams.wanted}),this.trigger("uiCheckRetargeting"),this.showProduct()},this.productsInBundle=function(){var t=[];return this.select("productListSelector").find("li").each(function(e,i){t.push($(i).data("unique-permalink"))}),t},this.redirect=function(t,e){this.sendMessageToParent({parentMethod:"redirect",parentArgs:e.url})},this.refreshPreview=function(){this.trigger(document,"showPreview")},this.removeProduct=function(){e.teardownAll(),this.select("productDisplaySelector").empty()},this.resizeCheckoutArea=function(){this.attr.isMinimized&&this.shrinkToBundle()},this.sendMessageToParent=function(t){this.overlayParentDomain&&("object"==typeof t&&(t=JSON.stringify(t)),window.parent.postMessage(t,this.overlayParentDomain))},this.setIsSingleLink=function(){this.attr.isSingleLink=!0},this.setOverlayParentDomain=function(t){this.overlayParentDomain=t,this.sendMessageToParent({parentMethod:"handshake"})},this.setPaymentOption=function(){for(var t=0;t<this.attr.validDurationParams.length;t++){var e=this.attr.validDurationParams[t];this.attr.productParams[e]&&(this.attr.paymentOption=e)}},this.showPaymentFormIfWanted=function(){this.attr.productParams.wanted&&this.trigger("uiShowOverlayCreditCardForm")},this.showProduct=function(){this.trigger("uiTriggerECommerceView"),this.select("footerSelector").toggle(!this.select("productContainerSelector").data("custom-web-branding")),this.attr.productParams.wanted?this.trigger("uiShowPaymentForm"):this.maximize()},this.shrinkToBundle=function(){if(this.attr.isSingleLink)return void this.minimize();var t=null,e="100%";this.getBundleWidth();this.attr.checkingOut?this.select("loginSelector").css("height","100%"):(e=this.getBundleHeight()+"px",this.select("loginSelector").css("height",this.getBundleHeight()+"px")),this.productsInBundle().length>0&&(t={minimizeDimensions:{width:this.getBundleWidth()+"px",height:e}}),this.minimize(t)},this.startCheckout=function(){this.attr.checkingOut=!0,$("body").addClass("showing-bundle checking-out"),this.shrinkToBundle()},this.after("initialize",function(){this.attr.validParams=this.attr.validDurationParams.concat(this.attr.validOtherParams),this.attr.singleProductMode=$(".js-product-display").data("single-product-mode"),$("body").addClass("gumroad-minimized"),window.addEventListener?window.addEventListener("message",function(t){this.gotMessage(t)}.bind(this),!1):window.attachEvent&&window.attachEvent("onmessage",function(t){this.gotMessage(t)}.bind(this),!1),this.addTargetsToLinks(),this.trigger(document,"uiSetOverlayPageShareUrl",{url:this.select("productDisplaySelector").data("overlay-share-url")}),this.on(document,"dataGotAProduct",this.prepareProduct),this.on(document,"uiBundledProductPaymentFailed",this.completePurchase),this.on(document,"uiBundledProductPaymentCompleted",this.completePurchase),this.on(document,"uiCanShowPaymentForm",this.showPaymentFormIfWanted),this.on(document,"uiCannotShowPaymentForm",this.maximize),this.on(document,"uiNeedsToHideProductOverlay",this.shrinkToBundle),this.on(document,"uiNeedsToCancelBundleCheckout",this.cancelCheckout),this.on(document,"uiNeedsToStartBundleCheckout",this.startCheckout),this.on(document,"uiResizeCheckoutArea",this.resizeCheckoutArea),this.on(document,"uiNeedsToRedirectOverlayFromReceipt",this.redirect),this.on(document,"keydown",this.keyListener),this.on(document,"click",this.clickListener)})}return t(i)})}(),function(){define("$app/ui/shared/scroll_cta",["flight/lib/component"],function(t){function e(){this.defaultAttrs({scrollButtonSelector:".js-show-i-want-this-trigger",toScrollToSelector:".i-want-this-container",toScrollWithinSelector:"html, body"}),this.toggleScrollButton=function(){this.select("scrollButtonSelector").toggleClass("showing",this.select("toScrollToSelector").offset().top>window.innerHeight)},this.scrollToWantThis=function(t){t.preventDefault(),this.select("scrollButtonSelector").removeClass("showing"),$(this.attr.toScrollWithinSelector).animate({scrollTop:this.select("toScrollToSelector").offset().top-20},400)},this.after("initialize",function(){0!=this.select("toScrollToSelector").length&&(this.on("click",{scrollButtonSelector:this.scrollToWantThis}),this.on(document,"uiNeedsToToggleScrollButton",this.toggleScrollButton))})}return t(e)})}(),define("$app/data/open_in_app",["flight/lib/component"],function(t){function e(){this.signupAndAddPurchaseToLibrary=function(t,e){$.ajax({type:"POST",url:Routes.save_to_library_path({format:"json"}),dataType:"json",data:e.formData}).done(function(t){t.success?this.trigger("dataSignupAndAddSuccess"):this.trigger("dataSignupAndAddFailure",{message:t.error_message})}.bind(this))},this.sendSMS=function(t,e){$.ajax({type:"POST",url:Routes.purchases_send_sms_path(),data:e,dataType:"json"}).done(function(t,e,i){this.trigger("dataSendSMSSuccess",t)}.bind(this)).fail(function(t,e,i){this.trigger("dataSendSMSFailure",JSON.parse(t.responseText))}.bind(this))},this.after("initialize",function(){this.on(document,"uiNeedsToSendMobileSMSCode",this.sendSMS),this.on(document,"uiNeedsToSignupWithPurchase",this.signupAndAddPurchaseToLibrary)})}return t(e)}),define("$app/data/user_info",["flight/lib/component"],function(t){function e(){this.getCurrentUserInfo=function(t,e){$.ajax({type:"GET",url:Routes.user_info_link_path(e.permalink)+(e.offerCodeName?"?code="+e.offerCodeName:""),dataType:"json"}).done(function(t){t.permalink=e.permalink,this.trigger("dataCurrentUserInfo",t)}.bind(this))},this.after("initialize",function(){this.on(document,"uiNeedsToGetCurrentUserInfo",this.getCurrentUserInfo)})}return t(e)}),define("$app/data/offer_code",["flight/lib/component"],function(t){function e(){this.getOfferCode=function(t,e){$.ajax({type:"GET",url:Routes.offer_code_link_path(e.permalink)+"?code="+e.offerCode,dataType:"json"}).done(function(t){t.permalink=e.permalink,this.trigger("dataOfferCode",t)}.bind(this))},this.after("initialize",function(){this.on(document,"uiNeedsToGetOfferCode",this.getOfferCode)})}return t(e)}),define("$app/data/purchase",["flight/lib/component"],function(t){function e(){this.defaultAttrs({timeout:3e4}),this.makePayment=function(t,e){$.ajax({type:"POST",url:Routes.purchases_path(),data:e.serializedForm,timeout:this.attr.timeout,error:function(t,i,n){e.is_bundled?e.payingWithPayPal?(e.response={permalink:e.permalink,name:e.name,sha:e.sha,price:e.formattedPrice,textStatus:i,success:!1},this.markBundleProductAndSendPayRequest(e)):this.trigger("uiBundledProductPaymentFailed",{permalink:e.permalink}):"timeout"===i&&e.payingWithPayPal?this.trigger("dataPurchaseTimeout",{permalink:e.permalink}):this.trigger("dataPurchaseFail",{permalink:e.permalink})}.bind(this)}).done(function(t){t.permalink=e.permalink,t.sha=e.sha,e.is_bundled?e.payingWithPayPal?(e.response=t,this.markBundleProductAndSendPayRequest(e)):t.success?this.trigger("uiBundledProductPaymentCompleted",t):this.trigger("uiBundledProductPaymentFailed",t):t.success?e.payingWithPayPal&&e.paypalOrderDetails?this.trigger("uiNeedsPaypalOrderPayment",{paymentDetails:e.paypalOrderDetails,purchaseResponse:t}):this.trigger("dataPurchaseSuccessful",t):this.trigger("dataPurchaseFail",t)}.bind(this))},this.updatePurchase=function(t,e){$.ajax({url:Routes.purchase_path(e),type:"PUT",dataType:"json",data:e}).done(function(t){t.success?this.trigger("dataPurchaseUpdateSuccessful",t):this.trigger("dataPurchaseUpdateFail")}.bind(this))},this.executeRefund=function(t,e){$.ajax({type:"PUT",url:Routes.refund_purchase_path(e),dataType:"json"}).done(function(t){t.success?this.trigger("dataRefundComplete",t):this.trigger("dataRefundFailed")}.bind(this))},this.sendInvoice=function(t,e){$.ajax({url:Routes.send_invoice_purchase_path(e.id),type:"POST",dataType:"json",data:e}).done(function(t){this.trigger("dataInvoice",t)}.bind(this))},this.deleteImportedCustomer=function(t,e){$.ajax({url:Routes.destroy_imported_customer_path(e.id),type:"DELETE",dataType:"json",data:e}).done(function(t){t.success?this.trigger("dataDeletedImportedCustomerComplete",t):this.trigger("dataDeletedImportedCustomerFailed",t)}.bind(this))},this.deleteFreeCustomer=function(t,e){$.ajax({url:Routes.destroy_free_customer_path(e.id),type:"DELETE",dataType:"json",data:e}).done(function(t){t.success?this.trigger("dataDeletedFreeCustomerComplete",t):this.trigger("dataDeletedFreeCustomerFailed",t)}.bind(this))},this.markPurchaseAsShipped=function(t,e){$.ajax({url:Routes.mark_as_shipped_path(e.purchase_id),type:"POST",dataType:"json",data:e}).done(function(t){t.success?this.trigger("dataMarkedPurchaseAsShippedSuccessful",t):this.trigger("dataMarkedPurchaseAsShippedFail")}.bind(this))},this.changeCanContact=function(t,e){$.ajax({url:Routes.change_can_contact_purchase_path(e.id),type:"POST",dataType:"json"}).done(function(t){this.trigger("dataChangedCanContact",t)}.bind(this))},this.markBundleProductAndSendPayRequest=function(t){this.trigger("uiNeedsMarkBundleProductAndOrderPayment",t)},this.after("initialize",function(){this.on(document,"uiNeedsToMakePayment",this.makePayment),this.on(document,"uiNeedsToUpdatePurchase",this.updatePurchase),this.on(document,"uiNeedsToMarkPurchaseAsShipped",this.markPurchaseAsShipped),this.on(document,"uiNeedsToRefund",this.executeRefund),this.on(document,"uiNeedsToDeleteImportedCustomer",this.deleteImportedCustomer),this.on(document,"uiNeedsToDeleteFreeCustomer",this.deleteFreeCustomer),this.on(document,"uiNeedsToSendInvoice",this.sendInvoice),this.on(document,"uiNeedsToChangeCanContact",this.changeCanContact)})}return t(e)}),define("$app/data/paypal_order",["flight/lib/component"],function(t){function e(){this.defaultAttrs({productsSHA:{},data:{}}),this.fetchOrder=function(t,e){$.ajax({type:"GET",url:Routes.fetch_order_paypal_path(),dataType:"json",data:{order_id:e.order_id},error:function(t,i,n){this.trigger(e.errorCallbackEvent,{})}.bind(this)}).done(function(t){this.trigger(e.successCallbackEvent,t)}.bind(this))},this.payForSingleBuy=function(t,e){this.attr.data=e,this.pay(this.successCallbackForSingleBuy,this.errorCallbackForSingleBuy)},this.errorCallbackForSingleBuy=function(t,e,i){this.trigger("dataPurchaseFail",this.attr.data.purchaseResponse)},this.successCallbackForSingleBuy=function(t){t.order_id?this.trigger("dataPurchaseSuccessful",this.attr.data.purchaseResponse):this.trigger("dataPurchaseFail",this.attr.data.purchaseResponse)},this.pay=function(t,e){$.ajax({type:"POST",url:Routes.pay_paypal_path(),dataType:"json",data:this.attr.data.paymentDetails,error:e.bind(this)}).done(t.bind(this))},this.markBundleProductAndPayForBundle=function(t,e){this.attr.data=e,this.attr.productsSHA[e.sha]=e.response.success,this.payForBundle()},this.payForBundle=function(){this.isReadyToPayForBundle()&&this.attr.data.paypalOrderDetails?(this.attr.data.paymentDetails=this.attr.data.paypalOrderDetails,this.pay(this.successCallbackForBundleBuy,this.errorCallbackForBundleBuy)):this.handleBundleUIPostPurchaseEvents()},this.isReadyToPayForBundle=function(){var t=!0,e=!1;return this.attr.data.productsInBundle.forEach(function(i,n){i.sha in this.attr.productsSHA||(t=!1),this.attr.productsSHA[i.sha]&&(e=!0)},this),e&&t},this.handleBundleUIPostPurchaseEvents=function(){var t=this.attr.data.response;this.trigger(this.bundleUIPostPurchaseEventName(t),t)},this.bundleUIPostPurchaseEventName=function(t){return t.success?"uiBundledProductPaymentCompleted":"timeout"==t.textStatus?"uiBundledProductPaymentTimeout":"uiBundledProductPaymentFailed"},this.successCallbackForBundleBuy=function(t){t.order_id?this.handleBundleUIPostPurchaseEvents():(this.clearBundlePurchaseData(),this.trigger("dataPurchaseFail",{}))},this.errorCallbackForBundleBuy=function(t,e,i){this.clearBundlePurchaseData(),this.trigger("dataPurchaseFail",{})},this.clearBundlePurchaseData=function(){this.attr={productsSHA:{},data:{}}},this.after("initialize",function(){this.on(document,"uiNeedsPaypalOrderPayment",this.payForSingleBuy),this.on(document,"uiNeedsMarkBundleProductAndOrderPayment",this.markBundleProductAndPayForBundle),this.on(document,"uiNeedsOrderInformation",this.fetchOrder)})}return t(e)}),define("$app/data/account",["flight/lib/component"],function(t){function e(){this.createAccount=function(t,e){$.ajax({type:"POST",url:Routes.signup_path({format:"json"}),dataType:"json",data:e.serializedForm}).done(function(t){t.permalink=e.permalink,t.success?this.trigger("dataAccount",t):this.trigger("dataFailedToCreateAccount",t)}.bind(this))},this.addPurchaseToLibrary=function(t,e){$.ajax({type:"POST",url:Routes.add_purchase_to_library_path({format:"json"}),dataType:"json",data:e.serializedForm}).done(function(t){t.permalink=e.permalink,t.success?this.trigger("dataPurchaseAddedToLibrary",t):this.trigger("dataFailedToAddPurchaseToLibrary",t)}.bind(this))},this.loginWithFacebook=function(){FB.login(function(t){if(t.authResponse){var e={accessToken:t.authResponse.accessToken};this.trigger("dataFacebookLoginVerifying"),$.ajax({url:Routes.ajax_facebook_path(),type:"POST",dataType:"json",data:e}).done(function(t){t.success?this.trigger("dataFackbookLoginSucceeded"):this.trigger("dataFackbookLoginFailed")}.bind(this))}}.bind(this),{scope:"email,manage_pages"})},this.after("initialize",function(){this.on(document,"uiNeedsToCreateAccount",this.createAccount),this.on(document,"uiNeedsToAddPurchaseToLibrary",this.addPurchaseToLibrary),this.on(document,"uiNeedsToLoginWithFacebook",this.loginWithFacebook)})}return t(e)}),define("$app/data/shipping",["flight/lib/component"],function(t){function e(){this.verifyShippingAddress=function(t,e){$.ajax({type:"POST",url:Routes.verify_shipping_address_path(),data:e.shipping_data,timeout:2500,error:function(t,e,i){this.trigger("dataVerifyShippingAddressTimeout")}.bind(this)}).done(function(t){t.success?this.trigger("dataVerifyShippingAddressSuccessful",t):this.trigger("dataVerifyShippingAddressFail",t)}.bind(this))},this.after("initialize",function(){this.on(document,"uiNeedsToVerifyShippingAddress",this.verifyShippingAddress)})}return t(e)}),define("$app/data/social",["flight/lib/component"],function(t){function e(){this.followSeller=function(t,e){$.ajax({type:"POST",dataType:"json",url:Routes.follow_user_path(),data:e}).done(function(t){this.trigger("uiShowFollowing")}.bind(this))},this.unfollowSeller=function(t,e){$.ajax({type:"GET",dataType:"json",url:Routes.cancel_follow_path(e.follower_id)}).done(function(t){this.trigger("uiShowUnfollowing",{id:e.follower_id})}.bind(this))},this.sendEmail=function(t,e){$.ajax({type:"POST",dataType:"json",url:e.url,data:{to:e.to,from:e.from,message:e.message}}).done(function(t){t.success&&(this.trigger("dataEmailSuccessfullySent"),this.trigger("uiShowFlashMessage",{message:I18n.t("js.email_successfully_sent")}))}.bind(this))},this.getShareCount=function(t,e){FB.api("/?id="+window.location.href,function(t){t.shares&&this.trigger("dataShareCount",{count:t.shares})}.bind(this))},this.after("initialize",function(){this.on(document,"uiNeedsToFollowUser",this.followSeller),this.on(document,"uiNeedsToUnfollowUser",this.unfollowSeller),this.on(document,"uiNeedsToSendEmail",this.sendEmail),this.on(document,"fbUiLoaded",this.getShareCount)})}return t(e)}),define("$app/utils/with_s3",[],function(){function t(){this.getReportS3FailureCallback=function(t){return function(e,i,n){$.ajax({url:"/internal-webhook/s3_failure",type:"POST",data:{xhr:e,textStatus:i,error:n,corsInfo:t,type:"flight utils"}})}}}return t});var Evaporate=function(t){function e(t){var e=u.length,n=new a(s({progress:function(){},complete:function(){},cancelled:function(){},info:function(){},warn:function(){},error:function(){},initiated:function(){}},t,{id:e,status:o,priority:0,onStatusChange:i,loadedBytes:0,sizeBytes:t.file.size}));return u.push(n),n.initiated(e),e}function i(){p.d("onFileUploadStatusChange"),r()}function n(){setTimeout(r,1)}function r(){p.d("processQueue   length: "+u.length);var t=-1,e=-1,i=!0;u.forEach(function(n,r){n.priority>e&&n.status==o&&(t=r,e=n.priority),n.status==l&&(i=!1)}),i&&t>=0&&u[t].start()}function a(t){function e(t){(t==d||t==ERROR||t==CANCELED)&&(clearInterval(N),clearInterval(S)),b.status=t,b.onStatusChange()}function i(){p.d("cancelAllRequests()"),x.forEach(function(t,e){t.abort()})}function n(){var t={method:"POST",path:"/"+h.bucket+"/"+b.name+"?uploads",step:"initiate",x_amz_headers:b.xAmzHeadersAtInitiate,contentType:b.mimeType};t.onErr=function(t){p.d("onInitiateError for FileUpload "+b.id),e(ERROR)},t.on200=function(e){var i=e.response.match(/<UploadId\>(.+)<\/UploadId\>/);i&&i[1]?(b.uploadId=i[1],p.d("requester success. got uploadId "+b.uploadId),u(),f()):t.onErr()},v(t),y(t)}function r(t){var i,n,r,a;a=_[t],a.status=l,w++,a.loadedBytesPrevious=null,i=0===a.attempts++?0:1e3*Math.min(h.maxRetryBackoffSecs,Math.pow(h.retryBackoffPower,a.attempts-2)),p.d("uploadPart #"+t+"     will wait "+i+"ms to try"),r={method:"PUT",path:"/"+h.bucket+"/"+b.name+"?partNumber="+t+"&uploadId="+b.uploadId,step:"upload #"+t,attempts:a.attempts,contentType:b.mimeType},r.onErr=function(i,r){var s="problem uploading part #"+t+",   http status: "+i.status+",   hasErrored: "+!!n+",   part status: "+a.status+",   readyState: "+i.readyState+(r?",   isOnError":"");if(p.w(s),b.warn(s),!n){if(n=!0,404==i.status){var o="404 error resulted in abortion of both this part and the entire file.";p.w(o+" Server response: "+i.response),b.error(o),a.status=ABORTED,e(ABORTED)}else a.status=ERROR,a.loadedBytes=0,f();i.abort()}},r.on200=function(e){var i,n=e.getResponseHeader("ETag");p.d("uploadPart 200 response for part #"+t+"     ETag: "+n),n!=ETAG_OF_0_LENGTH_BLOB?(a.eTag=n,a.status=d):(a.status=ERROR,a.loadedBytes=0,i="eTag matches MD5 of 0 length blob for part #"+t+"   Retrying part.",p.w(i),b.warn(i)),f()},r.onProgress=function(t){a.loadedBytes=t.loaded};var s=b.file.slice?"slice":b.file.mozSlice?"mozSlice":"webkitSlice";r.toSend=function(){var e=b.file[s](a.start,a.end);return p.d("sending part # "+t+" (bytes "+a.start+" -> "+a.end+")  reported length: "+e.size),0===e.size&&p.w("  *** WARN: blob reporting size of 0 bytes. Will try upload anyway.."),e},r.onFailedAuth=function(e){var i="onFailedAuth for uploadPart #"+t+".   Will set status to ERROR";p.w(i),b.warn(i),a.status=ERROR,a.loadedBytes=0,f()},v(r),setTimeout(function(){y(r),p.d("upload #",t,r)},i),a.uploader=r}function a(t){var e=_[t];e.uploader.awsXhr&&e.uploader.awsXhr.abort(),e.uploader.authXhr&&e.uploader.authXhr.abort()}function c(){p.d("completeUpload"),b.info("will attempt to complete upload");var t="<CompleteMultipartUpload>";_.forEach(function(e,i){e&&(t+="<Part><PartNumber>"+i+"</PartNumber><ETag>"+e.eTag+"</ETag></Part>")}),t+="</CompleteMultipartUpload>";var i={method:"POST",contentType:"application/xml; charset=UTF-8",path:"/"+h.bucket+"/"+b.name+"?uploadId="+b.uploadId,step:"complete"};i.onErr=function(){var t="Error completing upload.";p.w(t),b.error(t),e(ERROR)},i.on200=function(t){b.complete(t),e(d)},i.toSend=function(){return t},v(i),y(i)}function u(){for(var t=Math.ceil(b.file.size/h.partSize),e=1;t>=e;e++)_[e]={status:o,start:(e-1)*h.partSize,end:e*h.partSize,attempts:0,loadedBytes:0,loadedBytesPrevious:null}}function f(){var t,e=0,i=!0,n=!1,a=[],s=[];return b.status!=l?void b.info("will not process parts list, as not currently evaporating"):(_.forEach(function(t,d){var c=!1;if(a.push(t.status),t){switch(t.status){case l:i=!1,e++,s.push(t.loadedBytes);break;case ERROR:n=!0,c=!0;break;case o:c=!0}c&&(i=!1,e<h.maxConcurrentParts&&(r(d),e++))}}),t=a.toString()+" // bytesLoaded: "+s.toString(),p.d("processPartsList()  anyPartHasErrored: "+n,t),(w>=_.length-1||n)&&b.info("part stati: "+t),void(i&&c()))}function m(){N=setInterval(function(){var t=0;_.forEach(function(e,i){t+=e.loadedBytes}),b.progress(t/b.sizeBytes)},h.progressIntervalMS)}function g(){S=setInterval(function(){p.d("monitorPartsProgress() "+Date()),_.forEach(function(t,e){var i;return t.status!=l?void p.d(e,"not evaporating "):null===t.loadedBytesPrevious?(p.d(e,"no previous "),void(t.loadedBytesPrevious=t.loadedBytes)):(i=t.loadedBytesPrevious<t.loadedBytes,h.simulateStalling&&4==e&&Math.random()<.25&&(i=!1),p.d(e,i?"moving. ":"stalled.",t.loadedBytesPrevious,t.loadedBytes),i||setTimeout(function(){b.info("part #"+e+" stalled. will abort. "+t.loadedBytesPrevious+" "+t.loadedBytes),a(e)},0),void(t.loadedBytesPrevious=t.loadedBytes))})},12e4)}function v(t){p.d("setupRequest()",t);var e=(new Date).toUTCString();h.fetchCurrentServerTimeUrl&&(e=$.ajax({type:"GET",url:h.fetchCurrentServerTimeUrl,async:!1,cache:!1}).responseText),t.dateString=e,t.x_amz_headers=s(t.x_amz_headers,{"x-amz-date":t.dateString}),t.onGotAuth=function(){var e=new XMLHttpRequest;x.push(e),t.awsXhr=e;var i=t.toSend?t.toSend():null,n=AWS_URL+t.path;if(h.simulateErrors&&1==t.attempts&&"upload #3"==t.step&&(p.d("simulating error by POST part #3 to invalid url"),n="https:///foo"),e.open(t.method,n),e.setRequestHeader("Authorization","AWS "+h.aws_key+":"+t.auth),t.contentType){var r=t.contentType;r.match(";")||(r+="; charset=UTF-8"),e.setRequestHeader("Content-Type",r)}for(var a in t.x_amz_headers)t.x_amz_headers.hasOwnProperty(a)&&e.setRequestHeader(a,t.x_amz_headers[a]);e.onreadystatechange=function(){4==e.readyState&&(i&&p.d("  ### "+i.size),200==e.status?t.on200(e):t.onErr(e))},e.onerror=function(){t.onErr(e,!0)},"function"==typeof t.onProgress&&(e.upload.onprogress=function(e){t.onProgress(e)}),e.send(i)},t.onFailedAuth=t.onFailedAuth||function(e){b.error("Error onFailedAuth for step: "+t.step),t.onErr(e)}}function y(t){p.d("authorizedSend() "+t.step);var e=new XMLHttpRequest;x.push(e),t.authXhr=e;var i,n=h.signerUrl+"?to_sign="+A(t);for(var r in b.signParams)b.signParams.hasOwnProperty(r)&&(n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(b.signParams[r]));e.onreadystatechange=function(){4==e.readyState&&(200==e.status&&28==e.response.length?(p.d("authorizedSend got signature for step: '"+t.step+"'    sig: "+e.response),t.auth=e.response,t.onGotAuth()):(i="failed to get authorization (readyState=4) for "+t.step+".  xhr.status: "+e.status+".  xhr.response: "+e.response,p.w(i),b.warn(i),t.onFailedAuth(e)))},e.onerror=function(){i="failed to get authorization (onerror) for "+t.step+".  xhr.status: "+e.status+".  xhr.response: "+e.response,p.w(i),b.warn(i),t.onFailedAuth(e)},e.open("GET",n),e.send()}function A(t){var e,i="",n=[];for(var r in t.x_amz_headers)t.x_amz_headers.hasOwnProperty(r)&&n.push(r);n.sort(),n.forEach(function(e,n){i+=e+":"+t.x_amz_headers[e]+"\n"});var a=t.contentType;return b.mimeType&&"complete"!=t.step&&(a=b.mimeType+"; charset=UTF-8"),e=t.method+"\n\n"+(a||"")+"\n\n"+i+t.path,encodeURIComponent(e)}var N,S,b=this,_=[],w=0,x=[];s(b,t),b.start=function(){p.d("starting FileUpload "+b.id),e(l),n(),m(),g()},b.stop=function(){p.d("stopping FileUpload ",b.id),b.cancelled(),b.info("upload canceled"),e(CANCELED),i()}}function s(t,e,i){if("undefined"==typeof t&&(t={}),"object"==typeof i)for(var n in i)e[n]=i[n];for(var r in e)t[r]=e[r];return t}if(this.supported=!("undefined"==typeof File||"undefined"==typeof Blob||!(Blob.prototype.webkitSlice||Blob.prototype.mozSlice||Blob.prototype.slice)||t.testUnsupported),this.supported){var o=0,l=2,d=3;CANCELED=5,ERROR=10,ABORTED=20,AWS_URL="https://s3.amazonaws.com",ETAG_OF_0_LENGTH_BLOB='"d41d8cd98f00b204e9800998ecf8427e"';var c=this,u=[],h=s({logging:!1,maxConcurrentParts:5,partSize:104857600,
retryBackoffPower:2,maxRetryBackoffSecs:300,progressIntervalMS:1e3},t);c.uploadInitiated=function(t){},c.add=function(t){p.d("add");var i;if("undefined"==typeof t)return"Missing file";if("undefined"==typeof t.name&&(i="Missing attribute: name  "),i)return i;var r=e(t);return n(),r},c.cancel=function(t){return p.d("cancel ",t),u[t]?(u[t].stop(),!0):!1},c.pause=function(t){},c.resume=function(t){},c.forceRetry=function(){};var p={d:function(){},w:function(){},e:function(){}};h.logging&&console&&console.log&&(p=console,p.d=p.log,console.warn?p.w=p.warn:p.w=p.log,console.error?p.e=p.error:p.e=p.log)}};define("$vendor/evaporate",function(){}),function(t){function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(this).ajaxSubmit(i))}function i(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;i=r[0]}var a=this;if(a.clk=i,"image"==i.type)if(void 0!==e.offsetX)a.clk_x=e.offsetX,a.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var s=n.offset();a.clk_x=e.pageX-s.left,a.clk_y=e.pageY-s.top}else a.clk_x=e.pageX-i.offsetLeft,a.clk_y=e.pageY-i.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var r={};r.fileapi=void 0!==t("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData,t.fn.ajaxSubmit=function(e){function i(e){var i,n,r=t.param(e).split("&"),a=r.length,s={};for(i=0;a>i;i++)r[i]=r[i].replace(/\+/g," "),n=r[i].split("="),s[decodeURIComponent(n[0])]=decodeURIComponent(n[1]);return s}function a(n){var r=new FormData;if(e.extraData){var a=i(e.extraData);for(var s in a)a.hasOwnProperty(s)&&r.append(s,a[s])}for(var l=0;l<n.length;l++)r.append(n[l].name,n[l].value);e.data=null;var d=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:o||"POST"});e.uploadProgress&&(d.xhr=function(){var t=jQuery.ajaxSettings.xhr();return t.upload&&(t.upload.onprogress=function(t){var i=0,n=t.loaded||t.position,r=t.total;t.lengthComputable&&(i=Math.ceil(n/r*100)),e.uploadProgress(t,n,r,i)}),t}),d.data=null;var c=d.beforeSend;return d.beforeSend=function(t,e){e.data=r,c&&c.call(this,t,e)},t.ajax(d)}function s(i){function r(t){var e=t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document;return e}function a(){function e(){try{var t=r(g).readyState;n("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(i){n("Server abort: ",i," (",i.name,")"),s(x),S&&clearTimeout(S),S=void 0}}var i=c.attr("target"),a=c.attr("action");$.setAttribute("target",p),o||$.setAttribute("method","POST"),a!=u.url&&$.setAttribute("action",u.url),u.skipEncodingOverride||o&&!/post/i.test(o)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),u.timeout&&(S=setTimeout(function(){N=!0,s(w)},u.timeout));var l=[];try{if(u.extraData)for(var d in u.extraData)u.extraData.hasOwnProperty(d)&&(t.isPlainObject(u.extraData[d])&&u.extraData[d].hasOwnProperty("name")&&u.extraData[d].hasOwnProperty("value")?l.push(t('<input type="hidden" name="'+u.extraData[d].name+'">').attr("value",u.extraData[d].value).appendTo($)[0]):l.push(t('<input type="hidden" name="'+d+'">').attr("value",u.extraData[d]).appendTo($)[0]));u.iframeTarget||(m.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1)),setTimeout(e,15),$.submit()}finally{$.setAttribute("action",a),i?$.setAttribute("target",i):c.removeAttr("target"),t(l).remove()}}function s(e){if(!v.aborted&&!M){try{T=r(g)}catch(i){n("cannot access response document: ",i),e=x}if(e===w&&v)return v.abort("timeout"),void _.reject(v,"timeout");if(e==x&&v)return v.abort("server abort"),void _.reject(v,"error","server abort");if(T&&T.location.href!=u.iframeSrc||N){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var a,o="success";try{if(N)throw"timeout";var l="xml"==u.dataType||T.XMLDocument||t.isXMLDoc(T);if(n("isXml="+l),!l&&window.opera&&(null===T.body||!T.body.innerHTML)&&--E)return n("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var d=T.body?T.body:T.documentElement;v.responseText=d?d.innerHTML:null,v.responseXML=T.XMLDocument?T.XMLDocument:T,l&&(u.dataType="xml"),v.getResponseHeader=function(t){var e={"content-type":u.dataType};return e[t]},d&&(v.status=Number(d.getAttribute("status"))||v.status,v.statusText=d.getAttribute("statusText")||v.statusText);var c=(u.dataType||"").toLowerCase(),p=/(json|script|text)/.test(c);if(p||u.textarea){var f=T.getElementsByTagName("textarea")[0];if(f)v.responseText=f.value,v.status=Number(f.getAttribute("status"))||v.status,v.statusText=f.getAttribute("statusText")||v.statusText;else if(p){var y=T.getElementsByTagName("pre")[0],A=T.getElementsByTagName("body")[0];y?v.responseText=y.textContent?y.textContent:y.innerText:A&&(v.responseText=A.textContent?A.textContent:A.innerText)}}else"xml"==c&&!v.responseXML&&v.responseText&&(v.responseXML=j(v.responseText));try{k=I(v,c,u)}catch(e){o="parsererror",v.error=a=e||o}}catch(e){n("error caught: ",e),o="error",v.error=a=e||o}v.aborted&&(n("upload aborted"),o=null),v.status&&(o=v.status>=200&&v.status<300||304===v.status?"success":"error"),"success"===o?(u.success&&u.success.call(u.context,k,"success",v),_.resolve(v.responseText,"success",v),h&&t.event.trigger("ajaxSuccess",[v,u])):o&&(void 0===a&&(a=v.statusText),u.error&&u.error.call(u.context,v,o,a),_.reject(v,"error",a),h&&t.event.trigger("ajaxError",[v,u,a])),h&&t.event.trigger("ajaxComplete",[v,u]),h&&!--t.active&&t.event.trigger("ajaxStop"),u.complete&&u.complete.call(u.context,v,o),M=!0,u.timeout&&clearTimeout(S),setTimeout(function(){u.iframeTarget||m.remove(),v.responseXML=null},100)}}}var l,d,u,h,p,m,g,v,y,A,N,S,$=c[0],b=!!t.fn.prop,_=t.Deferred();if(t("[name=submit],[id=submit]",$).length)return alert('Error: Form elements must not have name or id of "submit".'),_.reject(),_;if(i)for(d=0;d<f.length;d++)l=t(f[d]),b?l.prop("disabled",!1):l.removeAttr("disabled");if(u=t.extend(!0,{},t.ajaxSettings,e),u.context=u.context||u,p="jqFormIO"+(new Date).getTime(),u.iframeTarget?(m=t(u.iframeTarget),A=m.attr("name"),A?p=A:m.attr("name",p)):(m=t('<iframe name="'+p+'" src="'+u.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=m[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(r){}m.attr("src",u.iframeSrc),v.error=i,u.error&&u.error.call(u.context,v,i,e),h&&t.event.trigger("ajaxError",[v,u,i]),u.complete&&u.complete.call(u.context,v,i)}},h=u.global,h&&0===t.active++&&t.event.trigger("ajaxStart"),h&&t.event.trigger("ajaxSend",[v,u]),u.beforeSend&&u.beforeSend.call(u.context,v,u)===!1)return u.global&&t.active--,_.reject(),_;if(v.aborted)return _.reject(),_;y=$.clk,y&&(A=y.name,A&&!y.disabled&&(u.extraData=u.extraData||{},u.extraData[A]=y.value,"image"==y.type&&(u.extraData[A+".x"]=$.clk_x,u.extraData[A+".y"]=$.clk_y)));var w=1,x=2,C=t("meta[name=csrf-token]").attr("content"),P=t("meta[name=csrf-param]").attr("content");P&&C&&(u.extraData=u.extraData||{},u.extraData[P]=C),u.forceSync?a():setTimeout(a,10);var k,T,M,E=50,j=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},F=t.parseJSON||function(t){return window.eval("("+t+")")},I=function(e,i,n){var r=e.getResponseHeader("content-type")||"",a="xml"===i||!i&&r.indexOf("xml")>=0,s=a?e.responseXML:e.responseText;return a&&"parsererror"===s.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(s=n.dataFilter(s,i)),"string"==typeof s&&("json"===i||!i&&r.indexOf("json")>=0?s=F(s):("script"===i||!i&&r.indexOf("javascript")>=0)&&t.globalEval(s)),s};return _}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var o,l,d,c=this;"function"==typeof e&&(e={success:e}),o=this.attr("method"),l=this.attr("action"),d="string"==typeof l?t.trim(l):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:d,success:t.ajaxSettings.success,type:o||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var u={};if(this.trigger("form-pre-serialize",[this,e,u]),u.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=e.traditional;void 0===h&&(h=t.ajaxSettings.traditional);var p,f=[],m=this.formToArray(e.semantic,f);if(e.data&&(e.extraData=e.data,p=t.param(e.data,h)),e.beforeSubmit&&e.beforeSubmit(m,this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,e,u]),u.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=t.param(m,h);p&&(g=g?g+"&"+p:p),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+g,e.data=null):e.data=g;var v=[];if(e.resetForm&&v.push(function(){c.resetForm()}),e.clearForm&&v.push(function(){c.clearForm(e.includeHidden)}),!e.dataType&&e.target){var y=e.success||function(){};v.push(function(i){var n=e.replaceTarget?"replaceWith":"html";t(e.target)[n](i).each(y,arguments)})}else e.success&&v.push(e.success);e.success=function(t,i,n){for(var r=e.context||this,a=0,s=v.length;s>a;a++)v[a].apply(r,[t,i,n||c,c])};var A=t('input[type=file]:enabled[value!=""]',this),N=A.length>0,S="multipart/form-data",$=c.attr("enctype")==S||c.attr("encoding")==S,b=r.fileapi&&r.formdata;n("fileAPI :"+b);var _,w=(N||$)&&!b;e.iframe!==!1&&(e.iframe||w)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){_=s(m)}):_=s(m):_=(N||$)&&b?a(m):t.ajax(e),c.removeData("jqxhr").data("jqxhr",_);for(var x=0;x<f.length;x++)f[x]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!t.isReady&&a.s?(n("DOM not ready, queuing ajaxForm"),t(function(){t(a.s,a.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,e).bind("click.form-plugin",r,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i){var n=[];if(0===this.length)return n;var a=this[0],s=e?a.getElementsByTagName("*"):a.elements;if(!s)return n;var o,l,d,c,u,h,p;for(o=0,h=s.length;h>o;o++)if(u=s[o],d=u.name)if(e&&a.clk&&"image"==u.type)u.disabled||a.clk!=u||(n.push({name:d,value:t(u).val(),type:u.type}),n.push({name:d+".x",value:a.clk_x},{name:d+".y",value:a.clk_y}));else if(c=t.fieldValue(u,!0),c&&c.constructor==Array)for(i&&i.push(u),l=0,p=c.length;p>l;l++)n.push({name:d,value:c[l]});else if(r.fileapi&&"file"==u.type&&!u.disabled){i&&i.push(u);var f=u.files;if(f.length)for(l=0;l<f.length;l++)n.push({name:d,value:f[l],type:u.type});else n.push({name:d,value:"",type:u.type})}else null!==c&&"undefined"!=typeof c&&(i&&i.push(u),n.push({name:d,value:c,type:u.type,required:u.required}));if(!e&&a.clk){var m=t(a.clk),g=m[0];d=g.name,d&&!g.disabled&&"image"==g.type&&(n.push({name:d,value:m.val()}),n.push({name:d+".x",value:a.clk_x},{name:d+".y",value:a.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var n=this.name;if(n){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var a=0,s=r.length;s>a;a++)i.push({name:n,value:r[a]});else null!==r&&"undefined"!=typeof r&&i.push({name:this.name,value:r})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,r=this.length;r>n;n++){var a=this[n],s=t.fieldValue(a,e);null===s||"undefined"==typeof s||s.constructor==Array&&!s.length||(s.constructor==Array?t.merge(i,s):i.push(s))}return i},t.fieldValue=function(e,i){var n=e.name,r=e.type,a=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!e.checked||("submit"==r||"image"==r)&&e.form&&e.form.clk!=e||"select"==a&&-1==e.selectedIndex))return null;if("select"==a){var s=e.selectedIndex;if(0>s)return null;for(var o=[],l=e.options,d="select-one"==r,c=d?s+1:l.length,u=d?s:0;c>u;u++){var h=l[u];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),d)return p;o.push(p)}}return o}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();i.test(n)||"textarea"==r?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==n?t.browser.msie?t(this).replaceWith(t(this).clone()):t(this).val(""):e&&(e===!0&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}(jQuery),define("$vendor/jquery.form",function(){}),define("$app/data/with_file_upload",["flight/lib/compose","$app/utils/with_s3","$app/utils/file","$app/utils/mimetypes","$vendor/evaporate","$vendor/jquery.form"],function(t,e,i,n){function r(){t.mixin(this,[e]),this.uploadWithCors=function(t,e){var r=$("#"+e.formId),a=r.serializeArray(),s=e.userExternalId,o=e.file,l=this.attr.isUserAsset?"attachments":"files",d=i.getS3Key(i.generateGuid(),encodeURIComponent(o.name).replace("'","%27"),s,l);if(!s)throw"Could not determine user external id, please make sure to set data-user-external-id on your uploader form element";this.attr.evaporate||(this.attr.evaporate=new Evaporate({signerUrl:Routes.s3_utility_generate_multipart_signature_path(),aws_key:i.determineAWSAccessKeyIdForForm(r),bucket:i.determineS3BucketForForm(r),fetchCurrentServerTimeUrl:Routes.s3_utility_current_utc_time_string_path()})),this.attr.evaporate.add({name:d,originalName:o.name,file:o,url:r.data("s3-url"),mimeType:n.get(o.name),previousProgress:0,xAmzHeadersAtInitiate:{"x-amz-acl":"public-read"},complete:function(){this.trigger(this.attr.dataEvent,{s3Key:d,isS3:!0,originalFormData:a})}.bind(this),progress:function(t){this.attr.uploadedProgressedEvent&&this.trigger(this.attr.uploadProgressedEvent,{progress:t})}.bind(this),initiated:function(t){}}),this.trigger(this.attr.uploadStartedEvent,e)},this.determineS3BucketForForm=function(t){var e=t.data("s3-url");if(e){var i=e.split("/");return i[i.length-1]}throw"Could not determine S3 bucket, please make sure to set data-s3-url on your uploader form element"},this.determineAWSAccessKeyIdForForm=function(t){if(t.data("aws-access-key-id"))return t.data("aws-access-key-id");throw"Could not determine AWSAccessKeyId, please make sure to set aws-access-key-id on your uploader form element"},this.filterNonFileInputs=function(t){for(var e=0;e<t.length;e++)"file"!=t[e].name&&(t.splice(e,1),e--)},this.after("initialize",function(){"string"==typeof this.attr.uiUploadWithCorsEvent&&this.on(this.attr.uiUploadWithCorsEvent,this.uploadWithCors)})}return r}),define("$app/data/customization_modules",["flight/lib/component","$app/data/with_file_upload"],function(t,e){function i(){this.defaultAttrs({uploadStartedEvent:"dataUploadingBackgroundStarted",uiUploadWithCorsEvent:"uiNeedsToUploadBackgroundWithCors",uiUploadWithNonCorsEvent:"uiNeedsToUploadBackgroundWithNonCors",dataEvent:"dataBackground"}),this.getCustomizationModules=function(t,e){$.ajax({type:"GET",url:e.permalink?Routes.panel_link_path(e.permalink):Routes.user_panel_path(e.username),dataType:"json"}).done(function(t){t.success&&this.trigger("dataCustomizationModules",t)}.bind(this))},this.getColorsFromTwitter=function(t){$.ajax({type:"POST",url:Routes.pull_colors_from_tw_settings_path()}).done(function(t){t.success?this.trigger("dataColorsFromTwitter",t.styles):this.trigger("dataFailedToGetColorsFromTwitter")}.bind(this))},this.after("initialize",function(){this.on(document,"uiNeedsToGetCustomizationModules",this.getCustomizationModules),this.on(document,"uiNeedsToGetColorsFromTwitter",this.getColorsFromTwitter)})}return t(i,e)}),define("$app/data/with_async_form",[],function(){function t(){this.submitForm=function(t,e){$.ajax({type:"POST",dataType:"json",url:e.url,data:e.serializedFormData}).done(function(t){t.success?this.trigger(this.attr.submitSucceededEvent,t):this.trigger(this.attr.submitFailedEvent,t)}.bind(this))},this.after("initialize",function(){this.on(document,this.attr.submitEvent,this.submitForm)})}return t}),define("$app/data/user_settings",["flight/lib/component","$app/data/with_async_form"],function(t,e){function i(){this.defaultAttrs({submitEvent:"uiNeedsToUpdateUserSettings",submitSucceededEvent:"dataUserSettings",submitFailedEvent:"dataFailedToUpdateUserSettings"}),this.saveCreditCard=function(t,e){$.ajax({type:"POST",url:Routes.settings_credit_card_path(),data:e,dataType:"json"}).done(function(t){t.success?this.trigger("dataCreditCardSaveSuccess",t):this.trigger("dataCreditCardSaveFail",t)}.bind(this)).fail(function(){this.trigger("dataCreditCardSaveFail")}.bind(this))},this.changeFanpagePermissions=function(t,e){FB.login(function(){this.trigger("dataFacebookLoginForChangingPermissions"),$.ajax({type:"POST",dataType:"json",url:"/settings",data:{"user[manage_pages]":!0,authenticity_token:e.auth_token}}).done(function(){this.trigger("dataFanpagePermissionsChanged")}.bind(this))}.bind(this),{scope:"email,manage_pages"})},this.deleteAccount=function(t,e){$.ajax({url:Routes.deactivate_account_path(),type:"POST",dataType:"json"}).done(function(t){t.success?this.trigger("dataDeletedAccount"):this.trigger("dataFailedToDeleteAccount")}.bind(this))},this.resendConfirmationEmail=function(){$.ajax({type:"POST",dataType:"json",url:Routes.resend_confirmation_settings_path()}).done(function(){this.trigger("dataResentConfirmationEmail")}.bind(this))},this.saveUserOrientationInfo=function(t,e){$.ajax({type:"POST",url:Routes.update_user_orientation_info_settings_path(),data:e.formData,dataType:"json"}).done(function(t){t.success?this.trigger("dataUserOrientationInfoSaveSuccess",t):this.trigger("dataUserOrientationSaveFail",t)}.bind(this)).fail(function(){this.trigger("dataUserOrientationSaveFail")}.bind(this))},this.enableShipstation=function(t,e){$.ajax({type:"POST",url:Routes.enable_shipstation_settings_path(),data:e,dataType:"json"}).done(function(t){t.success?this.trigger("dataEnableShipstationSucceeded",t):this.trigger("dataEnableShipstationFailed",t)}.bind(this)).fail(function(){this.trigger("dataEnableShipstationFailed")}.bind(this))},this.previewStyleComponent=function(t,e){$.ajax({type:"GET",url:Routes.preview_style_component_settings_path(),data:e,dataType:"json"}).done(function(t){this.trigger("dataStyleComponentPreview",t)}.bind(this))},this.after("initialize",function(){this.on("uiNeedsToSaveCreditCard",this.saveCreditCard),this.on("uiNeedsToChangeFanpagePermissions",this.changeFanpagePermissions),this.on("uiNeedsToDeleteAccount",this.deleteAccount),this.on("uiNeedsToResendConfirmationEmail",this.resendConfirmationEmail),this.on("uiNeedsToSaveUserOrientationInfo",this.saveUserOrientationInfo),this.on("uiNeedsToEnableShipstation",this.enableShipstation),this.on("uiNeedsToPreviewStyleComponent",this.previewStyleComponent)})}return t(i,e)}),define("$app/data/google_analytics",["flight/lib/component"],function(t){function e(){this.defaultAttrs({eventToDescription:{viewed:"viewed product",iwantthis:'clicked "I want this!" button',purchased:"purchased a product"}}),this.trackProductEvent=function(t,e){if("undefined"!=typeof ga){var i=0;"undefined"!=typeof e.value&&(i=parseInt(e.value)),ga("sellerTracker.send","event","product-"+e.permalink,e.action,this.attr.eventToDescription[e.action],i)}},this.trackVirtualPageView=function(t,e){if("undefined"!=typeof ga){var i=window.location.pathname+window.location.search,n=this.attr.eventToDescription[e.action];"viewed"!=e.action&&(i+="?"+e.action),ga("sellerTracker.send","pageview",{page:i,title:n})}},this.trackECommerceForSeller=function(t,e){if("undefined"!=typeof ga){var i={id:e.purchase_external_id,name:e.product_name,sku:e.permalink,price:e.price,quantity:e.quantity},n={id:e.purchase_external_id,affiliation:"Gumroad",revenue:e.price,tax:e.tax,currency:e.currency};ga("sellerTracker.ecommerce:addTransaction",n),ga("sellerTracker.ecommerce:addItem",i),ga("sellerTracker.ecommerce:send")}},this.startTrackingForSeller=function(t,e){"undefined"!=typeof ga&&(e.googleAnalyticsCrossDomains?(ga("create",e.googleAnalyticsId,"gumroad.com",{name:"sellerTracker",allowLinker:!0}),ga("sellerTracker.require","linker"),ga("sellerTracker.linker:autoLink",$.map(e.googleAnalyticsCrossDomains.split(","),function(t){return t.trim()}))):ga("create",e.googleAnalyticsId,"gumroad.com",{name:"sellerTracker"}),ga("sellerTracker.require","ecommerce"))},this.after("initialize",function(){this.on(document,"uiNeedsToTrackActivityWithSellerGoogleAnalytics",this.trackProductEvent),this.on(document,"uiNeedsToTrackActivityWithSellerGoogleAnalytics",this.trackVirtualPageView),this.on(document,"uiNeedsToStartTrackingForSellerGoogleAnalytics",this.startTrackingForSeller),this.on(document,"uiNeedsToTrackECommerceEventWithSellerGoogleAnalytics",this.trackECommerceForSeller)})}return t(e)}),define("$app/data/product_seller",["flight/lib/component","$app/data/with_async_form","$app/data/with_file_upload"],function(t,e,i){function n(){this.defaultAttrs({submitEvent:"uiNeedsToCreateProduct",submitSucceededEvent:"dataNewProduct",submitFailedEvent:"dataFailedToCreateProduct",isUserAsset:!0,uploadStartedEvent:"dataUploadingProductFileStarted",uploadProgressedEvent:"dataUploadingProductFileProgressed",dataEvent:"dataProductFile",uiUploadWithNonCorsEvent:"uiNeedsToUploadProductFileWithNonCors",uiUploadWithCorsEvent:"uiNeedsToUploadProductFileWithCors"}),this.updateCustomizationModules=function(t,e){var i=e.customAttributes,n=e.customFields;0==i.length&&(i=[""]),0==n.length&&(n=[""]),$.ajax({type:"POST",dataType:"json",url:Routes.link_path(e.uniquePermalink,{format:"json"}),data:{link:{i_want_this_button_text_option:e.iWantThisButtonTextOption,custom_summary:e.customSummary,custom_attributes:i,custom_receipt:e.customReceipt,require_shipping:e.requireShipping,cardholder_name_switch:e.cardholderNameSwitch,custom_fields:n,removed_file_info_attributes:e.removedFileInfoAttributes}}}).done(function(t){t.success?this.trigger("dataProductUpdated",{changed:t.changed}):this.trigger("dataProductFailedToUpdate",{error_message:t.error_message})}.bind(this))},this.updateProduct=function(t,e){return $.ajax({type:"POST",dataType:"json",url:Routes.link_path(e.uniquePermalink,{format:"json"}),data:e.serializedFormData}).done(function(t){t.success?(this.trigger("dataProduct",t),this.trigger("uiNeedsToResetVariants",t.variant_list),this.trigger("uiNeedsToResetOfferCodes",t.offer_code_list),this.trigger("uiNeedsToResetShippingDestinations",t.serialized_shipping_destinations),this.trigger("uiResetDatePicker"),this.trigger("uiNeedsToResetProductFilesGroupings"),this.trigger("uiNeedsToDrawFileList",{files_data:t.files_data})):(this.trigger("dataFailedToUpdateProduct",t),t.offer_code_list&&this.trigger("uiNeedsToResetOfferCodes",t.offer_code_list))}.bind(this)),!1},this.deleteProduct=function(t,e){$.ajax({type:"DELETE",dataType:"json",url:Routes.link_path(e.permalink)}).done(function(t){t.permalink=e.permalink,t.success?this.trigger("dataProductDeleted",t):this.trigger("dataFailedToDeleteProduct",t)}.bind(this))},this.undoDeleteProduct=function(t,e){$.ajax({type:"POST",dataType:"json",url:e.url}).done(function(t){this.trigger("dataProductUndone",t)}.bind(this))},this.releasePreorder=function(t,e){$.ajax({type:"POST",dataType:"json",url:Routes.release_preorder_path(e.permalink)}).done(function(t){t.success?this.trigger("dataReleasedPreorder"):this.trigger("dataFailedToReleasePreorder",t)}.bind(this))},this.loadMoreProducts=function(t,e){$.ajax({type:"GET",dataType:"html",url:Routes.links_paged_path({page:e.page})}).done(function(t){this.trigger("dataProducts",{html:t})}.bind(this))},this.getProductsStats=function(){$.get(Routes.dashboard_realtime_data_path({format:"json"}),function(t){this.trigger("dataProductsStats",t)}.bind(this))},this.sendProductFileUpdate=function(t,e){$.ajax({type:"POST",dataType:"json",url:Routes.send_message_for_file_update_path({id:e.id}),data:{message:e.message}}).done(function(t){t.success?this.trigger("dataSuccessfullySentProductFileUpdate",t):this.trigger("dataFailedToSendProductFileUpdate",t)}.bind(this))},this.saveCustomSku=function(t,e){$.ajax({type:"POST",dataType:"json",url:Routes.update_custom_sku_path({id:e.link_id}),data:e}).done(function(t){t.success?this.trigger("dataSuccessfullyUpdatedCustomSku",t):this.trigger("dataFailedToUpdateCustomSku")}.bind(this))},this.after("initialize",function(){this.on("uiNeedsToUpdateProduct",this.updateProduct),this.on("uiNeedsToReleasePreorder",this.releasePreorder),this.on("uiNeedsToDeleteProduct",this.deleteProduct),this.on("uiNeedsToUndoProductDelete",this.undoDeleteProduct),this.on("uiNeedsToUpdateCustomizationModules",this.updateCustomizationModules),this.on("uiNeedsToLoadMoreProducts",this.loadMoreProducts),this.on("uiNeedsProductsStats",this.getProductsStats),this.on("uiNeedsToSendProductFileUpdate",this.sendProductFileUpdate),this.on("uiNeedsToSaveCustomSku",this.saveCustomSku)})}return t(n,e,i)}),define("$app/data/recommended_products",["flight/lib/component"],function(t){function e(){this.getRecommendedProducts=function(t,e){$.ajax({type:"GET",dataType:"json",url:Routes.recommended_products_path({id:e.permalink})}).done(function(t){t.success&&this.trigger("dataRecommendedProducts",t)}.bind(this))},this.after("initialize",function(){this.on("uiNeedsToGetRecommendedProducts",this.getRecommendedProducts)})}return t(e)}),define("$app/data/customer_surcharge",["flight/lib/component"],function(t){function e(){this.getCustomerSurcharge=function(t,e){$.ajax({url:Routes.customer_surcharge_path(e.externalId,e.sellerId,0|e.isTaxExclusive,Math.round(e.priceCents),e.quantity),data:{postal_code:e.postalCode,country:e.country,physical:e.isPhysical},type:"GET"}).done(function(t){e.isPartOfBundle?(t.permalink=e.permalink,this.trigger("dataCustomerSurchargeForBundle",t)):this.trigger(e.productNode,"dataCustomerSurcharge",t)}.bind(this))},this.after("initialize",function(){this.on(document,"uiNeedsProductCustomerSurcharge",this.getCustomerSurcharge)})}return t(e)}),define("$app/data/consumption_analytics",["flight/lib/component"],function(t){function e(){this.createConsumptionEvent=function(t,e){$.ajax({type:"POST",url:Routes.create_consumption_event_path({format:"json"}),dataType:"json",data:{event_type:e.eventType,platform:e.platform,url_redirect_id:e.urlRedirectId,product_file_id:e.productFileId,purchase_id:e.purchaseId,media_location_percentage:e.mediaLocationPercentage,epub_section_id:e.epubSectionId}}).done(function(t){t.success?this.trigger("data_created_consumption_event",t):this.trigger("data_failed_to_create_consumption_event",t)}.bind(this))},this.getConsumptionAnalytics=function(t,e){var i=e.startTime,n=e.endTime;$.ajax({type:"GET",url:Routes.consumption_stats_path({start_time:i,end_time:n,format:"json"}),dataType:"json"}).done(function(t){t.success?this.trigger("dataAudienceConsumptionAnalytics",{total_consumption_stats:t.total_consumption_stats,unique_by_purchase_consumption_stats:t.unique_by_purchase_consumption_stats}):this.trigger("dataFailedToGetAudienceConsumptionAnalytics",t)}.bind(this))},this.getPerFileConsumptionAnalytics=function(t,e){var i=e.startTime,n=e.endTime,r=e.uniquePermalinks,a=!1,s=e.shouldDisplayUniqueData||!1,o=e.limit;null==r&&(a=!0),$.ajax({type:"GET",url:Routes.per_file_consumption_stats_path({start_time:i,end_time:n,unique_permalinks:r,should_get_all_products:a,unique_by_purchase:s,limit:o,format:"json"}),dataType:"json"}).done(function(t){t.success?this.trigger("dataAudiencePerFileConsumptionAnalytics",{per_file_consumption_stats:t.per_file_consumption_stats,has_more_results:t.has_more_results}):this.trigger("dataFailedToGetAudiencePerFileConsumptionAnalytics",t)}.bind(this))},this.after("initialize",function(){this.on(document,"uiNeedsToTrackConsumptionEvent",this.createConsumptionEvent),this.on(document,"uiDateRangeChanged",this.getConsumptionAnalytics),this.on(document,"uiDateRangeChanged",this.getPerFileConsumptionAnalytics),this.on(document,"uiNeedsPerFileConsumptionAnalytics",this.getPerFileConsumptionAnalytics)})}return t(e)}),define("$app/data/boostable_retargeting",["flight/lib/component"],function(t){function e(){this.defaultAttrs({cart:[],enabled:!1,boostableIdSelector:'meta[property="gr:boostable_id"]'}),this.initializeBoostJS=function(t){window.bst||(window.bst=t=function(){t.event?t.event.apply(t,arguments):t.q.push(arguments)},t.q=[],t.v="2.0",t.document=Date.now());var e=document.createElement("script");e.src="https://cdn.boostable.com/tr.js",e.async=!0,document.head.appendChild(e),bst("init",$(this.attr.boostableIdSelector).attr("value"))},this.enableRetargeting=function(){this.attr.enabled||(this.attr.enabled=!0,this.initializeBoostJS())},this.ecommerceItem=function(t){return{sku:t.externalId,name:t.name,category:t.vertical,cost:t.price,currency:t.currency,quantity:t.quantity||1}},this.removeFromCart=function(t){if(1==this.attr.cart.length)this.attr.cart=[];else for(var e=0;e<this.attr.cart.length;e++)this.attr.cart[e].sku==t.externalId&&this.attr.cart.splice(e,1)},this.addToCart=function(t){this.attr.cart.push(t)},this.getItemFromCart=function(t){if(1==this.attr.cart.length)return this.attr.cart[0];for(var e=0;e<this.attr.cart.length;e++)if(this.attr.cart[e].sku==t)return this.attr.cart[e];return{}},this.trackECommerceView=function(t,e){"undefined"!=typeof bst&&this.attr.enabled&&bst("view",this.ecommerceItem(e))},this.trackECommerceCart=function(t,e){"undefined"!=typeof bst&&this.attr.enabled&&("add"==e.cartAction?this.addToCart(this.ecommerceItem(e)):this.removeFromCart(e),bst("cart",this.attr.cart))},this.trackECommerceOrder=function(t,e){if("undefined"!=typeof bst&&this.attr.enabled){var i=this.getItemFromCart(e.productExternalId),n={id:e.externalId,total:e.total,subTotal:e.total-e.shipping-e.tax,tax:e.tax,shipping:e.shipping,currency:e.currency,cart:i};bst("purchase",n)}},this.after("initialize",function(){this.on(document,"uiNeedsToEnableRetargeting",this.enableRetargeting),this.on(document,"uiNeedsToTrackECommerceView",this.trackECommerceView),this.on(document,"uiNeedsToTrackECommerceCartUpdate",this.trackECommerceCart),this.on(document,"uiNeedsToTrackECommerceOrder",this.trackECommerceOrder)})}return t(e)}),define("$app/pages/product",["$app/utils/base_page","$app/ui/product/product","$app/ui/product/recommendations","$app/ui/product/seller","$app/ui/product/embed","$app/ui/product/modal","$app/ui/shared/customization_modules_container","$app/ui/shared/customization_modules_form","$app/ui/product/product_flow","$app/ui/product/with_edit_payment_form","$app/ui/shared/email_modal","$app/ui/shared/locale_selector","$app/ui/shared/sharing","$app/ui/shared/login","$app/ui/shared/tip_marker","$app/ui/shared/demo","$app/ui/shared/friend","$app/ui/shared/mobile_app_popover","$app/ui/shared/external_links","$app/ui/shared/purchase_form_debug","$app/ui/shared/overlay","$app/ui/shared/scroll_cta","$app/data/open_in_app","$app/data/user_info","$app/data/offer_code","$app/data/purchase","$app/data/paypal_order","$app/data/account","$app/data/shipping","$app/data/social","$app/data/customization_modules","$app/data/user_settings","$app/data/google_analytics","$app/data/product_seller","$app/data/recommended_products","$app/data/customer_surcharge","$app/data/consumption_analytics","$app/data/boostable_retargeting","$app/utils/mobile","$app/utils/gumroad_utils"],function(t,e,i,n,r,a,s,o,l,d,c,u,h,p,f,m,g,v,y,A,N,S,b,_,w,x,C,P,k,T,M,E,j,F,I,B,R,D,O,U){
function L(){var L=U.isModal(),q=U.isEmbed(),z=U.isOutboundEmbed(),H=U.isRecommended(),V=!!window.location.search.match(/debug/),W=O.isOnMobile(),G=$(".product").data("general-permalink"),K="demo"==G;t.initialize(),_.attachTo(document),w.attachTo(document),x.attachTo(document),C.attachTo(document),P.attachTo(document),b.attachTo(document),k.attachTo(document),T.attachTo(document),M.attachTo(document),E.attachTo(document),j.attachTo(document),F.attachTo(document),I.attachTo(document),B.attachTo(document),R.attachTo(document),D.attachTo(document),g.attachTo(document),v.attachTo(document),N.attachTo(document),S.attachTo(document),y.attachTo(".product-description"),p.attachTo("#login"),h.attachTo(".js-sharing",{isModal:L}),e.attachTo(".js-main-product-row",{incrementViewCountOnInit:!0,isDemo:K,isMobile:W,isModal:L,isEmbed:q,isOutboundEmbed:z,wasProductRecommended:H,onProductPage:!0}),n.attachTo(".js-creator-profile-card"),s.attachTo(".js-customization-modules-container",{permalink:G,onProductPage:!0}),o.attachTo("#customization_modules_form",{permalink:G}),l.attachTo(".js-purchase-flow",{permalink:G}),d.attachTo(".js-main-product-row"),L?a.attachTo("body"):q?r.attachTo("body"):K&&(W||f.attachTo(".tip-marker"),m.attachTo("body"),$(document).trigger("uiActivateDemo")),c.attachTo(".modals-container",{permalink:G}),u.attachTo(".js-locale-holder",{permalink:G}),i.attachTo(".buyer-bar-container",{permalink:G,isDemo:K,isMobile:W,isModal:L,isEmbed:q}),A.attachTo(document),V&&$(document).trigger("uiNeedsToGetRecommendedProducts",{permalink:G})}return L}),function(){require(["$app/pages/product"],function(t){t()})}(),define("boot/product",function(){});